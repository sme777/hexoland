var be=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var Ae={};
/*!
 * jsoneditor.js
 *
 * @brief
 * JSONEditor is a web-based tool to view, edit, format, and validate JSON.
 * It has various modes such as a tree editor, a code editor, and a plain text
 * editor.
 *
 * Supported browsers: Chrome, Firefox, Safari, Edge
 *
 * @license
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 *
 * Copyright (c) 2011-2024 Jos de Jong, http://jsoneditoronline.org
 *
 * @author  Jos de Jong, <wjosdejong@gmail.com>
 * @version 10.0.3
 * @date    2024-04-25
 */!function(be,we){Ae=we()}(self,(function(){return Ae={6545:function(Ae,we,xe){xe.d(we,{t:function(){return Ee}});var Se=xe(1925),ke=xe(6237),Te=xe(3057);function o(be){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function i(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=o(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=o(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==o(be)?be:be+""}(xe.key),xe)}}var Ee=function(){function l(Ae,we){if(!((this||be)instanceof l))throw new TypeError("Cannot call a class as a function");(this||be).dom={};var xe=this||be,Se=(this||be).dom,ke=(we=((this||be).anchor=void 0,(this||be).items=Ae,(this||be).eventListeners={},(this||be).selection=void 0,(this||be).onClose=we?we.close:void 0,(this||be).limitHeight=!!we&&we.limitHeight,document.createElement("div")),we.className="jsoneditor-contextmenu-root",Se.root=we,document.createElement("div"));we=(ke.className="jsoneditor-contextmenu",Se.menu=ke,we.appendChild(ke),document.createElement("ul")),ke=(we.className="jsoneditor-menu",ke.appendChild(we),Se.list=we,Se.items=[],document.createElement("button")),Se=(ke.type="button",Se.focusButton=ke,document.createElement("li"));Se.style.overflow="hidden",Se.style.height="0",Se.appendChild(ke),we.appendChild(Se),function a(be,Ae,we){we.forEach((function(we){var Se,ke,Ee,Re,_e,$e;"separator"===we.type?((_e=document.createElement("div")).className="jsoneditor-separator",(ke=document.createElement("li")).appendChild(_e),be.appendChild(ke)):(Se={},_e=document.createElement("li"),be.appendChild(_e),(ke=document.createElement("button")).type="button",ke.className=we.className,Se.button=ke,we.title&&(ke.title=we.title),we.click&&(ke.onclick=function(be){be.preventDefault(),xe.hide(),we.click()}),_e.appendChild(ke),we.submenu?((Re=document.createElement("div")).className="jsoneditor-icon",ke.appendChild(Re),(Re=document.createElement("div")).className="jsoneditor-text"+(we.click?"":" jsoneditor-right-margin"),Re.appendChild(document.createTextNode(we.text)),ke.appendChild(Re),(Ee=we.click?(ke.className+=" jsoneditor-default",(Re=document.createElement("button")).type="button",(Se.buttonExpand=Re).className="jsoneditor-expand",($e=document.createElement("div")).className="jsoneditor-expand",Re.appendChild($e),_e.appendChild(Re),we.submenuTitle&&(Re.title=we.submenuTitle),Re):(($e=document.createElement("div")).className="jsoneditor-expand",ke.appendChild($e),ke)).onclick=function(be){be.preventDefault(),xe._onExpandItem(Se),Ee.focus()},Se.subItems=Re=[],$e=document.createElement("ul"),(Se.ul=$e).className="jsoneditor-menu",$e.style.height="0",_e.appendChild($e),a($e,Re,we.submenu)):((_e=document.createElement("div")).className="jsoneditor-icon",ke.appendChild(_e),($e=document.createElement("div")).className="jsoneditor-text",$e.appendChild(document.createTextNode((0,Te.Tl)(we.text))),ke.appendChild($e)),Ae.push(Se))}))}(we,(this||be).dom.items,Ae),(this||be).maxHeight=0,Ae.forEach((function(be){be=24*(Ae.length+(be.submenu?be.submenu.length:0));xe.maxHeight=Math.max(xe.maxHeight,be)}))}return Ae=l,(we=[{key:"_getVisibleButtons",value:function(){var Ae=[],we=this||be;return(this||be).dom.items.forEach((function(be){Ae.push(be.button),be.buttonExpand&&Ae.push(be.buttonExpand),be.subItems&&be===we.expandedItem&&be.subItems.forEach((function(be){Ae.push(be.button),be.buttonExpand&&Ae.push(be.buttonExpand)}))})),Ae}},{key:"show",value:function(Ae,we,xe){this.hide();var Te=!0,Ee=Ae.parentNode,Re=Ae.getBoundingClientRect(),_e=(Ee=Ee.getBoundingClientRect(),we.getBoundingClientRect()),$e=this||be;we=((this||be).dom.absoluteAnchor=(0,Se.p)(Ae,we,(function(){$e.hide()})),Re.bottom+(this||be).maxHeight<_e.bottom||Re.top-(this||be).maxHeight>_e.top&&(Te=!1),xe?0:Re.top-Ee.top);Te?(xe=Ae.offsetHeight,(this||be).dom.menu.style.left="0",(this||be).dom.menu.style.top=we+xe+"px",(this||be).dom.menu.style.bottom=""):((this||be).dom.menu.style.left="0",(this||be).dom.menu.style.top="",(this||be).dom.menu.style.bottom="0px"),(this||be).limitHeight&&(Ee=Te?_e.bottom-Re.bottom-10:Re.top-_e.top-10,(this||be).dom.list.style.maxHeight=Ee+"px",(this||be).dom.list.style.overflowY="auto"),(this||be).dom.absoluteAnchor.appendChild((this||be).dom.root),(this||be).selection=(0,ke.getSelection)(),(this||be).anchor=Ae,setTimeout((function(){$e.dom.focusButton.focus()}),0),l.visibleMenu&&l.visibleMenu.hide(),l.visibleMenu=this||be}},{key:"hide",value:function(){(this||be).dom.absoluteAnchor&&((this||be).dom.absoluteAnchor.destroy(),delete(this||be).dom.absoluteAnchor),(this||be).dom.root.parentNode&&((this||be).dom.root.parentNode.removeChild((this||be).dom.root),(this||be).onClose)&&this.onClose(),l.visibleMenu===(this||be)&&(l.visibleMenu=void 0)}},{key:"_onExpandItem",value:function(Ae){var we,xe=this||be,Se=Ae===(this||be).expandedItem,Te=(this||be).expandedItem;Te&&(Te.ul.style.height="0",Te.ul.style.padding="",setTimeout((function(){xe.expandedItem!==Te&&(Te.ul.style.display="",ke.removeClassName)(Te.ul.parentNode,"jsoneditor-selected")}),300),(this||be).expandedItem=void 0),Se||((we=Ae.ul).style.display="block",we.clientHeight,setTimeout((function(){if(xe.expandedItem===Ae){for(var be=0,Se=0;Se<we.childNodes.length;Se++)be+=we.childNodes[Se].clientHeight;we.style.height=be+"px",we.style.padding="5px 10px"}}),0),(0,ke.addClassName)(we.parentNode,"jsoneditor-selected"),(this||be).expandedItem=Ae)}},{key:"_onKeyDown",value:function(Ae){var we,xe,Se,Te,Ee=Ae.target,Re=Ae.which,_e=!1;27===Re?((this||be).selection&&(0,ke.setSelection)((this||be).selection),(this||be).anchor&&(this||be).anchor.focus(),this.hide(),_e=!0):9===Re?Ae.shiftKey?0===(xe=(we=this._getVisibleButtons()).indexOf(Ee))&&(we[we.length-1].focus(),_e=!0):(xe=(we=this._getVisibleButtons()).indexOf(Ee))===we.length-1&&(we[0].focus(),_e=!0):37===Re?("jsoneditor-expand"===Ee.className&&(xe=(we=this._getVisibleButtons()).indexOf(Ee),Se=we[xe-1])&&Se.focus(),_e=!0):38===Re?(xe=(we=this._getVisibleButtons()).indexOf(Ee),(Se=(Se=(Se=we[xe-1])&&"jsoneditor-expand"===Se.className?we[xe-2]:Se)||we[we.length-1])&&Se.focus(),_e=!0):39===Re?(xe=(we=this._getVisibleButtons()).indexOf(Ee),(Te=we[xe+1])&&"jsoneditor-expand"===Te.className&&Te.focus(),_e=!0):40===Re&&(xe=(we=this._getVisibleButtons()).indexOf(Ee),(Te=(Te=(Te=we[xe+1])&&"jsoneditor-expand"===Te.className?we[xe+2]:Te)||we[0])&&(Te.focus(),_e=!0),_e=!0),_e&&(Ae.stopPropagation(),Ae.preventDefault())}}])&&i(Ae.prototype,we),xe&&i(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}();Ee.visibleMenu=void 0},2115:function(Ae,we,xe){function o(be){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function r(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=o(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=o(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==o(be)?be:be+""}(xe.key),xe)}}xe.d(we,{N:function(){return Se}});var Se=function(){function n(Ae){if(!((this||be)instanceof n))throw new TypeError("Cannot call a class as a function");(this||be).errorTableVisible=Ae.errorTableVisible,(this||be).onToggleVisibility=Ae.onToggleVisibility,(this||be).onFocusLine=Ae.onFocusLine||function(){},(this||be).onChangeHeight=Ae.onChangeHeight,(this||be).dom={};Ae=document.createElement("div");var we=(Ae.className="jsoneditor-validation-errors-container",(this||be).dom.validationErrorsContainer=Ae,document.createElement("div"));Ae=(we.style.display="none",we.className="jsoneditor-additional-errors fadein",we.textContent="Scroll for more ▿",(this||be).dom.additionalErrorsIndication=we,Ae.appendChild(we),document.createElement("span")),we=(Ae.className="jsoneditor-validation-error-icon",Ae.style.display="none",(this||be).dom.validationErrorIcon=Ae,document.createElement("span"));we.className="jsoneditor-validation-error-count",we.style.display="none",(this||be).dom.validationErrorCount=we,(this||be).dom.parseErrorIndication=document.createElement("span"),(this||be).dom.parseErrorIndication.className="jsoneditor-parse-error-icon",(this||be).dom.parseErrorIndication.style.display="none"}return Ae=n,(we=[{key:"getErrorTable",value:function(){return(this||be).dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return(this||be).dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return(this||be).dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return(this||be).dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){(this||be).errorTableVisible=!(this||be).errorTableVisible,this.onToggleVisibility((this||be).errorTableVisible)}},{key:"setErrors",value:function(Ae,we){var xe,Se,ke=this||be,Te=((this||be).dom.validationErrors&&((this||be).dom.validationErrors.parentNode.removeChild((this||be).dom.validationErrors),(this||be).dom.validationErrors=null,(this||be).dom.additionalErrorsIndication.style.display="none"),(this||be).errorTableVisible&&0<Ae.length?((Te=document.createElement("div")).className="jsoneditor-validation-errors",(Se=document.createElement("table")).className="jsoneditor-text-errors",Te.appendChild(Se),xe=document.createElement("tbody"),Se.appendChild(xe),Ae.forEach((function(be){isNaN(be.line)?be.dataPath&&(Se=we.find((function(Ae){return Ae.path===be.dataPath})))&&(Ae=Se.line+1):Ae=be.line;var Ae,Se=document.createElement("tr"),Te=(Se.className=isNaN(Ae)?"":"jump-to-line","error"===be.type?Se.className+=" parse-error":Se.className+=" validation-error",document.createElement("td")),Ee=document.createElement("button");Ee=(Ee.className="jsoneditor-schema-error",Te.appendChild(Ee),Se.appendChild(Te),document.createElement("td"));Ee.style="white-space: nowrap;",Ee.textContent=isNaN(Ae)?"":"Ln "+Ae,Se.appendChild(Ee),"string"==typeof be?((Te=document.createElement("td")).colSpan=2,(Ee=document.createElement("pre")).appendChild(document.createTextNode(be)),Te.appendChild(Ee),Se.appendChild(Te)):((Ee=document.createElement("td")).appendChild(document.createTextNode(be.dataPath||"")),Se.appendChild(Ee),Te=document.createElement("td"),(Ee=document.createElement("pre")).appendChild(document.createTextNode(be.message.replace(/<br>/gi,"\n"))),Te.appendChild(Ee),Se.appendChild(Te)),Se.onclick=function(){ke.onFocusLine(Ae)},xe.appendChild(Se)})),(this||be).dom.validationErrors=Te,(this||be).dom.validationErrorsContainer.appendChild(Te),(this||be).dom.additionalErrorsIndication.title=Ae.length+" errors total",(this||be).dom.validationErrorsContainer.clientHeight<(this||be).dom.validationErrorsContainer.scrollHeight?((this||be).dom.additionalErrorsIndication.style.display="block",(this||be).dom.validationErrorsContainer.onscroll=function(){ke.dom.additionalErrorsIndication.style.display=0<ke.dom.validationErrorsContainer.clientHeight&&0===ke.dom.validationErrorsContainer.scrollTop?"block":"none"}):(this||be).dom.validationErrorsContainer.onscroll=void 0,Se=(this||be).dom.validationErrorsContainer.clientHeight+((this||be).dom.statusBar?(this||be).dom.statusBar.clientHeight:0),this.onChangeHeight(Se)):this.onChangeHeight(0),Ae.filter((function(be){return"error"!==be.type})).length);0<Te?((this||be).dom.validationErrorCount.style.display="inline",(this||be).dom.validationErrorCount.innerText=Te,(this||be).dom.validationErrorCount.onclick=(this||be).toggleTableVisibility.bind(this||be),(this||be).dom.validationErrorIcon.style.display="inline",(this||be).dom.validationErrorIcon.title=Te+" schema validation error(s) found",(this||be).dom.validationErrorIcon.onclick=(this||be).toggleTableVisibility.bind(this||be)):((this||be).dom.validationErrorCount.style.display="none",(this||be).dom.validationErrorIcon.style.display="none"),Ae.some((function(be){return"error"===be.type}))?(Se=Ae[0].line,(this||be).dom.parseErrorIndication.style.display="block",(this||be).dom.parseErrorIndication.title=isNaN(Se)?"parse error - check that the json is valid":"parse error on line "+Se,(this||be).dom.parseErrorIndication.onclick=(this||be).toggleTableVisibility.bind(this||be)):(this||be).dom.parseErrorIndication.style.display="none"}}])&&r(Ae.prototype,we),xe&&r(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}()},2877:function(Ae,we,xe){function o(be){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function r(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=o(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=o(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==o(be)?be:be+""}(xe.key),xe)}}xe.d(we,{$:function(){return Se}});var Se=function(){function t(Ae){if(!((this||be)instanceof t))throw new TypeError("Cannot call a class as a function");if((this||be).target=Ae.target||null,!(this||be).target)throw new Error('FocusTracker constructor called without a "target" to track.');(this||be).onFocus="function"==typeof Ae.onFocus?Ae.onFocus:null,(this||be).onBlur="function"==typeof Ae.onBlur?Ae.onBlur:null,(this||be)._onClick=(this||be)._onEvent.bind(this||be),(this||be)._onKeyUp=function(be){9!==be.which&&9!==be.keyCode||this._onEvent(be)}.bind(this||be),(this||be)._onBlur=(this||be)._onEvent.bind(this||be),(this||be).focusFlag=!1,(this||be).firstEventFlag=!0,((this||be).onFocus||(this||be).onBlur)&&(document.addEventListener("click",(this||be)._onClick),document.addEventListener("keyup",(this||be)._onKeyUp),document.addEventListener("blur",(this||be)._onBlur))}return Ae=t,(we=[{key:"destroy",value:function(){document.removeEventListener("click",(this||be)._onClick),document.removeEventListener("keyup",(this||be)._onKeyUp),document.removeEventListener("blur",(this||be)._onBlur),this._onEvent({target:document.body})}},{key:"_onEvent",value:function(Ae){Ae=Ae.target,Ae=Ae===(this||be).target||!(!(this||be).target.contains(Ae)&&!(this||be).target.contains(document.activeElement));Ae?(this||be).focusFlag||((this||be).onFocus&&this.onFocus({type:"focus",target:(this||be).target}),(this||be).focusFlag=!0):((this||be).focusFlag||(this||be).firstEventFlag)&&((this||be).onBlur&&this.onBlur({type:"blur",target:(this||be).target}),(this||be).focusFlag=!1,(this||be).firstEventFlag)&&((this||be).firstEventFlag=!1)}}])&&r(Ae.prototype,we),xe&&r(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}()},1346:function(Ae,we,xe){var Se=xe(7413),ke=xe(1746),Te=xe(5633).treeModeMixins,Ee=xe(1948).textModeMixins,Re=xe(7483).previewModeMixins,_e=xe(6237),$e=_e.clear,Le=_e.extend,Ne=_e.getInnerText,Me=_e.getInternetExplorerVersion,Be=_e.parse,We=(_e=xe(2870).tryRequireAjv,xe(5609).showTransformModal),Pe=xe(2915).showSortModal,He=_e();function C(Ae,we,xe){if(!((this||be)instanceof C))throw new Error('JSONEditor constructor called without "new".');var Se=Me();if(-1!==Se&&Se<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");we&&(we.error&&(console.warn('Option "error" has been renamed to "onError"'),we.onError=we.error,delete we.error),we.change&&(console.warn('Option "change" has been renamed to "onChange"'),we.onChange=we.change,delete we.change),we.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),we.onEditable=we.editable,delete we.editable),we.onChangeJSON&&("text"===we.mode||"code"===we.mode||we.modes&&(-1!==we.modes.indexOf("text")||-1!==we.modes.indexOf("code")))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),we)&&Object.keys(we).forEach((function(be){-1===C.VALID_OPTIONS.indexOf(be)&&console.warn('Unknown option "'+be+'". This option will be ignored')})),arguments.length&&this._create(Ae,we,xe)}"undefined"==typeof Promise&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"),C.modes={},C.prototype.DEBOUNCE_INTERVAL=150,C.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onExpand","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","onFocus","onBlur","colorPicker","onColorPicker","timestampTag","timestampFormat","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","limitDragging","maxVisibleChilds","onValidationError","modalAnchor","popupAnchor","createQuery","executeQuery","queryDescription","allowSchemaSuggestions","showErrorTable"],C.prototype._create=function(Ae,we,xe){(this||be).container=Ae,(this||be).options=we||{},(this||be).json=xe||{};Ae=(this||be).options.mode||(this||be).options.modes&&(this||be).options.modes[0]||"tree";this.setMode(Ae)},C.prototype.destroy=function(){},C.prototype.set=function(Ae){(this||be).json=Ae},C.prototype.get=function(){return(this||be).json},C.prototype.setText=function(Ae){(this||be).json=Be(Ae)},C.prototype.getText=function(){return JSON.stringify((this||be).json)},C.prototype.setName=function(Ae){(this||be).options||((this||be).options={}),(this||be).options.name=Ae},C.prototype.getName=function(){return(this||be).options&&(this||be).options.name},C.prototype.setMode=function(Ae){if(Ae!==(this||be).options.mode||!(this||be).create){var we=(this||be).container,xe=Le({},(this||be).options),Se=xe.mode,ke=(xe.mode=Ae,C.modes[Ae]);if(!ke)throw new Error('Unknown mode "'+xe.mode+'"');var Te="text"===ke.data,Ee=this.getName(),Re=this[Te?"getText":"get"]();if(this.destroy(),$e(this||be),Le(this||be,ke.mixin),this.create(we,xe),this.setName(Ee),this[Te?"setText":"set"](Re),"function"==typeof ke.load)try{ke.load.call(this||be)}catch(Ae){console.error(Ae)}if("function"==typeof xe.onModeChange&&Ae!==Se)try{xe.onModeChange(Ae,Se)}catch(Ae){console.error(Ae)}}},C.prototype.getMode=function(){return(this||be).options.mode},C.prototype._onError=function(Ae){(this||be).options&&"function"==typeof(this||be).options.onError?(this||be).options.onError(Ae):window.alert(Ae.toString())},C.prototype.setSchema=function(Ae,we){if(Ae){var Se;try{(this||be).options.ajv?Se=(this||be).options.ajv:((Se=He({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0})).addMetaSchema(xe(5207)),Se.addMetaSchema(xe(6801)))}catch(Ae){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(Se){if(we){for(var ke in we)Se.removeSchema(ke),we[ke]&&Se.addSchema(we[ke],ke);(this||be).options.schemaRefs=we}(this||be).validateSchema=Se.compile(Ae),(this||be).options.schema=Ae,(this||be).options.schemaRefs=we,this.validate()}}else(this||be).validateSchema=null,(this||be).options.schema=null,(this||be).options.schemaRefs=null,this.validate();this.refresh(),"function"==typeof(this||be)._onSchemaChange&&this._onSchemaChange(Ae,we)},C.prototype.validate=function(){},C.prototype.refresh=function(){},(C.registerMode=function(be){var Ae;if(Array.isArray(be))for(Se=0;Se<be.length;Se++)C.registerMode(be[Se]);else{if(!("mode"in be))throw new Error('Property "mode" missing');if(!("mixin"in be))throw new Error('Property "mixin" missing');if(!("data"in be))throw new Error('Property "data" missing');var we=be.mode;if(we in C.modes)throw new Error('Mode "'+we+'" already registered');if("function"!=typeof be.mixin.create)throw new Error('Required function "create" missing on mixin');for(var xe=["setMode","registerMode","modes"],Se=0;Se<xe.length;Se++)if((Ae=xe[Se])in be.mixin)throw new Error('Reserved property "'+Ae+'" not allowed in mixin');C.modes[we]=be}})(Te),C.registerMode(Ee),C.registerMode(Re),C.ace=Se,C.Ajv=He,C.VanillaPicker=ke,C.showTransformModal=We,C.showSortModal=Pe,C.getInnerText=Ne,Ae.exports=C.default=C},1389:function(Ae,we,xe){xe.d(we,{n:function(){return Te}});var Se=xe(6545),ke=xe(3057);function o(be){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function i(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=o(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=o(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==o(be)?be:be+""}(xe.key),xe)}}var Te=function(){function d(Ae,we,xe,Te){if(!((this||be)instanceof d))throw new TypeError("Cannot call a class as a function");for(var Ee={code:{text:(0,ke.Tl)("modeCodeText"),title:(0,ke.Tl)("modeCodeTitle"),click:function(){Te("code")}},form:{text:(0,ke.Tl)("modeFormText"),title:(0,ke.Tl)("modeFormTitle"),click:function(){Te("form")}},text:{text:(0,ke.Tl)("modeTextText"),title:(0,ke.Tl)("modeTextTitle"),click:function(){Te("text")}},tree:{text:(0,ke.Tl)("modeTreeText"),title:(0,ke.Tl)("modeTreeTitle"),click:function(){Te("tree")}},view:{text:(0,ke.Tl)("modeViewText"),title:(0,ke.Tl)("modeViewTitle"),click:function(){Te("view")}},preview:{text:(0,ke.Tl)("modePreviewText"),title:(0,ke.Tl)("modePreviewTitle"),click:function(){Te("preview")}}},Re=[],_e=0;_e<we.length;_e++){var $e=we[_e],Le=Ee[$e];if(!Le)throw new Error('Unknown mode "'+$e+'"');Le.className="jsoneditor-type-modes"+(xe===$e?" jsoneditor-selected":""),Re.push(Le)}var Ne=Ee[xe];if(!Ne)throw new Error('Unknown mode "'+xe+'"');Ne=Ne.text;var Me=document.createElement("button");Ne=(Me.type="button",Me.className="jsoneditor-modes jsoneditor-separator",Me.textContent=Ne+" ▾",Me.title=(0,ke.Tl)("modeEditorTitle"),Me.onclick=function(){new Se.t(Re).show(Me,Ae)},document.createElement("div"));Ne.className="jsoneditor-modes",Ne.style.position="relative",Ne.appendChild(Me),Ae.appendChild(Ne),(this||be).dom={container:Ae,box:Me,frame:Ne}}return Ae=d,(we=[{key:"focus",value:function(){(this||be).dom.box.focus()}},{key:"destroy",value:function(){(this||be).dom&&(this||be).dom.frame&&(this||be).dom.frame.parentNode&&(this||be).dom.frame.parentNode.removeChild((this||be).dom.frame),(this||be).dom=null}}])&&i(Ae.prototype,we),xe&&i(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}()},7413:function(be,Ae,we){var xe;if(window.ace)xe=window.ace;else try{xe=we(6990),we(4221),we(6534),we(6489);var Se=we(5477);xe.config.setModuleUrl("ace/mode/json_worker",Se)}catch(be){}be.exports=xe},9762:function(){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],(function(be,Ae,we){Ae.isDark=!1,Ae.cssClass="ace-jsoneditor",Ae.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}',be("../lib/dom").importCssString(Ae.cssText,Ae.cssClass)}))},5736:function(Ae,we){(xe={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Ae,we,xe,Se,ke,Te,Ee){var Re=Te.length-1;switch(ke){case 1:(this||be).$=Ae.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:(this||be).$=Number(Ae);break;case 3:(this||be).$=null;break;case 4:(this||be).$=!0;break;case 5:(this||be).$=!1;break;case 6:return(this||be).$=Te[Re-1];case 13:(this||be).$={};break;case 14:(this||be).$=Te[Re-1];break;case 15:(this||be).$=[Te[Re-2],Te[Re]];break;case 16:(this||be).$={},(this||be).$[Te[Re][0]]=Te[Re][1];break;case 17:(this||be).$=Te[Re-2],Te[Re-2][Te[Re][0]]=Te[Re][1];break;case 18:(this||be).$=[];break;case 19:(this||be).$=Te[Re-1];break;case 20:(this||be).$=[Te[Re]];break;case 21:(this||be).$=Te[Re-2],Te[Re-2].push(Te[Re])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(be,Ae){throw new Error(be)},parse:function(Ae){var we=this||be,xe=[0],Se=[null],ke=[],Te=(this||be).table,Ee="",Re=0,_e=0,$e=0,Le=((this||be).lexer.setInput(Ae),(this||be).lexer.yy=(this||be).yy,(this||be).yy.lexer=(this||be).lexer,void 0===(this||be).lexer.yylloc&&((this||be).lexer.yylloc={}),(this||be).lexer.yylloc);function d(){var be=we.lexer.lex()||1;return"number"!=typeof be&&we.symbols_[be]||be}ke.push(Le),"function"==typeof(this||be).yy.parseError&&((this||be).parseError=(this||be).yy.parseError);for(var Ne,Me,Be,We,Pe,He,Ge,Fe,Oe,Ve={};;){if(Be=xe[xe.length-1],void 0===(We=(this||be).defaultActions[Be]||(null==Ne&&(Ne=d()),Te[Be]&&Te[Be][Ne]))||!We.length||!We[0]){if(!$e){for(Pe in Fe=[],Te[Be])(this||be).terminals_[Pe]&&2<Pe&&Fe.push("'"+(this||be).terminals_[Pe]+"'");var Ze="";Ze=(this||be).lexer.showPosition?"Parse error on line "+(Re+1)+":\n"+(this||be).lexer.showPosition()+"\nExpecting "+Fe.join(", ")+", got '"+(this||be).terminals_[Ne]+"'":"Parse error on line "+(Re+1)+": Unexpected "+(1==Ne?"end of input":"'"+((this||be).terminals_[Ne]||Ne)+"'");this.parseError(Ze,{text:(this||be).lexer.match,token:(this||be).terminals_[Ne]||Ne,line:(this||be).lexer.yylineno,loc:Le,expected:Fe})}if(3==$e){if(1==Ne)throw new Error(Ze||"Parsing halted.");_e=(this||be).lexer.yyleng,Ee=(this||be).lexer.yytext,Re=(this||be).lexer.yylineno,Le=(this||be).lexer.yylloc,Ne=d()}for(;;){if(2..toString()in Te[Be])break;if(0==Be)throw new Error(Ze||"Parsing halted.");Oe=1,xe.length=xe.length-2*Oe,Se.length=Se.length-Oe,ke.length=ke.length-Oe,Be=xe[xe.length-1]}Me=Ne,Ne=2,We=Te[Be=xe[xe.length-1]]&&Te[Be][2],$e=3}if(We[0]instanceof Array&&1<We.length)throw new Error("Parse Error: multiple actions possible at state: "+Be+", token: "+Ne);switch(We[0]){case 1:xe.push(Ne),Se.push((this||be).lexer.yytext),ke.push((this||be).lexer.yylloc),xe.push(We[1]),Ne=null,Me?(Ne=Me,Me=null):(_e=(this||be).lexer.yyleng,Ee=(this||be).lexer.yytext,Re=(this||be).lexer.yylineno,Le=(this||be).lexer.yylloc,0<$e&&$e--);break;case 2:if(He=(this||be).productions_[We[1]][1],Ve.$=Se[Se.length-He],Ve._$={first_line:ke[ke.length-(He||1)].first_line,last_line:ke[ke.length-1].last_line,first_column:ke[ke.length-(He||1)].first_column,last_column:ke[ke.length-1].last_column},void 0!==(Ge=(this||be).performAction.call(Ve,Ee,_e,Re,(this||be).yy,We[1],Se,ke)))return Ge;He&&(xe=xe.slice(0,-1*He*2),Se=Se.slice(0,-1*He),ke=ke.slice(0,-1*He)),xe.push((this||be).productions_[We[1]][0]),Se.push(Ve.$),ke.push(Ve._$),Ge=Te[xe[xe.length-2]][xe[xe.length-1]],xe.push(Ge);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(Ae,we){if(!(this||be).yy.parseError)throw new Error(Ae);(this||be).yy.parseError(Ae,we)},setInput:function(Ae){return(this||be)._input=Ae,(this||be)._more=(this||be)._less=(this||be).done=!1,(this||be).yylineno=(this||be).yyleng=0,(this||be).yytext=(this||be).matched=(this||be).match="",(this||be).conditionStack=["INITIAL"],(this||be).yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this||be},input:function(){var Ae=(this||be)._input[0];return(this||be).yytext+=Ae,(this||be).yyleng++,(this||be).match+=Ae,(this||be).matched+=Ae,Ae.match(/\n/)&&(this||be).yylineno++,(this||be)._input=(this||be)._input.slice(1),Ae},unput:function(Ae){return(this||be)._input=Ae+(this||be)._input,this||be},more:function(){return(this||be)._more=!0,this||be},less:function(Ae){(this||be)._input=(this||be).match.slice(Ae)+(this||be)._input},pastInput:function(){var Ae=(this||be).matched.substr(0,(this||be).matched.length-(this||be).match.length);return(20<Ae.length?"...":"")+Ae.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ae=(this||be).match;return Ae.length<20&&(Ae+=(this||be)._input.substr(0,20-Ae.length)),(Ae.substr(0,20)+(20<Ae.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var be=this.pastInput(),Ae=new Array(be.length+1).join("-");return be+this.upcomingInput()+"\n"+Ae+"^"},next:function(){if((this||be).done)return(this||be).EOF;(this||be)._input||((this||be).done=!0),(this||be)._more||((this||be).yytext="",(this||be).match="");for(var Ae,we,xe,Se,ke=this._currentRules(),Te=0;Te<ke.length&&(!(we=(this||be)._input.match((this||be).rules[ke[Te]]))||Ae&&!(we[0].length>Ae[0].length)||(Ae=we,xe=Te,(this||be).options.flex));Te++);return Ae?((Se=Ae[0].match(/\n.*/g))&&((this||be).yylineno+=Se.length),(this||be).yylloc={first_line:(this||be).yylloc.last_line,last_line:(this||be).yylineno+1,first_column:(this||be).yylloc.last_column,last_column:Se?Se[Se.length-1].length-1:(this||be).yylloc.last_column+Ae[0].length},(this||be).yytext+=Ae[0],(this||be).match+=Ae[0],(this||be).yyleng=(this||be).yytext.length,(this||be)._more=!1,(this||be)._input=(this||be)._input.slice(Ae[0].length),(this||be).matched+=Ae[0],Se=(this||be).performAction.call(this||be,(this||be).yy,this||be,ke[xe],(this||be).conditionStack[(this||be).conditionStack.length-1]),(this||be).done&&(this||be)._input&&((this||be).done=!1),Se||void 0):""===(this||be)._input?(this||be).EOF:void this.parseError("Lexical error on line "+((this||be).yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:(this||be).yylineno})},lex:function(){var be=this.next();return void 0!==be?be:this.lex()},begin:function(Ae){(this||be).conditionStack.push(Ae)},popState:function(){return(this||be).conditionStack.pop()},_currentRules:function(){return(this||be).conditions[(this||be).conditionStack[(this||be).conditionStack.length-1]].rules},topState:function(){return(this||be).conditionStack[(this||be).conditionStack.length-2]},pushState:function(be){this.begin(be)},options:{},performAction:function(be,Ae,we,xe){switch(we){case 0:break;case 1:return 6;case 2:return Ae.yytext=Ae.yytext.substr(1,Ae.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};var xe;we.parser=xe,we.parse=xe.parse.bind(xe)},4772:function(Ae){function i(){}i.prototype={on:function(Ae,we){(this||be)._events=(this||be)._events||{},(this||be)._events[Ae]=(this||be)._events[Ae]||[],(this||be)._events[Ae].push(we)},off:function(Ae,we){(this||be)._events=(this||be)._events||{},Ae in(this||be)._events!=!1&&(this||be)._events[Ae].splice((this||be)._events[Ae].indexOf(we),1)},emit:function(Ae){if((this||be)._events=(this||be)._events||{},Ae in(this||be)._events!=!1)for(var we=0;we<(this||be)._events[Ae].length;we++)(this||be)._events[Ae][we].apply(this||be,Array.prototype.slice.call(arguments,1))}},i.mixin=function(be){for(var Ae=["on","off","emit"],we=0;we<Ae.length;we++)"function"==typeof be?be.prototype[Ae[we]]=i.prototype[Ae[we]]:be[Ae[we]]=i.prototype[Ae[we]];return be};var we={escapeRegExp:function(be){var Ae=/[\\^$.*+?()[\]{}|]/g,we=new RegExp(Ae.source);return be&&we.test(be)?be.replace(Ae,"\\$&"):be},extend:function(be,Ae){for(var xe in Ae){var Se;Ae.hasOwnProperty(xe)&&((Se=Ae[xe])&&"[object Object]"===Object.prototype.toString.call(Se)?(be[xe]=be[xe]||{},we.extend(be[xe],Se)):be[xe]=Se)}return be},each:function(be,Ae,we){if("[object Object]"===Object.prototype.toString.call(be))for(var xe in be)Object.prototype.hasOwnProperty.call(be,xe)&&Ae.call(we,xe,be[xe],be);else for(var Se=0,ke=be.length;Se<ke;Se++)Ae.call(we,Se,be[Se],be)},createElement:function(be,Ae){var we,xe=document.createElement(be);if(Ae&&"[object Object]"===Object.prototype.toString.call(Ae))for(we in Ae)we in xe?xe[we]=Ae[we]:"html"===we?xe.innerHTML=Ae[we]:xe.setAttribute(we,Ae[we]);return xe},hasClass:function(be,Ae){if(be)return be.classList?be.classList.contains(Ae):!!be.className&&!!be.className.match(new RegExp("(\\s|^)"+Ae+"(\\s|$)"))},addClass:function(be,Ae){we.hasClass(be,Ae)||(be.classList?be.classList.add(Ae):be.className=be.className.trim()+" "+Ae)},removeClass:function(be,Ae){we.hasClass(be,Ae)&&(be.classList?be.classList.remove(Ae):be.className=be.className.replace(new RegExp("(^|\\s)"+Ae.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(be,Ae){return be&&be!==document.body&&(Ae(be)?be:we.closest(be.parentNode,Ae))},isInt:function(be){return"number"==typeof be&&isFinite(be)&&Math.floor(be)===be},debounce:function(Ae,we,xe){var Se;return function(){var ke=this||be,Te=arguments,Ee=xe&&!Se;clearTimeout(Se),Se=setTimeout((function(){Se=null,xe||Ae.apply(ke,Te)}),we),Ee&&Ae.apply(ke,Te)}},rect:function(be,Ae){var we=window,xe=(be=be.getBoundingClientRect(),Ae?we.pageXOffset:0);Ae=Ae?we.pageYOffset:0;return{bottom:be.bottom+Ae,height:be.height,left:be.left+xe,right:be.right+xe,top:be.top+Ae,width:be.width}},includes:function(be,Ae){return-1<be.indexOf(Ae)},startsWith:function(be,Ae){return be.substr(0,Ae.length)===Ae},truncate:function(be){for(;be.firstChild;)be.removeChild(be.firstChild)}};function h(be,Ae){return be.hasOwnProperty(Ae)&&(!0===be[Ae]||be[Ae].length)}function g(be,Ae,xe){be.parentNode?be.parentNode.parentNode||Ae.appendChild(be.parentNode):Ae.appendChild(be),we.removeClass(be,"excluded"),xe||(be.textContent=be.textContent)}function o(){var Ae,xe;(this||be).items.length&&(Ae=document.createDocumentFragment(),(this||be).config.pagination?(xe=(this||be).pages.slice(0,(this||be).pageIndex),we.each(xe,(function(xe,Se){we.each(Se,(function(we,xe){g(xe,Ae,(this||be).customOption)}),this||be)}),this||be)):we.each((this||be).items,(function(we,xe){g(xe,Ae,(this||be).customOption)}),this||be),Ae.childElementCount&&(we.removeClass((this||be).items[(this||be).navIndex],"active"),(this||be).navIndex=(Ae.querySelector(".selectr-option.selected")||Ae.querySelector(".selectr-option")).idx,we.addClass((this||be).items[(this||be).navIndex],"active")),(this||be).tree.appendChild(Ae))}function d(Ae,xe){xe=xe||Ae;var Se={class:"selectr-option",role:"treeitem","aria-selected":!1};return(this||be).customOption?Se.html=(this||be).config.renderOption(xe):Se.textContent=Ae.textContent,(xe=we.createElement("li",Se)).idx=Ae.idx,(this||be).items.push(xe),Ae.defaultSelected&&(this||be).defaultSelected.push(Ae.idx),Ae.disabled&&(xe.disabled=!0,we.addClass(xe,"disabled")),xe}function r(){var Ae,xe=(this||be).tree,Se=xe.scrollTop;xe.scrollHeight-xe.offsetHeight<=Se&&(this||be).pageIndex<(this||be).pages.length&&(Ae=document.createDocumentFragment(),we.each((this||be).pages[(this||be).pageIndex],(function(we,xe){g(xe,Ae,(this||be).customOption)}),this||be),xe.appendChild(Ae),(this||be).pageIndex++,this.emit("selectr.paginate",{items:(this||be).items.length,total:(this||be).data.length,page:(this||be).pageIndex,pages:(this||be).pages.length}))}function s(){((this||be).config.searchable||(this||be).config.taggable)&&((this||be).input.value=null,(this||be).searching=!1,(this||be).config.searchable&&we.removeClass((this||be).inputContainer,"active"),we.hasClass((this||be).container,"notice")&&(we.removeClass((this||be).container,"notice"),we.addClass((this||be).container,"open"),(this||be).input.focus()),we.each((this||be).items,(function(Ae,xe){we.removeClass(xe,"excluded"),(this||be).customOption||(xe.textContent=xe.textContent)}),this||be))}function t(Ae,we){if(!Ae)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof((this||be).el=Ae)&&((this||be).el=document.querySelector(Ae)),null===(this||be).el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==(this||be).el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(we)}t.prototype.render=function(Ae){var xe;(this||be).rendered||(((this||be).el.selectr=this||be).config=we.extend({defaultSelected:!0,width:"auto",disabled:!1,disabledMobile:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,nativeKeyboard:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag...",messages:{noResults:"No results.",noOptions:"No options available.",maxSelections:"A maximum of {max} items can be selected.",tagDuplicate:"That tag is already in use.",searchPlaceholder:"Search options..."}},Ae),(this||be).originalType=(this||be).el.type,(this||be).originalIndex=(this||be).el.tabIndex,(this||be).defaultSelected=[],(this||be).originalOptionCount=(this||be).el.options.length,((this||be).config.multiple||(this||be).config.taggable)&&((this||be).el.multiple=!0),(this||be).disabled=h((this||be).config,"disabled"),(this||be).opened=!1,(this||be).config.taggable&&((this||be).config.searchable=!1),(this||be).navigating=!1,(this||be).mobileDevice=!1,!(this||be).config.disabledMobile&&/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&((this||be).mobileDevice=!0),(this||be).customOption=(this||be).config.hasOwnProperty("renderOption")&&"function"==typeof(this||be).config.renderOption,(this||be).customSelected=(this||be).config.hasOwnProperty("renderSelection")&&"function"==typeof(this||be).config.renderSelection,(this||be).supportsEventPassiveOption=this.detectEventPassiveOption(),i.mixin(this||be),function(){(this||be).requiresPagination=(this||be).config.pagination&&0<(this||be).config.pagination,h((this||be).config,"width")&&(we.isInt((this||be).config.width)?(this||be).width=(this||be).config.width+"px":"auto"===(this||be).config.width?(this||be).width="100%":we.includes((this||be).config.width,"%")&&((this||be).width=(this||be).config.width)),(this||be).container=we.createElement("div",{class:"selectr-container"}),(this||be).config.customClass&&we.addClass((this||be).container,(this||be).config.customClass),(this||be).mobileDevice?we.addClass((this||be).container,"selectr-mobile"):we.addClass((this||be).container,"selectr-desktop"),(this||be).el.tabIndex=-1,(this||be).config.nativeDropdown||(this||be).mobileDevice?we.addClass((this||be).el,"selectr-visible"):we.addClass((this||be).el,"selectr-hidden"),(this||be).selected=we.createElement("div",{class:"selectr-selected",disabled:(this||be).disabled,tabIndex:0,"aria-expanded":!1}),(this||be).label=we.createElement((this||be).el.multiple?"ul":"span",{class:"selectr-label"});var Ae=we.createElement("div",{class:"selectr-options-container"});if((this||be).tree=we.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),(this||be).notice=we.createElement("div",{class:"selectr-notice"}),(this||be).el.setAttribute("aria-hidden",!0),(this||be).disabled&&((this||be).el.disabled=!0),(this||be).el.multiple?(we.addClass((this||be).label,"selectr-tags"),we.addClass((this||be).container,"multiple"),(this||be).tags=[],(this||be).selectedValues=(this||be).config.defaultSelected?this.getSelectedProperties("value"):[],(this||be).selectedIndexes=this.getSelectedProperties("idx")):((this||be).selectedValue=null,(this||be).selectedIndex=-1),(this||be).selected.appendChild((this||be).label),(this||be).config.clearable&&((this||be).selectClear=we.createElement("button",{class:"selectr-clear",type:"button"}),(this||be).container.appendChild((this||be).selectClear),we.addClass((this||be).container,"clearable")),(this||be).config.taggable){var xe=we.createElement("li",{class:"input-tag"});if((this||be).input=we.createElement("input",{class:"selectr-tag-input",placeholder:(this||be).config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),xe.appendChild((this||be).input),(this||be).label.appendChild(xe),we.addClass((this||be).container,"taggable"),(this||be).tagSeperators=[","],(this||be).config.tagSeperators){(this||be).tagSeperators=(this||be).tagSeperators.concat((this||be).config.tagSeperators);for(var Se=[],ke=0;ke<(this||be).tagSeperators.length;ke++)Se.push(we.escapeRegExp((this||be).tagSeperators[ke]));(this||be).tagSeperatorsRegex=new RegExp(Se.join("|"),"i")}else(this||be).tagSeperatorsRegex=new RegExp(",","i")}(this||be).config.searchable&&((this||be).input=we.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search",placeholder:(this||be).config.messages.searchPlaceholder}),(this||be).inputClear=we.createElement("button",{class:"selectr-input-clear",type:"button"}),(this||be).inputContainer=we.createElement("div",{class:"selectr-input-container"}),(this||be).inputContainer.appendChild((this||be).input),(this||be).inputContainer.appendChild((this||be).inputClear),Ae.appendChild((this||be).inputContainer)),Ae.appendChild((this||be).notice),Ae.appendChild((this||be).tree),(this||be).items=[],(this||be).options=[],(this||be).el.options.length&&((this||be).options=[].slice.call((this||be).el.options));var Te,Ee,Re,_e=!1,$e=0;(this||be).el.children.length&&we.each((this||be).el.children,(function(Ae,xe){"OPTGROUP"===xe.nodeName?(_e=we.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+xe.label+"</li>"}),we.each(xe.children,(function(Ae,we){we.idx=$e,_e.appendChild(d.call(this||be,we,_e)),$e++}),this||be)):(xe.idx=$e,d.call(this||be,xe),$e++)}),this||be),(this||be).config.data&&Array.isArray((this||be).config.data)&&(Te=!((this||be).data=[]),_e=!1,$e=0,we.each((this||be).config.data,(function(Ae,xe){h(xe,"children")?(Te=we.createElement("optgroup",{label:xe.text}),_e=we.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+xe.text+"</li>"}),we.each(xe.children,(function(Ae,we){(Ee=new Option(we.text,we.value,!1,we.hasOwnProperty("selected")&&!0===we.selected)).disabled=h(we,"disabled"),(this||be).options.push(Ee),Te.appendChild(Ee),Ee.idx=$e,_e.appendChild(d.call(this||be,Ee,we)),(this||be).data[$e]=we,$e++}),this||be),(this||be).el.appendChild(Te)):((Ee=new Option(xe.text,xe.value,!1,xe.hasOwnProperty("selected")&&!0===xe.selected)).disabled=h(xe,"disabled"),(this||be).options.push(Ee),Ee.idx=$e,d.call(this||be,Ee,xe),(this||be).data[$e]=xe,$e++)}),this||be)),this.setSelected(!0);for(var Le=(this||be).navIndex=0;Le<(this||be).items.length;Le++)if(Re=(this||be).items[Le],!we.hasClass(Re,"disabled")){we.addClass(Re,"active"),(this||be).navIndex=Le;break}(this||be).requiresPagination&&((this||be).pageIndex=1,this.paginate()),(this||be).container.appendChild((this||be).selected),(this||be).container.appendChild(Ae),(this||be).placeEl=we.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),(this||be).selected.appendChild((this||be).placeEl),(this||be).disabled&&this.disable(),(this||be).el.parentNode.insertBefore((this||be).container,(this||be).el),(this||be).container.appendChild((this||be).el)}.call(this||be),this.bindEvents(),this.update(),(this||be).optsRect=we.rect((this||be).tree),(this||be).rendered=!0,(this||be).el.multiple||((this||be).el.selectedIndex=(this||be).selectedIndex),xe=this||be,setTimeout((function(){xe.emit("selectr.init")}),20))},t.prototype.getSelected=function(){return(this||be).el.querySelectorAll("option:checked")},t.prototype.getSelectedProperties=function(be){var Ae=this.getSelected();return[].slice.call(Ae).map((function(Ae){return Ae[be]})).filter((function(be){return null!=be}))},t.prototype.detectEventPassiveOption=function(){var be=!1;try{var Ae=Object.defineProperty({},"passive",{get:function(){be=!0}});window.addEventListener("test",null,Ae)}catch(be){}return be},t.prototype.bindEvents=function(){var Ae,xe=this||be;(this||be).events={},(this||be).events.dismiss=function(Ae){Ae=Ae.target;(this||be).container.contains(Ae)||!(this||be).opened&&!we.hasClass((this||be).container,"notice")||this.close()}.bind(this||be),(this||be).events.navigate=function(Ae){if(Ae=Ae||window.event,(this||be).items.length&&(this||be).opened&&we.includes([13,38,40],Ae.which)){if(Ae.preventDefault(),13===Ae.which)return!((this||be).noResults||(this||be).config.taggable&&0<(this||be).input.value.length)&&this.change((this||be).navIndex);var xe,Se=(this||be).items[(this||be).navIndex],ke=(this||be).navIndex;switch(Ae.which){case 38:(xe=0)<(this||be).navIndex&&(this||be).navIndex--;break;case 40:(this||be).navIndex<(this||be).items.length-(xe=1)&&(this||be).navIndex++}for((this||be).navigating=!0;we.hasClass((this||be).items[(this||be).navIndex],"disabled")||we.hasClass((this||be).items[(this||be).navIndex],"excluded");){if(!(0<(this||be).navIndex&&(this||be).navIndex<(this||be).items.length-1)){(this||be).navIndex=ke;break}if(xe?(this||be).navIndex++:(this||be).navIndex--,(this||be).searching){if((this||be).navIndex>(this||be).tree.lastElementChild.idx){(this||be).navIndex=(this||be).tree.lastElementChild.idx;break}if((this||be).navIndex<(this||be).tree.firstElementChild.idx){(this||be).navIndex=(this||be).tree.firstElementChild.idx;break}}}Ae=we.rect((this||be).items[(this||be).navIndex]);xe?(0===(this||be).navIndex?(this||be).tree.scrollTop=0:Ae.top+Ae.height>(this||be).optsRect.top+(this||be).optsRect.height&&((this||be).tree.scrollTop=(this||be).tree.scrollTop+(Ae.top+Ae.height-((this||be).optsRect.top+(this||be).optsRect.height))),(this||be).navIndex===(this||be).tree.childElementCount-1&&(this||be).requiresPagination&&r.call(this||be)):0===(this||be).navIndex?(this||be).tree.scrollTop=0:Ae.top-(this||be).optsRect.top<0&&((this||be).tree.scrollTop=(this||be).tree.scrollTop+(Ae.top-(this||be).optsRect.top)),Se&&we.removeClass(Se,"active"),we.addClass((this||be).items[(this||be).navIndex],"active")}else(this||be).navigating=!1}.bind(this||be),(this||be).events.reset=(this||be).reset.bind(this||be),((this||be).config.nativeDropdown||(this||be).mobileDevice)&&((this||be).container.addEventListener("touchstart",(function(be){be.changedTouches[0].target===xe.el&&xe.toggle()}),!!(this||be).supportsEventPassiveOption&&{passive:!0}),(this||be).container.addEventListener("click",(function(be){be.target===xe.el&&xe.toggle()})),(this||be).el.addEventListener("change",(function(be){be.__selfTriggered||(xe.el.multiple?(be=xe.getSelectedProperties("idx"),be=function(be,Ae){for(var we,xe=[],Se=be.slice(0),ke=0;ke<Ae.length;ke++)-1<(we=Se.indexOf(Ae[ke]))?Se.splice(we,1):xe.push(Ae[ke]);return[xe,Se]}(xe.selectedIndexes,be),we.each(be[0],(function(be,Ae){xe.select(Ae)}),xe),we.each(be[1],(function(be,Ae){xe.deselect(Ae)}),xe)):-1<xe.el.selectedIndex&&xe.select(xe.el.selectedIndex))}))),(this||be).config.nativeDropdown&&(this||be).container.addEventListener("keydown",(function(be){"Enter"===be.key&&xe.selected===document.activeElement&&(xe.toggle(),setTimeout((function(){xe.el.focus()}),200))})),(this||be).selected.addEventListener("click",(function(be){xe.disabled||xe.toggle(),be.preventDefault()})),(this||be).config.nativeKeyboard&&(Ae="",(this||be).selected.addEventListener("keydown",(function(be){var we;xe.disabled||xe.selected!==document.activeElement||be.altKey||be.ctrlKey||be.metaKey||(" "===be.key||!xe.opened&&-1<["Enter","ArrowUp","ArrowDown"].indexOf(be.key)?(xe.toggle(),be.preventDefault(),be.stopPropagation()):be.key.length<=2&&String[String.fromCodePoint?"fromCodePoint":"fromCharCode"](be.key[String.codePointAt?"codePointAt":"charCodeAt"](0))===be.key&&(xe.config.multiple?(xe.open(),xe.config.searchable&&(xe.input.value=be.key,xe.input.focus(),xe.search(null,!0))):(Ae+=be.key,(we=xe.search(Ae,!0))&&we.length&&(xe.clear(),xe.setValue(we[0].value)),setTimeout((function(){Ae=""}),1e3)),be.preventDefault(),be.stopPropagation()))})),(this||be).container.addEventListener("keyup",(function(be){xe.opened&&"Escape"===be.key&&(xe.close(),be.stopPropagation(),xe.selected.focus())}))),(this||be).label.addEventListener("click",(function(be){we.hasClass(be.target,"selectr-tag-remove")&&xe.deselect(be.target.parentNode.idx)})),(this||be).selectClear&&(this||be).selectClear.addEventListener("click",(this||be).clear.bind(this||be)),(this||be).tree.addEventListener("mousedown",(function(be){be.preventDefault()})),(this||be).tree.addEventListener("click",(function(be){var Ae=we.closest(be.target,(function(be){return be&&we.hasClass(be,"selectr-option")}));Ae&&!we.hasClass(Ae,"disabled")&&(we.hasClass(Ae,"selected")?(xe.el.multiple||!xe.el.multiple&&xe.config.allowDeselect)&&xe.deselect(Ae.idx):xe.select(Ae.idx),xe.opened&&!xe.el.multiple)&&xe.close(),be.preventDefault(),be.stopPropagation()})),(this||be).tree.addEventListener("mouseover",(function(be){!we.hasClass(be.target,"selectr-option")||we.hasClass(be.target,"disabled")||(we.removeClass(xe.items[xe.navIndex],"active"),we.addClass(be.target,"active"),xe.navIndex=[].slice.call(xe.items).indexOf(be.target))})),(this||be).config.searchable&&((this||be).input.addEventListener("focus",(function(be){xe.searching=!0})),(this||be).input.addEventListener("blur",(function(be){xe.searching=!1})),(this||be).input.addEventListener("keyup",(function(Ae){xe.search(),xe.config.taggable||((this||be).value.length?we.addClass((this||be).parentNode,"active"):we.removeClass((this||be).parentNode,"active"))})),(this||be).inputClear.addEventListener("click",(function(be){xe.input.value=null,s.call(xe),xe.tree.childElementCount||o.call(xe)}))),(this||be).config.taggable&&(this||be).input.addEventListener("keyup",(function(Ae){var Se,ke;xe.search(),xe.config.taggable&&(this||be).value.length&&(Se=(this||be).value.trim()).length&&(13===Ae.which||xe.tagSeperatorsRegex.test(Se))&&(Ae=Se.replace(xe.tagSeperatorsRegex,""),(ke=(Ae=(Ae=we.escapeRegExp(Ae)).trim()).length?xe.add({value:Ae,textContent:Ae,selected:!0},!0):ke)?(xe.close(),s.call(xe)):((this||be).value="",xe.setMessage(xe.config.messages.tagDuplicate)))})),(this||be).update=we.debounce((function(){xe.opened&&xe.config.closeOnScroll&&xe.close(),xe.width&&(xe.container.style.width=xe.width),xe.invert()}),50),(this||be).requiresPagination&&((this||be).paginateItems=we.debounce((function(){r.call(this||be)}),50),(this||be).tree.addEventListener("scroll",(this||be).paginateItems.bind(this||be))),document.addEventListener("click",(this||be).events.dismiss),window.addEventListener("keydown",(this||be).events.navigate),window.addEventListener("resize",(this||be).update),window.addEventListener("scroll",(this||be).update),this.on("selectr.destroy",(function(){document.removeEventListener("click",(this||be).events.dismiss),window.removeEventListener("keydown",(this||be).events.navigate),window.removeEventListener("resize",(this||be).update),window.removeEventListener("scroll",(this||be).update)})),(this||be).el.form&&((this||be).el.form.addEventListener("reset",(this||be).events.reset),this.on("selectr.destroy",(function(){(this||be).el.form.removeEventListener("reset",(this||be).events.reset)})))},t.prototype.setSelected=function(Ae){var xe;(this||be).config.data||(this||be).el.multiple||!(this||be).el.options.length||(0!==(this||be).el.selectedIndex||(this||be).el.options[0].defaultSelected||(this||be).config.defaultSelected||((this||be).el.selectedIndex=-1),(this||be).selectedIndex=(this||be).el.selectedIndex,-1<(this||be).selectedIndex&&this.select((this||be).selectedIndex)),(this||be).config.multiple&&"select-one"===(this||be).originalType&&!(this||be).config.data&&(this||be).el.options[0].selected&&!(this||be).el.options[0].defaultSelected&&((this||be).el.options[0].selected=!1),we.each((this||be).options,(function(be,Ae){Ae.selected&&Ae.defaultSelected&&this.select(Ae.idx)}),this||be),(this||be).config.selectedValue&&this.setValue((this||be).config.selectedValue),(this||be).config.data&&(!(this||be).el.multiple&&(this||be).config.defaultSelected&&(this||be).el.selectedIndex<0&&0<(this||be).config.data.length&&this.select(0),xe=0,we.each((this||be).config.data,(function(Ae,Se){h(Se,"children")?we.each(Se.children,(function(be,Ae){Ae.hasOwnProperty("selected")&&!0===Ae.selected&&this.select(xe),xe++}),this||be):(Se.hasOwnProperty("selected")&&!0===Se.selected&&this.select(xe),xe++)}),this||be))},t.prototype.destroy=function(){(this||be).rendered&&(this.emit("selectr.destroy"),"select-one"===(this||be).originalType&&((this||be).el.multiple=!1),(this||be).config.data&&((this||be).el.innerHTML=""),we.removeClass((this||be).el,"selectr-hidden"),(this||be).container.parentNode.replaceChild((this||be).el,(this||be).container),(this||be).rendered=!1,delete(this||be).el.selectr)},t.prototype.change=function(Ae){var xe=(this||be).items[Ae],Se=(this||be).options[Ae];Se.disabled||(Se.selected&&we.hasClass(xe,"selected")?this.deselect(Ae):this.select(Ae),(this||be).opened&&!(this||be).el.multiple&&this.close())},t.prototype.select=function(Ae){var xe=(this||be).items[Ae],Se=[].slice.call((this||be).el.options),ke=(this||be).options[Ae];if((this||be).el.multiple){if(we.includes((this||be).selectedIndexes,Ae))return!1;if((this||be).config.maxSelections&&(this||be).tags.length===(this||be).config.maxSelections)return this.setMessage((this||be).config.messages.maxSelections.replace("{max}",(this||be).config.maxSelections),!0),!1;(this||be).selectedValues.push(ke.value),(this||be).selectedIndexes.push(Ae),!function(Ae){var xe,Se=this||be,ke=document.createDocumentFragment(),Te=(this||be).options[Ae.idx],Ee=(this||be).data?(this||be).data[Ae.idx]:Te,Re={class:"selectr-tag"};Ee=((this||be).customSelected?Re.html=(this||be).config.renderSelection(Ee):Re.textContent=Te.textContent,we.createElement("li",Re)),Re=we.createElement("button",{class:"selectr-tag-remove",type:"button"});Ee.appendChild(Re),Ee.idx=Ae.idx,Ee.tag=Te.value,(this||be).tags.push(Ee),(this||be).config.sortSelected?(Re=(this||be).tags.slice(),xe=function(be,Ae){be.replace(/(\d+)|(\D+)/g,(function(be,we,xe){Ae.push([we||1/0,xe||""])}))},Re.sort((function(be,Ae){var we,ke,Te=[],Ee=[];for(!0===Se.config.sortSelected?(we=be.tag,ke=Ae.tag):"text"===Se.config.sortSelected&&(we=be.textContent,ke=Ae.textContent),xe(we,Te),xe(ke,Ee);Te.length&&Ee.length;){var Re=Te.shift(),_e=Ee.shift();Re=Re[0]-_e[0]||Re[1].localeCompare(_e[1]);if(Re)return Re}return Te.length-Ee.length})),we.each(Re,(function(be,Ae){ke.appendChild(Ae)})),(this||be).label.innerHTML=""):ke.appendChild(Ee),(this||be).config.taggable?(this||be).label.insertBefore(ke,(this||be).input.parentNode):(this||be).label.appendChild(ke)}.call(this||be,xe)}else{var Te=(this||be).data?(this||be).data[Ae]:ke;(this||be).customSelected?(this||be).label.innerHTML=(this||be).config.renderSelection(Te):(this||be).label.textContent=ke.textContent,(this||be).selectedValue=ke.value,(this||be).selectedIndex=Ae,we.each((this||be).options,(function(xe,Se){var ke=(this||be).items[xe];xe!==Ae&&(ke&&we.removeClass(ke,"selected"),Se.selected=!1,Se.removeAttribute("selected"))}),this||be)}we.includes(Se,ke)||(this||be).el.add(ke),xe.setAttribute("aria-selected",!0),we.addClass(xe,"selected"),we.addClass((this||be).container,"has-selected"),ke.selected=!0,ke.setAttribute("selected",""),this.emit("selectr.change",ke),this.emit("selectr.select",ke),"createEvent"in document?((Te=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),Te.__selfTriggered=!0,(this||be).el.dispatchEvent(Te)):(this||be).el.fireEvent("onchange")},t.prototype.deselect=function(Ae,xe){var Se=(this||be).items[Ae],ke=(this||be).options[Ae];if((this||be).el.multiple){var Te=(this||be).selectedIndexes.indexOf(Ae);Te=((this||be).selectedIndexes.splice(Te,1),(this||be).selectedValues.indexOf(ke.value));(this||be).selectedValues.splice(Te,1),!function(Ae){var xe=!1;we.each((this||be).tags,(function(be,we){we.idx===Ae.idx&&(xe=we)}),this||be),xe&&((this||be).label.removeChild(xe),(this||be).tags.splice((this||be).tags.indexOf(xe),1))}.call(this||be,Se),(this||be).tags.length||we.removeClass((this||be).container,"has-selected")}else{if(!xe&&!(this||be).config.clearable&&!(this||be).config.allowDeselect)return!1;(this||be).label.innerHTML="",(this||be).selectedValue=null,(this||be).el.selectedIndex=(this||be).selectedIndex=-1,we.removeClass((this||be).container,"has-selected")}(this||be).items[Ae].setAttribute("aria-selected",!1),we.removeClass((this||be).items[Ae],"selected"),ke.selected=!1,ke.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",ke),"createEvent"in document?((Te=document.createEvent("HTMLEvents")).initEvent("change",!0,!0),Te.__selfTriggered=!0,(this||be).el.dispatchEvent(Te)):(this||be).el.fireEvent("onchange")},t.prototype.setValue=function(Ae){var xe=Array.isArray(Ae);if(xe||(Ae=Ae.toString().trim()),!(this||be).el.multiple&&xe)return!1;we.each((this||be).options,(function(be,we){(xe&&-1<Ae.indexOf(we.value)||we.value===Ae)&&this.change(we.idx)}),this||be)},t.prototype.getValue=function(Ae,xe){var Se,ke;return(this||be).el.multiple?Ae?(this||be).selectedIndexes.length&&(ke={values:[]},we.each((this||be).selectedIndexes,(function(Ae,we){we=(this||be).options[we];ke.values[Ae]={value:we.value,text:we.textContent}}),this||be)):ke=(this||be).selectedValues.slice():ke=Ae?{value:(Se=(this||be).options[(this||be).selectedIndex]).value,text:Se.textContent}:(this||be).selectedValue,ke=Ae&&xe?JSON.stringify(ke):ke},t.prototype.add=function(Ae,xe){if(Ae){if((this||be).data=(this||be).data||[],(this||be).items=(this||be).items||[],(this||be).options=(this||be).options||[],Array.isArray(Ae))we.each(Ae,(function(be,Ae){this.add(Ae,xe)}),this||be);else if("[object Object]"===Object.prototype.toString.call(Ae)){if(xe){var Se=!1;if(we.each((this||be).options,(function(be,we){we.value.toLowerCase()===Ae.value.toLowerCase()&&(Se=!0)})),Se)return!1}var ke=we.createElement("option",Ae);return(this||be).data.push(Ae),(this||be).mobileDevice&&(this||be).el.add(ke),(this||be).options.push(ke),ke.idx=0<(this||be).options.length?(this||be).options.length-1:0,d.call(this||be,ke),Ae.selected&&this.select(ke.idx),this.setPlaceholder(),ke}return(this||be).config.pagination&&this.paginate(),!0}},t.prototype.remove=function(Ae){var xe,Se=[];Array.isArray(Ae)?we.each(Ae,(function(be,Ae){we.isInt(Ae)?Se.push(this.getOptionByIndex(Ae)):"string"==typeof Ae&&Se.push(this.getOptionByValue(Ae))}),this||be):we.isInt(Ae)?Se.push(this.getOptionByIndex(Ae)):"string"==typeof Ae&&Se.push(this.getOptionByValue(Ae)),Se.length&&(we.each(Se,(function(Ae,Se){xe=Se.idx,(this||be).el.remove(Se),(this||be).options.splice(xe,1);Se=(this||be).items[xe].parentNode;Se&&Se.removeChild((this||be).items[xe]),(this||be).items.splice(xe,1),we.each((this||be).options,(function(Ae,we){we.idx=Ae,(this||be).items[Ae].idx=Ae}),this||be)}),this||be),this.setPlaceholder(),(this||be).config.pagination)&&this.paginate()},t.prototype.removeAll=function(){this.clear(!0),we.each((this||be).el.options,(function(Ae,we){(this||be).el.remove(we)}),this||be),we.truncate((this||be).tree),(this||be).items=[],(this||be).options=[],(this||be).data=[],(this||be).navIndex=0,(this||be).requiresPagination&&((this||be).requiresPagination=!1,(this||be).pageIndex=1,(this||be).pages=[]),this.setPlaceholder()},t.prototype.search=function(Ae,xe){var Se,ke,Te,Ee,Re;if(!(this||be).navigating)return Se=!1,Ae||(Ae=(this||be).input.value,Se=!0,this.removeMessage(),we.truncate((this||be).tree)),ke=[],Te=document.createDocumentFragment(),0<(Ae=Ae.trim().toLowerCase()).length?(Ee=xe?we.startsWith:we.includes,we.each((this||be).options,(function(xe,Re){var _e,$e,Le,Ne,Me=(this||be).items[Re.idx];Ee(Re.textContent.trim().toLowerCase(),Ae)&&!Re.disabled?(ke.push({text:Re.textContent,value:Re.value}),Se&&(g(Me,Te,(this||be).customOption),we.removeClass(Me,"excluded"),!(this||be).customOption)&&(_e=Ae,Le=Re.textContent,_e=new RegExp(_e,"ig"),Ne=_e.exec(Le))&&(Re.innerHTML="",($e=document.createElement("span")).classList.add("selectr-match"),$e.textContent=Ne[0],Re.appendChild(document.createTextNode(Le.substring(0,Ne.index))),Re.appendChild($e),Re.appendChild(document.createTextNode(Le.substring(_e.lastIndex))))):Se&&we.addClass(Me,"excluded")}),this||be),Se&&(Te.childElementCount?(xe=(this||be).items[(this||be).navIndex],Re=Te.querySelector(".selectr-option:not(.excluded)"),(this||be).noResults=!1,we.removeClass(xe,"active"),(this||be).navIndex=Re.idx,we.addClass(Re,"active")):(this||be).config.taggable||((this||be).noResults=!0,this.setMessage((this||be).config.messages.noResults)),(this||be).tree.appendChild(Te))):o.call(this||be),ke},t.prototype.toggle=function(){(this||be).disabled||((this||be).opened?this.close():this.open())},t.prototype.open=function(){var Ae=this||be;if(!(this||be).options.length)return!1;(this||be).opened||this.emit("selectr.open"),(this||be).opened=!0,(this||be).mobileDevice||(this||be).config.nativeDropdown?(we.addClass((this||be).container,"native-open"),(this||be).config.data&&we.each((this||be).options,(function(Ae,we){(this||be).el.add(we)}),this||be)):(we.addClass((this||be).container,"open"),o.call(this||be),this.invert(),(this||be).tree.scrollTop=0,we.removeClass((this||be).container,"notice"),(this||be).selected.setAttribute("aria-expanded",!0),(this||be).tree.setAttribute("aria-hidden",!1),(this||be).tree.setAttribute("aria-expanded",!0),(this||be).config.searchable&&!(this||be).config.taggable&&setTimeout((function(){Ae.input.focus(),Ae.input.tabIndex=0}),10))},t.prototype.close=function(){var Ae;(this||be).opened&&this.emit("selectr.close"),(this||be).opened=!1,(this||be).navigating=!1,(this||be).mobileDevice||(this||be).config.nativeDropdown?we.removeClass((this||be).container,"native-open"):(Ae=we.hasClass((this||be).container,"notice"),(this||be).config.searchable&&!Ae&&((this||be).input.blur(),(this||be).input.tabIndex=-1,(this||be).searching=!1),Ae&&(we.removeClass((this||be).container,"notice"),(this||be).notice.textContent=""),we.removeClass((this||be).container,"open"),we.removeClass((this||be).container,"native-open"),(this||be).selected.setAttribute("aria-expanded",!1),(this||be).tree.setAttribute("aria-hidden",!0),(this||be).tree.setAttribute("aria-expanded",!1),we.truncate((this||be).tree),s.call(this||be))},t.prototype.enable=function(){(this||be).disabled=!1,(this||be).el.disabled=!1,(this||be).selected.tabIndex=(this||be).originalIndex,(this||be).el.multiple&&we.each((this||be).tags,(function(be,Ae){Ae.lastElementChild.tabIndex=0})),we.removeClass((this||be).container,"selectr-disabled")},t.prototype.disable=function(Ae){Ae||((this||be).el.disabled=!0),(this||be).selected.tabIndex=-1,(this||be).el.multiple&&we.each((this||be).tags,(function(be,Ae){Ae.lastElementChild.tabIndex=-1})),(this||be).disabled=!0,we.addClass((this||be).container,"selectr-disabled")},t.prototype.reset=function(){(this||be).disabled||(this.clear(),this.setSelected(!0),we.each((this||be).defaultSelected,(function(be,Ae){this.select(Ae)}),this||be),this.emit("selectr.reset"))},t.prototype.clear=function(Ae,xe){var Se;(this||be).el.multiple?(this||be).selectedIndexes.length&&(Se=(this||be).selectedIndexes.slice(),xe?this.deselect(Se.slice(-1)[0]):we.each(Se,(function(be,Ae){this.deselect(Ae)}),this||be)):-1<(this||be).selectedIndex&&this.deselect((this||be).selectedIndex,Ae),this.emit("selectr.clear")},t.prototype.serialise=function(Ae){var xe=[];return we.each((this||be).options,(function(be,Ae){var we={value:Ae.value,text:Ae.textContent};Ae.selected&&(we.selected=!0),Ae.disabled&&(we.disabled=!0),xe[be]=we})),Ae?JSON.stringify(xe):xe},t.prototype.serialize=function(be){return this.serialise(be)},t.prototype.setPlaceholder=function(Ae){Ae=Ae||(this||be).config.placeholder||(this||be).el.getAttribute("placeholder"),(this||be).options.length||(Ae=(this||be).config.messages.noOptions),(this||be).placeEl.innerHTML=Ae},t.prototype.paginate=function(){var Ae;if((this||be).items.length)return(Ae=this||be).pages=(this||be).items.map((function(be,we){return we%Ae.config.pagination==0?Ae.items.slice(we,we+Ae.config.pagination):null})).filter((function(be){return be})),(this||be).pages},t.prototype.setMessage=function(Ae,xe){xe&&this.close(),we.addClass((this||be).container,"notice"),(this||be).notice.textContent=Ae},t.prototype.removeMessage=function(){we.removeClass((this||be).container,"notice"),(this||be).notice.innerHTML=""},t.prototype.invert=function(){var Ae=we.rect((this||be).selected),xe=(this||be).tree.parentNode.offsetHeight,Se=window.innerHeight;Ae.top+Ae.height+xe>Se?(we.addClass((this||be).container,"inverted"),(this||be).isInverted=!0):(we.removeClass((this||be).container,"inverted"),(this||be).isInverted=!1),(this||be).optsRect=we.rect((this||be).tree)},t.prototype.getOptionByIndex=function(Ae){return(this||be).options[Ae]},t.prototype.getOptionByValue=function(Ae){for(var we=!1,xe=0,Se=(this||be).options.length;xe<Se;xe++)if((this||be).options[xe].value.trim()===Ae.toString().trim()){we=(this||be).options[xe];break}return we},Ae.exports=t},660:function(be,Ae,we){we.d(Ae,{Oq:function(){return Se},SC:function(){return Te},ai:function(){return xe},hJ:function(){return ke}});var xe=document.body,Se=10485760,ke=2e4,Te=2147483648},1925:function(be,Ae,we){we.d(Ae,{p:function(){return i}});var xe=we(6237);function i(be,Ae,we){var Se,ke=3<arguments.length&&void 0!==arguments[3]&&arguments[3],Te="function"==typeof(Re=be).getRootNode?Re.getRootNode():window,Ee={},Re=be.getBoundingClientRect(),_e=Ae.getBoundingClientRect(),$e=document.createElement("div");function h(){if($e&&$e.parentNode){for(var Ae in $e.parentNode.removeChild($e),Ee)Se=Ae,Object.prototype.hasOwnProperty.call(Ee,Se)&&((Se=Ee[Ae])&&(0,xe.removeEventListener)(Te,Ae,Se),delete Ee[Ae]);"function"==typeof we&&we(be)}var Se}function d(be){(be=be.target)===$e||(0,xe.isChildOf)(be,$e)||h()}return $e.className="jsoneditor-anchor",$e.style.position="absolute",$e.style.left=Re.left-_e.left+"px",$e.style.top=Re.top-_e.top+"px",$e.style.width=Re.width-2+"px",$e.style.height=Re.height-2+"px",$e.style.boxSizing="border-box",Ae.appendChild($e),Ee.mousedown=(0,xe.addEventListener)(Te,"mousedown",d),Ee.mousewheel=(0,xe.addEventListener)(Te,"mousewheel",d),ke&&(Se=null,$e.onmouseover=function(){clearTimeout(Se),Se=null},$e.onmouseout=function(){Se=Se||setTimeout(h,200)}),$e.destroy=h,$e}},5477:function(be){be.exports="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgICAgICByb3c6IHN0YXJ0Um93LAogICAgICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuZCA9IHsKICAgICAgICAgICAgcm93OiBlbmRSb3csCiAgICAgICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIFJhbmdlLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVQb2ludCA9IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWluc1JhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pc0VuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnNldEVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0eXBlb2Ygcm93ID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pbnNpZGVFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIGlmIChyb3cgPiB0aGlzLmVuZC5yb3cpCiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKICAgICAgICByZXR1cm4gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb21wYXJlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZUluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIGVsc2UKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ID09PSB0aGlzLmVuZC5yb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT09IHRoaXMuZW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLmVuZC5jb2x1bW4gPT0gMCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgTWF0aC5tYXgodGhpcy5zdGFydC5yb3csIHRoaXMuZW5kLnJvdyAtIDEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLm1vdmVCeSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiArPSBjb2x1bW47CiAgICAgICAgdGhpcy5lbmQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gY29sdW1uOwogICAgfTsKICAgIHJldHVybiBSYW5nZTsKfSgpKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uIChwMSwgcDIpIHsKICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uOwp9OwpleHBvcnRzLlJhbmdlID0gUmFuZ2U7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hbmNob3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKdmFyIEFuY2hvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEFuY2hvcihkb2MsIHJvdywgY29sdW1uKSB7CiAgICAgICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7CiAgICAgICAgdGhpcy5hdHRhY2goZG9jKTsKICAgICAgICBpZiAodHlwZW9mIHJvdyAhPSAibnVtYmVyIikKICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3cucm93LCByb3cuY29sdW1uKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwogICAgfQogICAgQW5jaG9yLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID4gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB2YXIgcG9pbnQgPSAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgeyByb3c6IHRoaXMucm93LCBjb2x1bW46IHRoaXMuY29sdW1uIH0sIHRoaXMuJGluc2VydFJpZ2h0KTsKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvaW50LnJvdywgcG9pbnQuY29sdW1uLCB0cnVlKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKHJvdywgY29sdW1uLCBub0NsaXApIHsKICAgICAgICB2YXIgcG9zOwogICAgICAgIGlmIChub0NsaXApIHsKICAgICAgICAgICAgcG9zID0gewogICAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnJvdyA9PSBwb3Mucm93ICYmIHRoaXMuY29sdW1uID09IHBvcy5jb2x1bW4pCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB2YXIgb2xkID0gewogICAgICAgICAgICByb3c6IHRoaXMucm93LAogICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7CiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3MuY29sdW1uOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgewogICAgICAgICAgICBvbGQ6IG9sZCwKICAgICAgICAgICAgdmFsdWU6IHBvcwogICAgICAgIH0pOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuZGV0YWNoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuZG9jdW1lbnQub2ZmKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvYyB8fCB0aGlzLmRvY3VtZW50OwogICAgICAgIHRoaXMuZG9jdW1lbnQub24oImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwogICAgICAgIGlmIChyb3cgPj0gdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBwb3Mucm93ID0gTWF0aC5tYXgoMCwgdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgICAgICBwb3MuY29sdW1uID0gdGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93IDwgMCkgewogICAgICAgICAgICBwb3Mucm93ID0gMDsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBwb3Mucm93ID0gcm93OwogICAgICAgICAgICBwb3MuY29sdW1uID0gTWF0aC5taW4odGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCwgTWF0aC5tYXgoMCwgY29sdW1uKSk7CiAgICAgICAgfQogICAgICAgIGlmIChjb2x1bW4gPCAwKQogICAgICAgICAgICBwb3MuY29sdW1uID0gMDsKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKICAgIHJldHVybiBBbmNob3I7Cn0oKSk7CkFuY2hvci5wcm90b3R5cGUuJGluc2VydFJpZ2h0ID0gZmFsc2U7Cm9vcC5pbXBsZW1lbnQoQW5jaG9yLnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyKTsKZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgdmFyIGJDb2xJc0FmdGVyID0gZXF1YWxQb2ludHNJbk9yZGVyID8gcG9pbnQxLmNvbHVtbiA8PSBwb2ludDIuY29sdW1uIDogcG9pbnQxLmNvbHVtbiA8IHBvaW50Mi5jb2x1bW47CiAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTsKfQpmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7CiAgICB2YXIgZGVsdGFJc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgdmFyIGRlbHRhQ29sU2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLmNvbHVtbiAtIGRlbHRhLnN0YXJ0LmNvbHVtbik7CiAgICB2YXIgZGVsdGFTdGFydCA9IGRlbHRhLnN0YXJ0OwogICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgIGlmICgkcG9pbnRzSW5PcmRlcihwb2ludCwgZGVsdGFTdGFydCwgbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIGlmICgkcG9pbnRzSW5PcmRlcihkZWx0YUVuZCwgcG9pbnQsICFtb3ZlSWZFcXVhbCkpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uICsgKHBvaW50LnJvdyA9PSBkZWx0YUVuZC5yb3cgPyBkZWx0YUNvbFNoaWZ0IDogMCkKICAgICAgICB9OwogICAgfQogICAgcmV0dXJuIHsKICAgICAgICByb3c6IGRlbHRhU3RhcnQucm93LAogICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgIH07Cn0KZXhwb3J0cy5BbmNob3IgPSBBbmNob3I7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRG9jdW1lbnQodGV4dE9yTGluZXMpIHsKICAgICAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICAgICAgaWYgKHRleHRPckxpbmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpKSB7CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmluc2VydCh7IHJvdzogMCwgY29sdW1uOiAwIH0sIHRleHRPckxpbmVzKTsKICAgICAgICB9CiAgICB9CiAgICBEb2N1bWVudC5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7IHJvdzogMCwgY29sdW1uOiAwIH0sIHRleHQgfHwgIiIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRkZXRlY3ROZXdMaW5lID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9eLio/KFxyXG58XHJ8XG4pL20pOwogICAgICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gbWF0Y2ggPyBtYXRjaFsxXSA6ICJcbiI7CiAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2VOZXdMaW5lTW9kZSIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uIChuZXdMaW5lTW9kZSkgewogICAgICAgIGlmICh0aGlzLiRuZXdMaW5lTW9kZSA9PT0gbmV3TGluZU1vZGUpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmUgPSBmdW5jdGlvbiAocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0VGV4dFJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0RnVsbExpbmVzKHJvdywgbGluZXMpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50LnJlbW92ZUxpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgcmVtb3ZlRnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUZ1bGxMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgPD0gMSkKICAgICAgICAgICAgdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KTsKICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgdGhpcy4kc3BsaXQodGV4dCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRJbkxpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24sIHRleHQpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB0aGlzLnBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbiArIHRleHQubGVuZ3RoKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogW3RleHRdCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY2xvbmVQb3MgPSBmdW5jdGlvbiAocG9zKSB7CiAgICAgICAgcmV0dXJuIHsgcm93OiBwb3Mucm93LCBjb2x1bW46IHBvcy5jb2x1bW4gfTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0RnVsbExpbmVzID0gZnVuY3Rpb24gKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGxpbmVzID0gWyIiXS5jb25jYXQobGluZXMpOwogICAgICAgICAgICByb3ctLTsKICAgICAgICAgICAgY29sdW1uID0gdGhpcy4kbGluZXNbcm93XS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoeyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfSwgbGluZXMpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRNZXJnZWRMaW5lcyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVJbkxpbmUgPSBmdW5jdGlvbiAocm93LCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgc3RhcnRDb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB0aGlzLmNsaXBwZWRQb3Mocm93LCBlbmRDb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBmaXJzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGZpcnN0Um93KSwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgIGxhc3RSb3cgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93KSwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgIHZhciBkZWxldGVGaXJzdE5ld0xpbmUgPSBsYXN0Um93ID09IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxICYmIGZpcnN0Um93ID4gMDsKICAgICAgICB2YXIgZGVsZXRlTGFzdE5ld0xpbmUgPSBsYXN0Um93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKGRlbGV0ZUZpcnN0TmV3TGluZSA/IGZpcnN0Um93IC0gMSA6IGZpcnN0Um93KTsKICAgICAgICB2YXIgc3RhcnRDb2wgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwKTsKICAgICAgICB2YXIgZW5kUm93ID0gKGRlbGV0ZUxhc3ROZXdMaW5lID8gbGFzdFJvdyArIDEgOiBsYXN0Um93KTsKICAgICAgICB2YXIgZW5kQ29sID0gKGRlbGV0ZUxhc3ROZXdMaW5lID8gMCA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCk7CiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbCwgZW5kUm93LCBlbmRDb2wpOwogICAgICAgIHZhciBkZWxldGVkTGluZXMgPSB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiByYW5nZS5zdGFydCwKICAgICAgICAgICAgZW5kOiByYW5nZS5lbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGRlbGV0ZWRMaW5lczsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAocmFuZ2UsIHRleHQpIHsKICAgICAgICBpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkKICAgICAgICAgICAgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpOwogICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCAmJiByYW5nZS5pc0VtcHR5KCkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5zdGFydDsKICAgICAgICBpZiAodGV4dCA9PSB0aGlzLmdldFRleHRSYW5nZShyYW5nZSkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5lbmQ7CiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmFwcGx5RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsdGFzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSwgZG9Ob3RWYWxpZGF0ZSkgewogICAgICAgIHZhciBpc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgICAgICBpZiAoaXNJbnNlcnQgPyBkZWx0YS5saW5lcy5sZW5ndGggPD0gMSAmJiAhZGVsdGEubGluZXNbMF0KICAgICAgICAgICAgOiAhUmFuZ2UuY29tcGFyZVBvaW50cyhkZWx0YS5zdGFydCwgZGVsdGEuZW5kKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChpc0luc2VydCAmJiBkZWx0YS5saW5lcy5sZW5ndGggPiAyMDAwMCkgewogICAgICAgICAgICB0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwgMjAwMDApOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgYXBwbHlEZWx0YSh0aGlzLiRsaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpOwogICAgICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIGRlbHRhKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRzYWZlQXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIHZhciBkb2NMZW5ndGggPSB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PSAicmVtb3ZlIiAmJiBkZWx0YS5zdGFydC5yb3cgPCBkb2NMZW5ndGggJiYgZGVsdGEuZW5kLnJvdyA8IGRvY0xlbmd0aAogICAgICAgICAgICB8fCBkZWx0YS5hY3Rpb24gPT0gImluc2VydCIgJiYgZGVsdGEuc3RhcnQucm93IDw9IGRvY0xlbmd0aCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIHRoaXMuJHNhZmVBcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuc3RhcnQpLAogICAgICAgICAgICBlbmQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuZW5kKSwKICAgICAgICAgICAgYWN0aW9uOiAoZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiID8gInJlbW92ZSIgOiAiaW5zZXJ0IiksCiAgICAgICAgICAgIGxpbmVzOiBkZWx0YS5saW5lcy5zbGljZSgpCiAgICAgICAgfSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluZGV4VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uIChpbmRleCwgc3RhcnRSb3cpIHsKICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7CiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgaW5kZXggLT0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkKICAgICAgICAgICAgICAgIHJldHVybiB7IHJvdzogaSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsgcm93OiBsIC0gMSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2wgLSAxXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICB9OwogICAgcmV0dXJuIERvY3VtZW50Owp9KCkpOwpEb2N1bWVudC5wcm90b3R5cGUuJGF1dG9OZXdMaW5lID0gIiI7CkRvY3VtZW50LnByb3RvdHlwZS4kbmV3TGluZU1vZGUgPSAiYXV0byI7Cm9vcC5pbXBsZW1lbnQoRG9jdW1lbnQucHJvdG90eXBlLCBFdmVudEVtaXR0ZXIpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZGVlcF9jb3B5IixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXtleHBvcnRzLmRlZXBDb3B5ID0gZnVuY3Rpb24gZGVlcENvcHkob2JqKSB7CiAgICBpZiAodHlwZW9mIG9iaiAhPT0gIm9iamVjdCIgfHwgIW9iaikKICAgICAgICByZXR1cm4gb2JqOwogICAgdmFyIGNvcHk7CiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CiAgICAgICAgY29weSA9IFtdOwogICAgICAgIGZvciAodmFyIGtleSA9IDA7IGtleSA8IG9iai5sZW5ndGg7IGtleSsrKSB7CiAgICAgICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvcHk7CiAgICB9CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgIT09ICJbb2JqZWN0IE9iamVjdF0iKQogICAgICAgIHJldHVybiBvYmo7CiAgICBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKQogICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgIHJldHVybiBjb3B5Owp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbGliL2xhbmciLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKZXhwb3J0cy5sYXN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07Cn07CmV4cG9ydHMuc3RyaW5nUmV2ZXJzZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTsKfTsKZXhwb3J0cy5zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjb3VudCkgewogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgd2hpbGUgKGNvdW50ID4gMCkgewogICAgICAgIGlmIChjb3VudCAmIDEpCiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7CiAgICAgICAgaWYgKGNvdW50ID4+PSAxKQogICAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKfTsKdmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXHNccyovOwp2YXIgdHJpbUVuZFJlZ2V4cCA9IC9cc1xzKiQvOwpleHBvcnRzLnN0cmluZ1RyaW1MZWZ0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgJycpOwp9OwpleHBvcnRzLnN0cmluZ1RyaW1SaWdodCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHZhciBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgY29weVtrZXldID0gb2JqW2tleV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHsKICAgIHZhciBjb3B5ID0gW107CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGlmIChhcnJheVtpXSAmJiB0eXBlb2YgYXJyYXlbaV0gPT0gIm9iamVjdCIpCiAgICAgICAgICAgIGNvcHlbaV0gPSB0aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOwogICAgICAgIGVsc2UKICAgICAgICAgICAgY29weVtpXSA9IGFycmF5W2ldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CmV4cG9ydHMuZGVlcENvcHkgPSByZXF1aXJlKCIuL2RlZXBfY29weSIpLmRlZXBDb3B5OwpleHBvcnRzLmFycmF5VG9NYXAgPSBmdW5jdGlvbiAoYXJyKSB7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIG1hcFthcnJbaV1dID0gMTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuY3JlYXRlTWFwID0gZnVuY3Rpb24gKHByb3BzKSB7CiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGZvciAodmFyIGkgaW4gcHJvcHMpIHsKICAgICAgICBtYXBbaV0gPSBwcm9wc1tpXTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuYXJyYXlSZW1vdmUgPSBmdW5jdGlvbiAoYXJyYXksIHZhbHVlKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHsKICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgIH0KfTsKZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKfTsKZXhwb3J0cy5lc2NhcGVIVE1MID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuICgiIiArIHN0cikucmVwbGFjZSgvJi9nLCAiJiMzODsiKS5yZXBsYWNlKC8iL2csICImIzM0OyIpLnJlcGxhY2UoLycvZywgIiYjMzk7IikucmVwbGFjZSgvPC9nLCAiJiM2MDsiKTsKfTsKZXhwb3J0cy5nZXRNYXRjaE9mZnNldHMgPSBmdW5jdGlvbiAoc3RyaW5nLCByZWdFeHApIHsKICAgIHZhciBtYXRjaGVzID0gW107CiAgICBzdHJpbmcucmVwbGFjZShyZWdFeHAsIGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICBtYXRjaGVzLnB1c2goewogICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMl0sCiAgICAgICAgICAgIGxlbmd0aDogc3RyLmxlbmd0aAogICAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gbWF0Y2hlczsKfTsKZXhwb3J0cy5kZWZlcnJlZENhbGwgPSBmdW5jdGlvbiAoZmNuKSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CiAgICB2YXIgZGVmZXJyZWQgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICAgIGRlZmVycmVkLmNhbmNlbCgpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCAwKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuc2NoZWR1bGUgPSBkZWZlcnJlZDsKICAgIGRlZmVycmVkLmNhbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CiAgICBkZWZlcnJlZC5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRpbWVyOwogICAgfTsKICAgIHJldHVybiBkZWZlcnJlZDsKfTsKZXhwb3J0cy5kZWxheWVkQ2FsbCA9IGZ1bmN0aW9uIChmY24sIGRlZmF1bHRUaW1lb3V0KSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CiAgICB2YXIgX3NlbGYgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICAgIGlmICh0aW1lciA9PSBudWxsKQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLmRlbGF5ID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwogICAgX3NlbGYuc2NoZWR1bGUgPSBfc2VsZjsKICAgIF9zZWxmLmNhbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgIH07CiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICB9OwogICAgX3NlbGYuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gX3NlbGY7Cn07CmV4cG9ydHMuc3VwcG9ydHNMb29rYmVoaW5kID0gZnVuY3Rpb24gKCkgewogICAgdHJ5IHsKICAgICAgICBuZXcgUmVnRXhwKCcoPzw9LiknKTsKICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn07CmV4cG9ydHMuc2tpcEVtcHR5TWF0Y2ggPSBmdW5jdGlvbiAobGluZSwgbGFzdCwgc3VwcG9ydHNVbmljb2RlRmxhZykgewogICAgcmV0dXJuIHN1cHBvcnRzVW5pY29kZUZsYWcgJiYgbGluZS5jb2RlUG9pbnRBdChsYXN0KSA+IDB4ZmZmZiA/IDIgOiAxOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg=="},3057:function(be,Ae,we){we.d(Ae,{AI:function(){return c},Tl:function(){return h},xC:function(){return l}});we(1081);var xe={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",collapseAll:"Collapse all fields",compactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+I)",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",formatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+I)",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",repairTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",searchTitle:"Search fields and values",searchNextResultTitle:"Next result (Enter)",searchPreviousResultTitle:"Previous result (Shift + Enter)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeEditorTitle:"Switch Editor Mode",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default",containsInvalidProperties:"Contains invalid properties",containsInvalidItems:"Contains invalid items"},es:{array:"Matriz",auto:"Auto",appendText:"Agregar",appendTitle:"Agregue un nuevo campo con el tipo 'auto' después de este campo (Ctrl + Shift + Ins)",appendSubmenuTitle:"Seleccione el tipo de campo que se agregará",appendTitleAuto:"Agregue un nuevo campo con el tipo 'auto' (Ctrl + Shift + Ins)",ascending:"Ascendente",ascendingTitle:"Ordene los elementos secundarios de este ${type} en orden ascendente",actionsMenu:"Haga clic para abrir el menú de acciones (Ctrl + M)",cannotParseFieldError:"No se puede parsear el campo en JSON",cannotParseValueError:"No se puede parsear el valor en JSON",collapseAll:"Contraer todos los campos",compactTitle:"Compactar datos JSON, eliminar todos los espacios en blanco (Ctrl + Shift + I)",descending:"Descendente",descendingTitle:"Ordene los hijos de este ${type} en orden descendente",drag:"Arrastre para mover este campo (Alt + Mayús + Flechas)",duplicateKey:"llave duplicada",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos seleccionados (Ctrl + D)",duplicateField:"Duplicar este campo (Ctrl + D)",duplicateFieldError:"Nombre de campo duplicado",empty:"vacio",expandAll:"Expandir todos los campos",expandTitle:"Haga clic para expandir/contraer este campo (Ctrl + E). \n  Ctrl+Clic para expandir/contraer incluyendo todos los niños.",formatTitle:"Formatee los datos JSON, con la sangría y los avances de línea adecuados (Ctrl + I)",insert:"Insertar",insertTitle:"Inserte un nuevo campo con el tipo 'auto' antes de este campo (Ctrl + Ins)",insertSub:"Seleccione el tipo de campo a insertar",object:"Objeto",ok:"Ok",redo:"Rehacer (Ctrl+Mayús+Z)",removeText:"Eliminar",removeTitle:"Eliminar campos seleccionados (Ctrl+Supr)",removeField:"Eliminar este campo (Ctrl+Supr)",repairTitle:"Reparar JSON: corrija comillas y caracteres de escape, elimine comentarios y notación JSONP, convierta objetos JavaScript en JSON.",searchTitle:"Campos de búsqueda y valores",searchNextResultTitle:"Siguiente resultado (Entrar)",searchPreviousResultTitle:"Resultado anterior (Shift + Enter)",selectNode:"Seleccione un nodo...",showAll:"mostrar todo",showMore:"mostrar más",showMoreStatus:"mostrando ${visibleChilds} de ${totalChilds} elementos.",sort:"Ordenar",sortTitle:"Ordene los hijos de este ${type}",sortTitleShort:"Ordenar contenidos",sortFieldLabel:"Campo:",sortDirectionLabel:"Dirección:",sortFieldTitle:"Seleccione el campo anidado por el cual ordenar la matriz u objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar el campo seleccionado en orden ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar por el campo seleccionado, en orden descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar o transformar los hijos de este ${type}",transformTitleShort:"Filtrar, ordenar o transformar contenidos",extract:"Extraer",extractTitle:"Extrae este ${type}",transformQueryTitle:"Ingrese una consulta JMESPath",transformWizardLabel:"Wizard",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Seleccione un campo",transformQueryLabel:"Consulta",transformPreviewLabel:"Vista Previa",type:"Tipo",typeTitle:"Cambiar el tipo de campo",openUrl:"Ctrl+Click o Ctrl+Enter para abrir la URL en una nueva ventana",undo:"Deshacer la última acción (Ctrl+Z)",validationCannotMove:"No se puede mover un campo a un hijo de sí mismo.",autoType:'Tipo de campo "auto". El tipo de campo se determina automáticamente a partir del valor y puede ser una cadena, un número, un booleano o un valor nulo.',objectType:'Tipo de campo "objeto".  Un objeto contiene un conjunto desordenado de pares clave/valor.',arrayType:'Tipo de campo "matriz".  Una matriz contiene una colección ordenada de valores.',stringType:'Tipo de campo "cadena".  El tipo de campo no se determina a partir del valor,  pero siempre se devuelve como una cadena.',modeEditorTitle:"Cambiar modo de editor",modeCodeText:"Código",modeCodeTitle:"Cambiar al resaltador de código",modeFormText:"Formulario",modeFormTitle:"Cambiar al editor de formularios",modeTextText:"Texto",modeTextTitle:"Cambiar al editor de texto sin formato",modeTreeText:"Árbol",modeTreeTitle:"Cambiar al editor de árbol",modeViewText:"Vista",modeViewTitle:"Cambiar a la vista de árbol",modePreviewText:"Vista Previa",modePreviewTitle:"Cambiar al modo de vista previa",examples:"Ejemplos",default:"Predeterminado",containsInvalidProperties:"Contiene propiedades no válidas",containsInvalidItems:"Contiene ítems no válidos"},"zh-CN":{array:"数组",auto:"自动",appendText:"追加",appendTitle:"在此字段后追加一个类型为“auto”的新字段 (Ctrl+Shift+Ins)",appendSubmenuTitle:"选择要追加的字段类型",appendTitleAuto:"追加类型为“auto”的新字段 (Ctrl+Shift+Ins)",ascending:"升序",ascendingTitle:"升序排列${type}的子节点",actionsMenu:"点击打开动作菜单(Ctrl+M)",cannotParseFieldError:"无法将字段解析为JSON",cannotParseValueError:"无法将值解析为JSON",collapseAll:"缩进所有字段",compactTitle:"压缩JSON数据，删除所有空格 (Ctrl+Shift+I)",descending:"降序",descendingTitle:"降序排列${type}的子节点",drag:"拖拽移动该节点(Alt+Shift+Arrows)",duplicateKey:"重复键",duplicateText:"复制",duplicateTitle:"复制选中字段(Ctrl+D)",duplicateField:"复制该字段(Ctrl+D)",duplicateFieldError:"重复的字段名称",empty:"清空",expandAll:"展开所有字段",expandTitle:"点击 展开/收缩 该字段(Ctrl+E). \nCtrl+Click 展开/收缩 包含所有子节点.",formatTitle:"使用适当的缩进和换行符格式化JSON数据 (Ctrl+I)",insert:"插入",insertTitle:"在此字段前插入类型为“auto”的新字段 (Ctrl+Ins)",insertSub:"选择要插入的字段类型",object:"对象",ok:"Ok",redo:"重做 (Ctrl+Shift+Z)",removeText:"移除",removeTitle:"移除选中字段 (Ctrl+Del)",removeField:"移除该字段 (Ctrl+Del)",repairTitle:"修复JSON：修复引号和转义符，删除注释和JSONP表示法，将JavaScript对象转换为JSON。",selectNode:"选择一个节点...",showAll:"展示全部",showMore:"展示更多",showMoreStatus:"显示${totalChilds}的${visibleChilds}项目.",sort:"排序",sortTitle:"排序${type}的子节点",sortTitleShort:"内容排序",sortFieldLabel:"字段：",sortDirectionLabel:"方向：",sortFieldTitle:"选择用于对数组或对象排序的嵌套字段",sortAscending:"升序排序",sortAscendingTitle:"按照该字段升序排序",sortDescending:"降序排序",sortDescendingTitle:"按照该字段降序排序",string:"字符串",transform:"变换",transformTitle:"筛选，排序，或者转换${type}的子节点",transformTitleShort:"筛选，排序，或者转换内容",extract:"提取",extractTitle:"提取这个 ${type}",transformQueryTitle:"输入JMESPath查询",transformWizardLabel:"向导",transformWizardFilter:"筛选",transformWizardSortBy:"排序",transformWizardSelectFields:"选择字段",transformQueryLabel:"查询",transformPreviewLabel:"预览",type:"类型",typeTitle:"更改字段类型",openUrl:"Ctrl+Click 或者 Ctrl+Enter 在新窗口打开链接",undo:"撤销上次动作 (Ctrl+Z)",validationCannotMove:"无法将字段移入其子节点",autoType:'字段类型 "auto". 字段类型由值自动确定 可以为 string，number，boolean，或者 null.',objectType:'字段类型 "object". 对象包含一组无序的键/值对.',arrayType:'字段类型 "array". 数组包含值的有序集合.',stringType:'字段类型 "string". 字段类型由值自动确定，但始终作为字符串返回.',modeCodeText:"代码",modeCodeTitle:"切换至代码高亮",modeFormText:"表单",modeFormTitle:"切换至表单编辑",modeTextText:"文本",modeTextTitle:"切换至文本编辑",modeTreeText:"树",modeTreeTitle:"切换至树编辑",modeViewText:"视图",modeViewTitle:"切换至树视图",modePreviewText:"预览",modePreviewTitle:"切换至预览模式",examples:"例子",default:"缺省",containsInvalidProperties:"包含无效的属性",containsInvalidItems:"包含无效项目"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de ações (Ctrl+M)",cannotParseFieldError:"Não é possível analisar o campo no JSON",cannotParseValueError:"Não é possível analisar o valor em JSON",collapseAll:"Fechar todos campos",compactTitle:"Dados JSON compactos, remova todos os espaços em branco (Ctrl+Shift+I)",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",formatTitle:"Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+I)",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",repairTitle:"Repare JSON: corrija aspas e caracteres de escape, remova comentários e notação JSONP, transforme objetos JavaScript em JSON.",selectNode:"Selecione um nódulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Direção:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conteúdos",transformQueryTitle:"Insira uma expressão JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Expressão",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer último ação (Ctrl+Z)",validationCannotMove:"Não pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia",containsInvalidProperties:"Contém propriedades inválidas",containsInvalidItems:"Contém itens inválidos"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alanın altına 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alanın tipini seç",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'ın alt tiplerini artan düzende sırala",actionsMenu:"Aksiyon menüsünü açmak için tıklayın (Ctrl+M)",collapseAll:"Tüm alanları kapat",descending:"Azalan",descendingTitle:"${type}'ın alt tiplerini azalan düzende sırala",drag:"Bu alanı taşımak için sürükleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"Aşağıya kopyala",duplicateTitle:"Seçili alanlardan bir daha oluştur (Ctrl+D)",duplicateField:"Bu alandan bir daha oluştur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayrıştırılamıyor",cannotParseValueError:"JSON'a değer ayrıştırılamıyor",empty:"boş",expandAll:"Tüm alanları aç",expandTitle:"Bu alanı açmak/kapatmak için tıkla (Ctrl+E). \nAlt alanlarda dahil tüm alanları açmak için Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alanın üstüne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alanın tipini seç",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kaldır",removeTitle:"Seçilen alanları kaldır (Ctrl+Del)",removeField:"Bu alanı kaldır (Ctrl+Del)",selectNode:"Bir nesne seç...",showAll:"tümünü göster",showMore:"daha fazla göster",showMoreStatus:"${totalChilds} alanın ${visibleChilds} alt alanları gösteriliyor",sort:"Sırala",sortTitle:"${type}'ın alt alanlarını sırala",sortTitleShort:"İçerikleri sırala",sortFieldLabel:"Alan:",sortDirectionLabel:"Yön:",sortFieldTitle:"Diziyi veya nesneyi sıralamak için iç içe geçmiş alanı seçin",sortAscending:"Artan",sortAscendingTitle:"Seçili alanı artan düzende sırala",sortDescending:"Azalan",sortDescendingTitle:"Seçili alanı azalan düzende sırala",string:"Karakter Dizisi",transform:"Dönüştür",transformTitle:"${type}'ın alt alanlarını filtrele, sırala veya dönüştür",transformTitleShort:"İçerikleri filterele, sırala veya dönüştür",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"Sırala",transformWizardSelectFields:"Alanları seç",transformQueryLabel:"Sorgu",transformPreviewLabel:"Önizleme",type:"Tip",typeTitle:"Bu alanın tipini değiştir",openUrl:"URL'i yeni bir pencerede açmak için Ctrl+Click veya Ctrl+Enter",undo:"Son değişikliği geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak taşınamıyor",autoType:'Alan tipi "otomatik". Alan türü otomatik olarak değerden belirlenirve bir dize, sayı, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, sıralanmamış bir anahtar / değer çifti kümesi içerir.',arrayType:'Alan tipi "dizi". Bir dizi, düzenli değerler koleksiyonu içerir.',stringType:'Alan tipi "karakter dizisi". Alan türü değerden belirlenmez,ancak her zaman karakter dizisi olarak döndürülür.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulayıcıya geç",modeFormText:"Form",modeFormTitle:"Form düzenleyiciye geç",modeTextText:"Metin",modeTextTitle:"Düz metin düzenleyiciye geç",modeTreeText:"Ağaç",modeTreeTitle:"Ağaç düzenleyiciye geç",modeViewText:"Görünüm",modeViewTitle:"Ağaç görünümüne geç",examples:"Örnekler",default:"Varsayılan",containsInvalidProperties:"Geçersiz özellikler içeriyor",containsInvalidItems:"Geçersiz öğeler içeriyor"},ja:{array:"配列",auto:"オート",appendText:"追加",appendTitle:'次のフィールドに"オート"のフィールドを追加 (Ctrl+Shift+Ins)',appendSubmenuTitle:"追加するフィールドの型を選択してください",appendTitleAuto:'"オート"のフィールドを追加 (Ctrl+Shift+Ins)',ascending:"昇順",ascendingTitle:"${type}の子要素を昇順に並べ替え",actionsMenu:"クリックしてアクションメニューを開く (Ctrl+M)",collapseAll:"すべてを折りたたむ",descending:"降順",descendingTitle:"${type}の子要素を降順に並べ替え",drag:"ドラッグして選択中のフィールドを移動 (Alt+Shift+Arrows)",duplicateKey:"複製キー",duplicateText:"複製",duplicateTitle:"選択中のフィールドを複製 (Ctrl+D)",duplicateField:"選択中のフィールドを複製 (Ctrl+D)",duplicateFieldError:"フィールド名が重複しています",cannotParseFieldError:"JSONのフィールドを解析できません",cannotParseValueError:"JSONの値を解析できません",empty:"空",expandAll:"すべてを展開",expandTitle:"クリックしてフィールドを展開/折りたたむ (Ctrl+E). \nCtrl+Click ですべての子要素を展開/折りたたむ",insert:"挿入",insertTitle:"選択中のフィールドの前に新しいフィールドを挿入 (Ctrl+Ins)",insertSub:"挿入するフィールドの型を選択",object:"オブジェクト",ok:"実行",redo:"やり直す (Ctrl+Shift+Z)",removeText:"削除",removeTitle:"選択中のフィールドを削除 (Ctrl+Del)",removeField:"選択中のフィールドを削除 (Ctrl+Del)",selectNode:"ノードを選択...",showAll:"すべてを表示",showMore:"もっと見る",showMoreStatus:"${totalChilds}個のアイテムのうち ${visibleChilds}個を表示しています。",sort:"並べ替え",sortTitle:"${type}の子要素を並べ替え",sortTitleShort:"並べ替え",sortFieldLabel:"フィールド:",sortDirectionLabel:"順序:",sortFieldTitle:"配列またはオブジェクトを並び替えるためのフィールドを選択",sortAscending:"昇順",sortAscendingTitle:"選択中のフィールドを昇順に並び替え",sortDescending:"降順",sortDescendingTitle:"選択中のフィールドを降順に並び替え",string:"文字列",transform:"変換",transformTitle:"${type}の子要素をフィルター・並び替え・変換する",transformTitleShort:"内容をフィルター・並び替え・変換する",extract:"抽出",extractTitle:"${type}を抽出",transformQueryTitle:"JMESPathクエリを入力",transformWizardLabel:"ウィザード",transformWizardFilter:"フィルター",transformWizardSortBy:"並び替え",transformWizardSelectFields:"フィールドを選択",transformQueryLabel:"クエリ",transformPreviewLabel:"プレビュー",type:"型",typeTitle:"選択中のフィールドの型を変更",openUrl:"Ctrl+Click または Ctrl+Enter で 新規ウィンドウでURLを開く",undo:"元に戻す (Ctrl+Z)",validationCannotMove:"子要素に移動できません ",autoType:"オート： フィールドの型は値から自動的に決定されます。 (文字列・数値・ブール・null)",objectType:"オブジェクト： オブジェクトは順序が決まっていないキーと値のペア組み合わせです。",arrayType:"配列： 配列は順序が決まっている値の集合体です。",stringType:"文字列： フィールド型は値から決定されませんが、常に文字列として返されます。",modeCodeText:"コードモード",modeCodeTitle:"ハイライトモードに切り替え",modeFormText:"フォームモード",modeFormTitle:"フォームモードに切り替え",modeTextText:"テキストモード",modeTextTitle:"テキストモードに切り替え",modeTreeText:"ツリーモード",modeTreeTitle:"ツリーモードに切り替え",modeViewText:"ビューモード",modeViewTitle:"ビューモードに切り替え",modePreviewText:"プレビュー",modePreviewTitle:"プレビューに切り替え",examples:"例",default:"デフォルト",containsInvalidProperties:"無効なプロパティが含まれています",containsInvalidItems:"無効なアイテムが含まれています"},"fr-FR":{array:"Liste",auto:"Auto",appendText:"Ajouter",appendTitle:"Ajouter un champ de type 'auto' après ce champ (Ctrl+Shift+Ins)",appendSubmenuTitle:"Sélectionner le type du champ à ajouter",appendTitleAuto:"Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendant",ascendingTitle:"Trier les enfants de ce ${type} par ordre ascendant",actionsMenu:"Ouvrir le menu des actions (Ctrl+M)",collapseAll:"Regrouper",descending:"Descendant",descendingTitle:"Trier les enfants de ce ${type} par ordre descendant",drag:"Déplacer (Alt+Shift+Arrows)",duplicateKey:"Dupliquer la clé",duplicateText:"Dupliquer",duplicateTitle:"Dupliquer les champs sélectionnés (Ctrl+D)",duplicateField:"Dupliquer ce champ (Ctrl+D)",duplicateFieldError:"Dupliquer le nom de champ",cannotParseFieldError:"Champ impossible à parser en JSON",cannotParseValueError:"Valeur impossible à parser en JSON",empty:"vide",expandAll:"Étendre",expandTitle:"Étendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour étendre/regrouper avec tous les champs.",insert:"Insérer",insertTitle:"Insérer un champ de type 'auto' avant ce champ (Ctrl+Ins)",insertSub:"Sélectionner le type de champ à insérer",object:"Objet",ok:"Ok",redo:"Rejouer (Ctrl+Shift+Z)",removeText:"Supprimer",removeTitle:"Supprimer les champs sélectionnés (Ctrl+Del)",removeField:"Supprimer ce champ (Ctrl+Del)",searchTitle:"Rechercher champs et valeurs",searchNextResultTitle:"Résultat suivant (Enter)",searchPreviousResultTitle:"Résultat précédent (Shift + Enter)",selectNode:"Sélectionner un nœud...",showAll:"voir tout",showMore:"voir plus",showMoreStatus:"${visibleChilds} éléments affichés de ${totalChilds}.",sort:"Trier",sortTitle:"Trier les champs de ce ${type}",sortTitleShort:"Trier",sortFieldLabel:"Champ:",sortDirectionLabel:"Direction:",sortFieldTitle:"Sélectionner les champs permettant de trier les listes et objet",sortAscending:"Ascendant",sortAscendingTitle:"Trier les champs sélectionnés par ordre ascendant",sortDescending:"Descendant",sortDescendingTitle:"Trier les champs sélectionnés par ordre descendant",string:"Chaîne",transform:"Transformer",transformTitle:"Filtrer, trier, or transformer les enfants de ce ${type}",transformTitleShort:"Filtrer, trier ou transformer le contenu",extract:"Extraire",extractTitle:"Extraire ce ${type}",transformQueryTitle:"Saisir une requête JMESPath",transformWizardLabel:"Assistant",transformWizardFilter:"Filtrer",transformWizardSortBy:"Trier par",transformWizardSelectFields:"Sélectionner les champs",transformQueryLabel:"Requête",transformPreviewLabel:"Prévisualisation",type:"Type",typeTitle:"Changer le type de ce champ",openUrl:"Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fenêtre",undo:"Annuler la dernière action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Champe de type "auto". Ce type de champ est automatiquement déterminé en fonction de la valeur et peut être de type "chaîne", "nombre", "booléen" ou null.',objectType:'Champ de type "objet". Un objet contient un ensemble non ordonné de paires clé/valeur.',arrayType:'Champ de type "liste". Une liste contient une collection ordonnée de valeurs.',stringType:'Champ de type "chaîne". Ce type de champ n\'est pas déterminé en fonction de la valeur, mais retourne systématiquement une chaîne de caractères.',modeEditorTitle:"Changer mode d'édition",modeCodeText:"Code",modeCodeTitle:"Activer surlignage code",modeFormText:"Formulaire",modeFormTitle:"Activer formulaire",modeTextText:"Texte",modeTextTitle:"Activer éditeur texte",modeTreeText:"Arbre",modeTreeTitle:"Activer éditeur arbre",modeViewText:"Lecture seule",modeViewTitle:"Activer vue arbre",modePreviewText:"Prévisualisation",modePreviewTitle:"Activer mode prévisualiser",examples:"Exemples",default:"Défaut",containsInvalidProperties:"Contient des propriétés non valides",containsInvalidItems:"Contient des éléments invalides"},de:{array:"Auflistung",auto:"Auto",appendText:"anhängen",appendTitle:"Fügen Sie nach diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Umschalt+Ein)",appendSubmenuTitle:"Wählen Sie den Typ des neuen Feldes",appendTitleAuto:"Ein neues Feld vom Typ 'auto' hinzufügen (Strg+Umschalt+Ein)",ascending:"Aufsteigend",ascendingTitle:"Sortieren Sie die Elemente dieses ${type} in aufsteigender Reihenfolge",actionsMenu:"Klicken Sie zum Öffnen des Aktionsmenüs (Strg+M)",cannotParseFieldError:"Feld kann nicht in JSON geparst werden",cannotParseValueError:"Wert kann nicht in JSON geparst werden",collapseAll:"Alle Felder zuklappen",compactTitle:"JSON-Daten verdichten, alle Leerzeichen entfernen (Strg+Umschalt+\\)",descending:"Absteigend",descendingTitle:"Sortieren Sie die Elemente dieses ${type} in absteigender Reihenfolge",drag:"Ziehen, um dieses Feld zu verschieben (Alt+Umschalt+Pfeile)",duplicateKey:"Doppelter Schlüssel",duplicateText:"Duplikat",duplicateTitle:"Ausgewählte Felder duplizieren (Strg+D)",duplicateField:"Dieses Feld duplizieren (Strg+D)",duplicateFieldError:"Doppelter Feldname",empty:"leer",expandAll:"Alle Felder anzeigen",expandTitle:"Klicken Sie, um dieses Feld zu erweitern/zu kollabieren (Strg+E). \nStrg+Klicken Sie, um dieses Feld einschließlich aller Elemente zu erweitern/zu kollabieren.",formatTitle:"JSON-Daten mit korrekter Einrückung und Zeilenvorschüben formatieren (Strg+\\)",insert:"einfügen",insertTitle:"Fügen Sie vor diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Einfg)",insertSub:"Wählen Sie den Typ des neuen Feldes",object:"Objekt",ok:"Ok",redo:"Wiederholen (Strg+Umschalt+Z)",removeText:"entfernen",removeTitle:"Ausgewählte Felder entfernen (Strg+Entf)",removeField:"Dieses Feld entfernen (Strg+Entf)",repairTitle:"JSON reparieren: Anführungszeichen und Escape-Zeichen korrigieren, Kommentare und JSONP-Notation entfernen, JavaScript-Objekte in JSON umwandeln.",searchTitle:"Suchfelder und Werte",searchNextResultTitle:"Nächstes Ergebnis (Enter)",searchPreviousResultTitle:"Vorheriges Ergebnis (Umschalt + Eingabe)",selectNode:"Wählen Sie einen Knoten aus...",showAll:"alle anzeigen",showMore:"mehr anzeigen",showMoreStatus:"Anzeige von ${visibleChilds} von ${totalChilds}-Elementen.",sort:"Sortieren",sortTitle:"Sortieren Sie die Elemente dieses ${type}",sortTitleShort:"Inhalt sortieren",sortFieldLabel:"Feld:",sortDirectionLabel:"Richtung:",sortFieldTitle:"Wählen Sie das verschachtelte Feld, nach dem das Array oder Objekt sortiert werden soll.",sortAscending:"Aufsteigend",sortAscendingTitle:"Sortieren Sie das ausgewählte Feld in aufsteigender Reihenfolge",sortDescending:"Absteigend",sortDescendingTitle:"Sortieren Sie das ausgewählte Feld in absteigender Reihenfolge",string:"Zeichenfolge",transform:"Verwandeln",transformTitle:"Die Elemente dieses ${type} filtern, sortieren oder transformieren",transformTitleShort:"Inhalte filtern, sortieren oder transformieren",extract:"Auszug",extractTitle:"Extrahieren Sie diesen ${type}",transformQueryTitle:"Eine JMESPath-Abfrage eingeben",transformWizardLabel:"Zauberer",transformWizardFilter:"Filter",transformWizardSortBy:"Sortieren nach",transformWizardSelectFields:"Felder auswählen",transformQueryLabel:"Anfrage",transformPreviewLabel:"Vorschau",type:"Geben Sie  ein.",typeTitle:"Ändern Sie den Typ dieses Feldes",openUrl:"Strg+Klicken oder Strg+Eingabe, um die URL in einem neuen Fenster zu öffnen",undo:"Letzte Aktion rückgängig machen (Strg+Z)",validationCannotMove:"Kann ein Feld nicht in ein Kind seiner selbst verschieben",autoType:'Feldtyp "auto". Der Feldtyp wird automatisch aus dem Wert bestimmt und kann ein String, eine Zahl, boolesch oder null sein.',objectType:'Feldtyp "Objekt". Ein Objekt enthält eine ungeordnete Menge von Schlüssel/Wert-Paaren.',arrayType:'Feldtyp "Array". Ein Array enthält eine geordnete Sammlung von Werten.',stringType:'Feldtyp "Zeichenfolge". Der Feldtyp wird nicht aus dem Wert bestimmt, sondern immer als Zeichenfolge zurückgegeben.',modeEditorTitle:"Editor-Modus umschalten",modeCodeText:"Code",modeCodeTitle:"Umschalten auf Code-Highlighter",modeFormText:"Formular",modeFormTitle:"Zum Formular-Editor wechseln",modeTextText:"Text",modeTextTitle:"Zum Editor für einfachen Text wechseln",modeTreeText:"Baum",modeTreeTitle:"Zum Baum-Editor wechseln",modeViewText:"Siehe",modeViewTitle:"Zur Baumansicht wechseln",modePreviewText:"Vorschau",modePreviewTitle:"In den Vorschau-Modus wechseln",examples:"Beispiele",default:"Standardmäßig",containsInvalidProperties:"Enthält ungültige Eigenschaften",containsInvalidItems:"Enthält ungültige Elemente"},ru:{array:"Массив",auto:"Авто",appendText:"Добавить",appendTitle:"Добавить новое поле с типом 'авто' после этого поля (Ctrl+Shift+Ins)",appendSubmenuTitle:"Выбрать тип поля для добавления",appendTitleAuto:"Добавить новое поле с типом 'авто' (Ctrl+Shift+Ins)",ascending:"По возрастанию",ascendingTitle:"Сортировать ${type} по возрастанию",actionsMenu:"Нажмите для открытия меню действий (Ctrl+M)",cannotParseFieldError:"Невозможно преобразовать поле в JSON",cannotParseValueError:"Невозможно преобразовать значение в JSON",collapseAll:"Свернуть все",compactTitle:"Минификация JSON (Ctrl+Shift+I)",descending:"По убыванию",descendingTitle:"Сортировать ${type} по убыванию",drag:"Потяните для перемещения этого поля (Alt+Shift+Arrows)",duplicateKey:"повторяющийся ключ",duplicateText:"Дублировать",duplicateTitle:"Дублирование полей (Ctrl+D)",duplicateField:"Дублировать поле (Ctrl+D)",duplicateFieldError:"Дублирование названия поля",empty:"пустой",expandAll:"Развернуть все",expandTitle:"Нажмите для раскрытия/скрытия поля (Ctrl+E)\nили Ctrl+Click для раскрытия/скрытия всех потомков.",formatTitle:"Форматирование JSON (Ctrl+I)",insert:"Вставить",insertTitle:"Вставить новое поле с типом 'авто' перед этим полем (Ctrl+Ins)",insertSub:"Выбрать тип поля для вставки",object:"Объект",ok:"ОК",redo:"Повторить (Ctrl+Shift+Z)",removeText:"Удалить",removeTitle:"Удалить выбранные поля (Ctrl+Del)",removeField:"Удалить поле (Ctrl+Del)",repairTitle:"Восстановите JSON: исправьте кавычки и escape-символы, удалите комментарии и нотацию JSONP, модифицируйте объекты JavaScript в JSON.",searchTitle:"Поиск",searchNextResultTitle:"Следующий результат (Enter)",searchPreviousResultTitle:"Предыдущий результат (Shift + Enter)",selectNode:"Выбор узла...",showAll:"показать все",showMore:"больше",showMoreStatus:"${visibleChilds} из ${totalChilds}",sort:"Сортировка",sortTitle:"Сортировка потомков типа ${type}",sortTitleShort:"Сортировка содержимого",sortFieldLabel:"Поле:",sortDirectionLabel:"Направление:",sortFieldTitle:"Выберите поле для сортировки массива или объекта",sortAscending:"По возрастанию",sortAscendingTitle:"Сортировка выбранного поря по возрастанию",sortDescending:"По убыванию",sortDescendingTitle:"Сортировка выбранного поря по убыванию",string:"Строка",transform:"Модификация",transformTitle:"Фильтрация, сортировка или модификация данных типа ${type}",transformTitleShort:"Фильтрация, сортировка или модификация данных",extract:"Извлечение",extractTitle:"Извлечь тип ${type}",transformQueryTitle:"Введите JMESpath запрос",transformWizardLabel:"Мастер",transformWizardFilter:"Фильтр",transformWizardSortBy:"Сортировка",transformWizardSelectFields:"Поля",transformQueryLabel:"Запрос",transformPreviewLabel:"Просмотр",type:"Тип",typeTitle:"Изменить тип этого поля",openUrl:"Ctrl+Click или Ctrl+Enter для открытия url в новом окне",undo:"Отменить (Ctrl+Z)",validationCannotMove:"Поле не может быть перемещено в потомка",autoType:"Тип поля автоматически определяется по значению и может быть строкой, числом, логическим значением или null.",objectType:"Объект содержит неупорядоченный набор пар ключ/значение.",arrayType:"Массив содержит упорядоченный набор значений.",stringType:"Тип поля не определяется из значения, но всегда возвращается как строка.",modeEditorTitle:"Переключение режима редактора",modeCodeText:"Код",modeCodeTitle:"Переключить в режим редактора кода",modeFormText:"Форма",modeFormTitle:"Переключить в режим формы",modeTextText:"Текст",modeTextTitle:"Переключить в режим редактора текста",modeTreeText:"Дерево",modeTreeTitle:"Переключить в режим редактора дерева",modeViewText:"Просмотр дерева",modeViewTitle:"Переключить в режим просмотра дерева",modePreviewText:"Просмотр",modePreviewTitle:"Переключить в режим просмотра",examples:"Примеры",default:"По умолчанию",containsInvalidProperties:"Содержит недопустимые свойства",containsInvalidItems:"Содержит недопустимые элементы"},ko:{array:"배열",auto:"자동",appendText:"추가",appendTitle:'선택한 요소 아래에 "자동" 요소를 추가합니다. (Ctrl + Shift + Ins)',appendSubmenuTitle:"추가할 요소의 유형을 선택해주세요.",appendTitleAuto:'"자동" 요소를 추가합니다. (Ctrl + Shift + Ins)',ascending:"오름차순",ascendingTitle:"선택한 ${type}의 하위 요소를 오름차순 정렬합니다.",actionsMenu:"메뉴 열기 (Ctrl + M)",cannotParseFieldError:"JSON의 요소를 해석할 수 없습니다.",cannotParseValueError:"JSON의 값을 해석할 수 없습니다.",collapseAll:"모두 접기",compactTitle:"모든 공백을 제거하여 JSON 데이터를 작게 만듭니다. (Ctrl + Shift + I)",descending:"내림차순",descendingTitle:"선택한 ${type}의 하위 요소를 내림차순으로 정렬",drag:"드래그하여 요소를 이동합니다. (Alt + Shift + Arrows)",duplicateKey:"복제키",duplicateText:"복제",duplicateTitle:"선택한 요소를 복제합니다. (Ctrl + D)",duplicateField:"선택한 요소를 복제합니다. (Ctrl + D)",duplicateFieldError:"요소 이름이 중복되었습니다.",empty:"비어있음",expandAll:"모두 열기",expandTitle:"클릭하여 요소를 열거나 닫습니다. (Ctrl + E) \nCtrl + Click으로 모든 하위 요소를 열거나 닫습니다.",formatTitle:"적절한 들여쓰기 및 줄바꿈으로 JSON 데이터를 정형화합니다. (Ctrl + I)",insert:"삽입",insertTitle:"선택한 요소 위에 새요소를 삽입합니다. (Ctrl + Ins)",insertSub:"삽입할 요소의 유형을 선택해주세요.",object:"객체",ok:"확인",redo:"다시 실행 (Ctrl + Shift + Z)",removeText:"삭제",removeTitle:"선택한 요소를 삭제합니다. (Ctrl + Del)",removeField:"선택한 요소를 삭제합니다. (Ctrl + Del)",repairTitle:"JSON 교정: JSON 내의 주석과 JSONP 표기법을 지우고 따옴표와 이스케이프 문자를 수정합니다.",searchTitle:"요소 또는 값 찾기",searchNextResultTitle:"다음으로 찾기 (Enter)",searchPreviousResultTitle:"이전으로 찾기 (Shift + Enter)",selectNode:"요소를 선택해주세요...",showAll:"모두보기",showMore:"더보기",showMoreStatus:"${totalChilds} 개의 항목 중 ${visibleChilds} 개를 표시합니다.",sort:"정렬",sortTitle:"선택한 ${type}의 하위 요소를 정렬합니다.",sortTitleShort:"정렬",sortFieldLabel:"요소:",sortDirectionLabel:"순서:",sortFieldTitle:"배열이나 객체를 정렬하는 요소를 선택해주세요.",sortAscending:"오름차순",sortAscendingTitle:"선택한 요소를 오름차순으로 정렬합니다.",sortDescending:"내림차순",sortDescendingTitle:"선택한 요소를 내림차순으로 정렬합니다.",string:"문자",transform:"변환",transformTitle:"선택한 ${type}의 하위 요소를 필터하거나 정렬 또는 변환합니다.",transformTitleShort:"내용을 필터하거나 정렬 또는 변환합니다.",extract:"추출",extractTitle:"선택한 ${type}의 값을 최상위에 위치시킵니다.",transformQueryTitle:"JMESPath 쿼리를 입력해주세요.",transformWizardLabel:"마법사",transformWizardFilter:"필터",transformWizardSortBy:"정렬",transformWizardSelectFields:"요소를 선택해주세요.",transformQueryLabel:"쿼리",transformPreviewLabel:"미리보기",type:"유형",typeTitle:"선택한 요소의 유형을 변경합니다.",openUrl:"Ctrl + Click 또는 Ctrl + Enter로 새 창에서 URL 열기",undo:"실행 취소 (Ctrl + Z)",validationCannotMove:"하위 요소로 이동할 수 없습니다.",autoType:"자동: 요소의 형식이 값의 유형으로 결정됩니다. 문자, 숫자, 부울, 또는 null만 허용됩니다.",objectType:"객체: 순서대로 나열되지 않은 이름/값 쌍으로 이루어진 집합입니다.",arrayType:"배열: 순서대로 나열된 값의 집합입니다.",stringType:"문자: 요소의 유형이 값에서 결정되지 않지만 항상 문자로 반환됩니다.",modeEditorTitle:"편집기 유형 변경",modeCodeText:"코드",modeCodeTitle:"형식 교정을 도와주는 기능이 포함된 문자 편집기",modeFormText:"입력 양식",modeFormTitle:"정해진 요소에 값을 입력하는 편집기",modeTextText:"문자",modeTextTitle:"단순 문자 편집기",modeTreeText:"트리",modeTreeTitle:"트리 구조로 표시되는 편집기",modeViewText:"보기",modeViewTitle:"읽기전용 트리 구조로 JSON을 표시",modePreviewText:"미리보기",modePreviewTitle:"읽기전용 문자로 JSON을 표시",examples:"예제",default:"기본값",containsInvalidProperties:"잘못된 속성이 포함되어 있습니다.",containsInvalidItems:"잘못된 항목이 포함되어 있습니다"}},Se=Object.keys(xe),ke="en",Te="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0,Ee=Se.find((function(be){return be===Te}))||ke;function l(be){var Ae;be&&((Ae=Se.find((function(Ae){return Ae===be})))?Ee=Ae:console.error("Language not found"))}function c(be){if(be)for(var Ae in be)!function(Ae){Se.find((function(be){return be===Ae}))||Se.push(Ae),xe[Ae]=Object.assign({},xe[ke],xe[Ae],be[Ae])}(Ae)}function h(be,Ae,we){var Se=xe[we=we||Ee][be]||xe[ke][be]||be;if(Ae)for(var Te in Ae)Se=Se.replace("${"+Te+"}",Ae[Te]);return Se}},359:function(be,Ae,we){we.d(Ae,{V:function(){return o},e:function(){return r}});Ae=we(9151);var xe=we.n(Ae),Se=we(6237);function o(be,Ae){var we,xe=Ae.sort,ke=Ae.filter,Te=(Ae=Ae.projection,"");return ke?(we="@"!==ke.field?["0"].concat((0,Se.parsePath)("."+ke.field)):["0"],we="string"==typeof(0,Se.get)(be,we)?ke.value:(0,Se.parseString)(ke.value),Te+="[? "+ke.field+" "+ke.relation+" `"+JSON.stringify(we)+"`]"):Te+=Array.isArray(be)?"[*]":"@",xe&&("desc"===xe.direction?Te+=" | reverse(sort_by(@, &"+xe.field+"))":Te+=" | sort_by(@, &"+xe.field+")"),Ae&&("]"!==Te[Te.length-1]&&(Te+=" | [*]"),1===Ae.fields.length?Te+="."+Ae.fields[0]:1<Ae.fields.length&&(Te+=".{"+Ae.fields.map((function(be){var Ae=be.split(".");return Ae[Ae.length-1]+": "+be})).join(", ")+"}")),Te}function r(be,Ae){return xe().search(be,Ae)}},1081:function(){function e(Ae){void 0===Ae||"remove"in Ae||Object.defineProperty(Ae,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==(this||be).parentNode&&(this||be).parentNode.removeChild(this||be)}})}"undefined"!=typeof Element&&(void 0!==window.Element&&e(window.Element.prototype),void 0!==window.CharacterData&&e(window.CharacterData.prototype),void 0!==window.DocumentType)&&e(window.DocumentType.prototype),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(Ae){for(var we=0;we<(this||be).length;we++){var xe=(this||be)[we];if(Ae.call(this||be,xe,we,this||be))return we}return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(Ae){Ae=this.findIndex(Ae);return(this||be)[Ae]},configurable:!0,writable:!0}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},7483:function(Ae,we,xe){xe.r(we),xe.d(we,{previewModeMixins:function(){return We}});var Se=xe(9857),ke=xe(660),Te=xe(2115),Ee=xe(2877);function a(be){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function l(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=a(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=a(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==a(be)?be:be+""}(xe.key),xe)}}var Re=function(){function i(Ae,we,xe){if(!((this||be)instanceof i))throw new TypeError("Cannot call a class as a function");(this||be).onChange=Ae,(this||be).calculateItemSize=we||function(){return 1},(this||be).limit=xe,(this||be).items=[],(this||be).index=-1}return Ae=i,(we=[{key:"add",value:function(Ae){for(;this._calculateHistorySize()>(this||be).limit&&1<(this||be).items.length;)(this||be).items.shift(),(this||be).index--;(this||be).items=(this||be).items.slice(0,(this||be).index+1),(this||be).items.push(Ae),(this||be).index++,this.onChange()}},{key:"_calculateHistorySize",value:function(){var Ae=(this||be).calculateItemSize,we=0;return(this||be).items.forEach((function(be){we+=Ae(be)})),we}},{key:"undo",value:function(){if(this.canUndo())return(this||be).index--,this.onChange(),(this||be).items[(this||be).index]}},{key:"redo",value:function(){if(this.canRedo())return(this||be).index++,this.onChange(),(this||be).items[(this||be).index]}},{key:"canUndo",value:function(){return 0<(this||be).index}},{key:"canRedo",value:function(){return(this||be).index<(this||be).items.length-1}},{key:"clear",value:function(){(this||be).items=[],(this||be).index=-1,this.onChange()}}])&&l(Ae.prototype,we),xe&&l(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}(),_e=xe(3057),$e=xe(359),Le=xe(1389),Ne=xe(2915),Me=xe(5609),Be=(we=xe(1948),xe(6237)),We=(xe=we.textModeMixins[0].mixin,we={create:function(Ae){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},xe=(void 0===we.statusBar&&(we.statusBar=!0),we.mainMenuBar=!1!==we.mainMenuBar,we.enableSort=!1!==we.enableSort,we.enableTransform=!1!==we.enableTransform,we.createQuery=we.createQuery||$e.V,we.executeQuery=we.executeQuery||$e.e,"number"==typeof((this||be).options=we).indentation?(this||be).indentation=Number(we.indentation):(this||be).indentation=2,(0,_e.AI)((this||be).options.languages),(0,_e.xC)((this||be).options.language),(this||be).mode="preview",this||be);Ae=((this||be).container=Ae,(this||be).dom={},(this||be).json=void 0,(this||be).text="",(this||be)._debouncedValidate=(0,Be.debounce)((this||be).validate.bind(this||be),(this||be).DEBOUNCE_INTERVAL),(this||be).width=Ae.clientWidth,(this||be).height=Ae.clientHeight,(this||be).frame=document.createElement("div"),(this||be).frame.className="jsoneditor jsoneditor-mode-preview",(this||be).frame.onclick=function(be){be.preventDefault()},{target:(this||be).frame,onFocus:(this||be).options.onFocus||null,onBlur:(this||be).options.onBlur||null}),Ae=((this||be).frameFocusTracker=new Ee.$(Ae),(this||be).content=document.createElement("div"),(this||be).content.className="jsoneditor-outer",(this||be).dom.busy=document.createElement("div"),(this||be).dom.busy.className="jsoneditor-busy",(this||be).dom.busyContent=document.createElement("span"),(this||be).dom.busyContent.textContent="busy...",(this||be).dom.busy.appendChild((this||be).dom.busyContent),(this||be).content.appendChild((this||be).dom.busy),(this||be).dom.previewContent=document.createElement("pre"),(this||be).dom.previewContent.className="jsoneditor-preview",(this||be).dom.previewText=document.createTextNode(""),(this||be).dom.previewContent.appendChild((this||be).dom.previewText),(this||be).content.appendChild((this||be).dom.previewContent),(this||be).options.mainMenuBar&&((0,Be.addClassName)((this||be).content,"has-main-menu-bar"),(this||be).menu=document.createElement("div"),(this||be).menu.className="jsoneditor-menu",(this||be).frame.appendChild((this||be).menu),(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-format",Ae.title=(0,_e.Tl)("formatTitle"),(this||be).menu.appendChild(Ae),Ae.onclick=function(){xe.executeWithBusyMessage((function(){try{xe.format()}catch(be){xe._onError(be)}}),"formatting...")},(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-compact",Ae.title=(0,_e.Tl)("compactTitle"),(this||be).menu.appendChild(Ae),Ae.onclick=function(){xe.executeWithBusyMessage((function(){try{xe.compact()}catch(be){xe._onError(be)}}),"compacting...")},(this||be).options.enableSort&&((Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-sort",Ae.title=(0,_e.Tl)("sortTitleShort"),Ae.onclick=function(){xe._showSortModal()},(this||be).menu.appendChild(Ae)),(this||be).options.enableTransform&&((Ae=document.createElement("button")).type="button",Ae.title=(0,_e.Tl)("transformTitleShort"),Ae.className="jsoneditor-transform",Ae.onclick=function(){xe._showTransformModal()},(this||be).dom.transform=Ae,(this||be).menu.appendChild(Ae)),(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-repair",Ae.title=(0,_e.Tl)("repairTitle"),(this||be).menu.appendChild(Ae),!(Ae.onclick=function(){void 0===xe.json&&xe.executeWithBusyMessage((function(){try{xe.repair()}catch(be){xe._onError(be)}}),"repairing...")})!==(this||be).options.history&&((this||be).history=new Re((function(){xe.dom.undo.disabled=!xe.history.canUndo(),xe.dom.redo.disabled=!xe.history.canRedo()}),(function(be){return 2*be.text.length}),ke.SC),(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-undo jsoneditor-separator",Ae.title=(0,_e.Tl)("undo"),Ae.onclick=function(){var be=xe.history.undo();be&&xe._applyHistory(be)},(this||be).menu.appendChild(Ae),(this||be).dom.undo=Ae,(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-redo",Ae.title=(0,_e.Tl)("redo"),Ae.onclick=function(){var be=xe.history.redo();be&&xe._applyHistory(be)},(this||be).menu.appendChild(Ae),(this||be).dom.redo=Ae,(this||be).history.onChange()),(this||be).options)&&(this||be).options.modes&&(this||be).options.modes.length&&((this||be).modeSwitcher=new Le.n((this||be).menu,(this||be).options.modes,(this||be).options.mode,(function(be){try{xe.setMode(be),xe.modeSwitcher.focus()}catch(be){xe._onError(be)}}))),Array.isArray((this||be).options.showErrorTable)?(this||be).options.showErrorTable.includes((this||be).mode):!0===(this||be).options.showErrorTable);(this||be).errorTable=new Te.N({errorTableVisible:Ae,onToggleVisibility:function(){xe.validate()},onFocusLine:null,onChangeHeight:function(be){be=be+(xe.dom.statusBar?xe.dom.statusBar.clientHeight:0)+1;xe.content.style.marginBottom=-be+"px",xe.content.style.paddingBottom=be+"px"}}),(this||be).frame.appendChild((this||be).content),(this||be).frame.appendChild((this||be).errorTable.getErrorTable()),(this||be).container.appendChild((this||be).frame),we.statusBar&&((0,Be.addClassName)((this||be).content,"has-status-bar"),Ae=document.createElement("div"),((this||be).dom.statusBar=Ae).className="jsoneditor-statusbar",(this||be).frame.appendChild(Ae),(this||be).dom.fileSizeInfo=document.createElement("span"),(this||be).dom.fileSizeInfo.className="jsoneditor-size-info",(this||be).dom.fileSizeInfo.innerText="",Ae.appendChild((this||be).dom.fileSizeInfo),(this||be).dom.arrayInfo=document.createElement("span"),(this||be).dom.arrayInfo.className="jsoneditor-size-info",(this||be).dom.arrayInfo.innerText="",Ae.appendChild((this||be).dom.arrayInfo),Ae.appendChild((this||be).errorTable.getErrorCounter()),Ae.appendChild((this||be).errorTable.getWarningIcon()),Ae.appendChild((this||be).errorTable.getErrorIcon())),this._renderPreview(),this.setSchema((this||be).options.schema,(this||be).options.schemaRefs)},_renderPreview:function(){var Ae=this.getText();(this||be).dom.previewText.nodeValue=(0,Be.limitCharacters)(Ae,ke.hJ),(this||be).dom.fileSizeInfo&&((this||be).dom.fileSizeInfo.innerText="Size: "+(0,Be.formatSize)(Ae.length)),(this||be).dom.arrayInfo&&(Array.isArray((this||be).json)?(this||be).dom.arrayInfo.innerText="Array: "+(this||be).json.length+" items":(this||be).dom.arrayInfo.innerText="")},_onChange:function(){if(this._debouncedValidate(),(this||be).options.onChange)try{(this||be).options.onChange()}catch(be){console.error("Error in onChange callback: ",be)}if((this||be).options.onChangeJSON)try{(this||be).options.onChangeJSON(this.get())}catch(be){console.error("Error in onChangeJSON callback: ",be)}if((this||be).options.onChangeText)try{(this||be).options.onChangeText(this.getText())}catch(be){console.error("Error in onChangeText callback: ",be)}}},we._showSortModal=function(){var Ae=this||be;this.executeWithBusyMessage((function(){var be=Ae.options.modalAnchor||ke.ai,we=Ae.get();Ae._renderPreview(),(0,Ne.showSortModal)(be,we,(function(be){Ae.executeWithBusyMessage((function(){var xe,Se,ke;xe=we,Se=be,Array.isArray(xe)&&(ke=(0,Be.sort)(xe,Se.path,Se.direction),Ae.sortedBy=Se,Ae._setAndFireOnChange(ke)),(0,Be.isObject)(xe)&&(ke=(0,Be.sortObjectKeys)(xe,Se.direction),Ae.sortedBy=Se,Ae._setAndFireOnChange(ke))}),"sorting...")}),Ae.sortedBy)}),"parsing...")},we._showTransformModal=function(){var Ae=this||be;this.executeWithBusyMessage((function(){var be=Ae.options,we=be.createQuery,xe=be.executeQuery,Se=be.modalAnchor,Te=(be=be.queryDescription,Ae.get());Ae._renderPreview(),(0,Me.showTransformModal)({container:Se||ke.ai,json:Te,queryDescription:be,createQuery:we,executeQuery:xe,onTransform:function(be){Ae.executeWithBusyMessage((function(){var we=xe(Te,be);Ae._setAndFireOnChange(we)}),"transforming...")}})}),"parsing...")},we.destroy=function(){(this||be).frame&&(this||be).container&&(this||be).frame.parentNode===(this||be).container&&(this||be).container.removeChild((this||be).frame),(this||be).modeSwitcher&&((this||be).modeSwitcher.destroy(),(this||be).modeSwitcher=null),(this||be)._debouncedValidate=null,(this||be).history&&((this||be).history.clear(),(this||be).history=null),(this||be).frameFocusTracker.destroy()},we.compact=function(){var be=this.get(),Ae=JSON.stringify(be);this._setTextAndFireOnChange(Ae,be)},we.format=function(){var Ae=this.get(),we=JSON.stringify(Ae,null,(this||be).indentation);this._setTextAndFireOnChange(we,Ae)},we.repair=function(){var be=this.getText();try{var Ae=(0,Se.m)(be);this._setTextAndFireOnChange(Ae)}catch(be){}},we.focus=function(){(this||be).dom.transform.focus()},we.set=function(Ae){(this||be).history&&(this||be).history.clear(),this._set(Ae)},we.update=function(be){this._set(be)},we._set=function(Ae){(this||be).text=void 0,(this||be).json=Ae,this._renderPreview(),this._pushHistory(),this._debouncedValidate()},we._setAndFireOnChange=function(be){this._set(be),this._onChange()},we.get=function(){var Ae;return void 0===(this||be).json&&(Ae=this.getText(),(this||be).json=(0,Be.parse)(Ae)),(this||be).json},we.getText=function(){return void 0===(this||be).text&&((this||be).text=JSON.stringify((this||be).json,null,(this||be).indentation),!0===(this||be).options.escapeUnicode)&&((this||be).text=(0,Be.escapeUnicodeChars)((this||be).text)),(this||be).text},we.setText=function(Ae){(this||be).history&&(this||be).history.clear(),this._setText(Ae)},we.updateText=function(be){this.getText()!==be&&this._setText(be)},we._setText=function(Ae,we){var xe;!0===(this||be).options.escapeUnicode?(this||be).text=(0,Be.escapeUnicodeChars)(Ae):(this||be).text=Ae,(this||be).json=we,this._renderPreview(),void 0===(this||be).json?(xe=this||be).executeWithBusyMessage((function(){try{xe.json=xe.get(),xe._renderPreview(),xe._pushHistory()}catch(be){}}),"parsing..."):this._pushHistory(),this._debouncedValidate()},we._setTextAndFireOnChange=function(be,Ae){this._setText(be,Ae),this._onChange()},we._applyHistory=function(Ae){(this||be).json=Ae.json,(this||be).text=Ae.text,this._renderPreview(),this._debouncedValidate()},we._pushHistory=function(){var Ae;(this||be).history&&(Ae={text:(this||be).text,json:(this||be).json},(this||be).history.add(Ae))},we.executeWithBusyMessage=function(Ae,we){var xe;this.getText().length>ke.Oq?((0,Be.addClassName)((xe=this||be).frame,"busy"),xe.dom.busyContent.innerText=we,setTimeout((function(){Ae(),(0,Be.removeClassName)(xe.frame,"busy"),xe.dom.busyContent.innerText=""}),100)):Ae()},we.validate=xe.validate,we._renderErrors=xe._renderErrors,[{mode:"preview",mixin:we,data:"json"}])},2915:function(be,Ae,we){we.r(Ae),we.d(Ae,{showSortModal:function(){return s}});Ae=we(8340);var xe=we.n(Ae),Se=we(3057),ke=we(6237);function s(be,Ae,we,Te){var Ee=Array.isArray(Ae)?(0,ke.getChildPaths)(Ae):[""],Re=Te&&Te.path&&(0,ke.contains)(Ee,Te.path)?Te.path:Ee[0],_e=Te&&Te.direction||"asc";Ae='<div class="pico-modal-contents"><div class="pico-modal-header">'+(0,Se.Tl)("sort")+"</div><form><table><tbody><tr>  <td>"+(0,Se.Tl)("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+(0,Se.Tl)("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+(0,Se.Tl)("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+(0,Se.Tl)("sortAscending")+'" title="'+(0,Se.Tl)("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+(0,Se.Tl)("sortDescending")+'" title="'+(0,Se.Tl)("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,Se.Tl)("ok")+'" /></td></tr></tbody></table></form></div>';xe()({parent:be,content:Ae,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate((function(be){var Ae=be.modalElem().querySelector("form"),xe=be.modalElem().querySelector("#ok"),Se=be.modalElem().querySelector("#field"),ke=be.modalElem().querySelector("#direction");function r(be){ke.value=be,ke.className="jsoneditor-button-group jsoneditor-button-group-value-"+ke.value}Ee.forEach((function(be){var Ae,we=document.createElement("option");we.text=""===(Ae=be)?"@":"."===Ae[0]?Ae.slice(1):Ae,we.value=be,Se.appendChild(we)})),Se.value=Re||Ee[0],r(_e||"asc"),ke.onclick=function(be){r(be.target.getAttribute("data-value"))},xe.onclick=function(Ae){Ae.preventDefault(),Ae.stopPropagation(),be.close(),we({path:Se.value,direction:ke.value})},Ae&&(Ae.onsubmit=xe.onclick)})).afterClose((function(be){be.destroy()})).show()}},5609:function(be,Ae,we){we.r(Ae),we.d(Ae,{showTransformModal:function(){return s}});Ae=we(8340);var xe=we.n(Ae),Se=(Ae=we(4772),we.n(Ae)),ke=we(3057);function I(be){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function k(be,Ae,we,xe){if("boolean"==typeof be||be instanceof Boolean||null===be||"number"==typeof be||be instanceof Number||"string"==typeof be||be instanceof String||be instanceof Date)return JSON.stringify(be);if(Array.isArray(be)){for(var Se=be,ke=Ae,Te=we,Ee=xe,Re=ke?Te+ke:void 0,_e=ke?"[\n":"[",$e=0;$e<Se.length;$e++){var Le=Se[$e];if(ke&&(_e+=Re),_e+=void 0!==Le&&"function"!=typeof Le?k(Le,ke,Re,Ee):"null",$e<Se.length-1&&(_e+=ke?",\n":","),_e.length>Ee)return _e+"..."}return _e+(ke?"\n"+Te+"]":"]")}if(be&&"object"===I(be)){var Ne,Me=be,Be=Ae,We=(Te=we,xe),Pe=Be?Te+Be:void 0,He=!0,Ge=Be?"{\n":"{";if("function"==typeof Me.toJSON)return k(Me.toJSON(),Be,Te,We);for(Ne in Me)if(function(be,Ae){return Object.prototype.hasOwnProperty.call(be,Ae)}(Me,Ne)){var Fe=Me[Ne];if(He?He=!1:Ge+=Be?",\n":",",(Ge=(Ge+=Be?Pe+'"'+Ne+'": ':'"'+Ne+'":')+k(Fe,Be,Pe,We)).length>We)return Ge+"..."}return Ge+(Be?"\n"+Te+"}":"}")}}function T(be,Ae){for(var we="";0<Ae--;)we+=be;return we}var Te=we(6237),Ee=we(660),Re='Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.';function s(be){var Ae=be.container,we=be.json,_e=be.queryDescription,$e=(_e=void 0===_e?Re:_e,be.createQuery),Le=be.executeQuery,Ne=be.onTransform,Me=we;be='<div class="pico-modal-contents"><div class="pico-modal-header">'+(0,ke.Tl)("transform")+"</div><p>"+_e+'</p><div class="jsoneditor-jmespath-label">'+(0,ke.Tl)("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+(0,ke.Tl)("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+(0,ke.Tl)("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+(0,ke.Tl)("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+(0,ke.Tl)("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+(0,ke.Tl)("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+(0,ke.Tl)("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+(0,ke.Tl)("ok")+'" autofocus /></div></div>';xe()({parent:Ae,content:be,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate((function(be){var Ae=be.modalElem(),xe=Ae.querySelector("#wizard"),ke=Ae.querySelector("#ok"),Re=Ae.querySelector("#filterField"),_e=Ae.querySelector("#filterRelation"),Be=Ae.querySelector("#filterValue"),We=Ae.querySelector("#sortField"),Pe=Ae.querySelector("#sortOrder"),He=Ae.querySelector("#selectFields"),Ge=Ae.querySelector("#query"),Fe=Ae.querySelector("#preview");Array.isArray(Me)||(xe.style.fontStyle="italic",xe.textContent="(wizard not available for objects, only for arrays)");(0,Te.getChildPaths)(we).forEach((function(be){be=f(be);var Ae=document.createElement("option");Ae=(Ae.text=be,Ae.value=be,Re.appendChild(Ae),document.createElement("option"));Ae.text=be,Ae.value=be,We.appendChild(Ae)}));xe=(0,Te.getChildPaths)(we,!0).filter((function(be){return""!==be})),xe=(0<xe.length?xe.forEach((function(be){be=f(be);var Ae=document.createElement("option");Ae.text=be,Ae.value=be,He.appendChild(Ae)})):(xe=Ae.querySelector("#selectFieldsPart"))&&(xe.style.display="none"),new(Se())(Re,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}));var Oe=new(Se())(_e,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),Ve=new(Se())(We,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),Ze=new(Se())(Pe,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),De=new(Se())(He,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});function f(be){return""===be?"@":"."===be[0]?be.slice(1):be}xe.on("selectr.change",v),Oe.on("selectr.change",v),Be.oninput=v,Ve.on("selectr.change",v),Ze.on("selectr.change",v),De.on("selectr.change",v),Ae.querySelector(".pico-modal-contents").onclick=function(be){"A"!==be.target.nodeName&&be.preventDefault()};var je=(0,Te.debounce)((function(){try{var be=Le(Me,Ge.value);Fe.className="jsoneditor-transform-preview",Fe.value=(Ae=be,we=2,xe=Ee.hJ,"number"==typeof we?10<we?Se=T(" ",10):1<=we&&(Se=T(" ",we)):"string"==typeof we&&""!==we&&(Se=we),(we=k(Ae,Se,"",xe)).length>xe?(Ae=we,("number"==typeof(Se=xe)?Ae.slice(0,Se):Ae)+"..."):we),ke.disabled=!1}catch(be){Fe.className="jsoneditor-transform-preview jsoneditor-error",Fe.value=be.toString(),ke.disabled=!0}var Ae,we,xe,Se}),300);function y(be,Ae){try{Ge.value=$e(be,Ae),ke.disabled=!1,je()}catch(Ae){be='Error: an error happened when executing "createQuery": '+(Ae.message||Ae.toString());Ge.value="",ke.disabled=!0,Fe.className="jsoneditor-transform-preview jsoneditor-error",Fe.value=be}}function v(){var be={};if(Re.value&&_e.value&&Be.value&&(be.filter={field:Re.value,relation:_e.value,value:Be.value}),We.value&&Pe.value&&(be.sort={field:We.value,direction:Pe.value}),He.value){for(var Ae,xe=[],Se=0;Se<He.options.length;Se++)He.options[Se].selected&&(Ae=He.options[Se].value,xe.push(Ae));be.projection={fields:xe}}y(we,be)}Ge.oninput=je,ke.onclick=function(Ae){Ae.preventDefault(),Ae.stopPropagation(),be.close(),Ne(Ge.value)},y(we,{}),setTimeout((function(){Ge.select(),Ge.focus(),Ge.selectionStart=3,Ge.selectionEnd=3}))})).afterClose((function(be){be.destroy()})).show()}},1948:function(Ae,we,xe){xe.r(we),xe.d(we,{textModeMixins:function(){return Fe}});var Se=xe(9857),ke=(we=xe(7413),xe.n(we)),Te=xe(660),Ee=xe(2115),Re=xe(2877),_e=xe(3057),$e=xe(359),Le=xe(1389),Ne=xe(2915),Me=xe(5609),Be=xe(5467),We=xe(3094),Pe=xe(6237);function r(be){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function s(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=r(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=r(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==r(be)?be:be+""}(xe.key),xe)}}var He=function(){function n(Ae,we){if(!((this||be)instanceof n))throw new TypeError("Cannot call a class as a function");(this||be).schema=Ae,(this||be).schemaRefs=we||{},(this||be).suggestions={},(this||be).suggestionsRefs={},this._buildSuggestions()}return Ae=n,(we=[{key:"_buildSuggestions",value:function(){for(var Ae in this._handleSchemaEntry("",(this||be).schema,(this||be).suggestions),(this||be).schemaRefs)(this||be).suggestionsRefs[Ae]={},this._handleSchemaEntry("",(this||be).schemaRefs[Ae],(this||be).suggestionsRefs[Ae])}},{key:"_handleRef",value:function(be,Ae,we){we[be]=we[be]||{},we[be].refs=we[be].refs||[],we[be].refs=(0,Pe.uniqueMergeArrays)(we[be].refs,[Ae])}},{key:"_handleSchemaEntry",value:function(be,Ae,we){if(Ae)if(Ae.$ref)this._handleRef(be,Ae.$ref,we);else{var xe=this._checkOfConditon(Ae);if(xe)this._handleOfCondition(be,Ae[xe],we);else switch(Ae.type){case"object":this._handleObject(be,Ae,we);break;case"string":case"number":case"integer":this._handlePrimitive(be,Ae,we);break;case"boolean":this._handleBoolean(be,Ae,we);break;case"array":this._handleArray(be,Ae,we)}}else console.error("SchemaTextCompleter: schema node is missing for path",be)}},{key:"_handleObject",value:function(Ae,we,xe){var Se,ke=this||be;(0,Pe.isObject)(we.properties)&&(Se=Object.keys(we.properties),xe[Ae]=xe[Ae]||{},xe[Ae].props=xe[Ae].props||[],xe[Ae].props=(0,Pe.uniqueMergeArrays)(xe[Ae].props,Se),Se.forEach((function(be){(0,Pe.asyncExec)((function(){ke._handleSchemaEntry("".concat(Ae,"/").concat(be),we.properties[be],xe)}))})))}},{key:"_handlePrimitive",value:function(be,Ae,we){we[be]=we[be]||{},(0,Pe.isArray)(Ae.examples)&&(we[be].examples=we[be].examples||[],we[be].examples=(0,Pe.uniqueMergeArrays)(we[be].examples,Ae.examples)),(0,Pe.isArray)(Ae.enum)&&(we[be].enum=we[be].enum||[],we[be].enum=(0,Pe.uniqueMergeArrays)(we[be].enum,Ae.enum))}},{key:"_handleBoolean",value:function(be,Ae,we){we[be]||(we[be]={bool:[!0,!1]})}},{key:"_handleArray",value:function(Ae,we,xe){var Se=this||be;we.items&&(0,Pe.asyncExec)((function(){Se._handleSchemaEntry("".concat(Ae,"/\\d+"),we.items,xe)}))}},{key:"_handleOfCondition",value:function(Ae,we,xe){var Se=this||be;we&&we.length&&we.forEach((function(be){(0,Pe.asyncExec)((function(){Se._handleSchemaEntry(Ae,be,xe)}))}))}},{key:"_checkOfConditon",value:function(be){if(be)return be.oneOf?"oneOf":be.anyOf?"anyOf":be.allOf?"allOf":void 0}},{key:"getCompletions",value:function(Ae,we,xe,Se,ke){var Te=this||be;try{var Ee=We.parse(we.getValue()).pointers||{},r=function(be){function e(xe){var Se,ke={props:"property",enum:"enum",bool:"boolean",examples:"examples"};be&&null!=(Se=be[xe])&&Se.length&&(Ae=Ae.concat(be[xe].map((function(be){return{caption:be+"",meta:"schema [".concat(ke[xe],"]"),score:we++,value:be+""}}))))}var Ae=[],we=0;e("props"),e("enum"),e("bool"),e("examples"),Ae.length&&ke(null,Ae)};Object.keys(Ee).forEach((function(be){(0,Pe.asyncExec)((function(){function l(be,Ae,we){var xe,Se=Object.keys(Ae).reduce((function(Ae,xe){return new RegExp("^".concat(we).concat(xe)).test(be)&&(!Ae||Ae.length<xe.length)?xe:Ae}),null);if("string"==typeof Se){if(null!=(xe=Ae[Se])&&null!=(xe=xe.refs)&&xe.length){var ke,Ee={};for(ke in Ae[Se].refs){var Re=Ae[Se].refs[ke];Te.suggestionsRefs[Re]&&(null!=(Re=l(be,Te.suggestionsRefs[Re],"".concat(we).concat(Se)))&&Re.enum&&(Ee.enum=(0,Pe.uniqueMergeArrays)(Ee.enum,Re.enum)),null!=Re&&Re.examples&&(Ee.examples=(0,Pe.uniqueMergeArrays)(Ee.examples,Re.examples)),null!=Re&&Re.bool&&(Ee.bool=(0,Pe.uniqueMergeArrays)(Ee.bool,Re.bool)),null!=Re)&&Re.props&&(Ee.props=(0,Pe.uniqueMergeArrays)(Ee.props,Re.props))}return Ee}if(new RegExp("^".concat(we).concat(Se,"$")).test(be))return Ae[Se]}}var Ae,we;(null==(we=Ee[be].key)?void 0:we.line)===xe.row&&xe.column>=Ee[be].key.column&&xe.column<=Ee[be].keyEnd.column&&(Ae=be.slice(0,be.lastIndexOf("/"))),(Ae=(null==(we=Ee[be].value)?void 0:we.line)===xe.row&&(null==(we=Ee[be].value)?void 0:we.line)===(null==(we=Ee[be].valueEnd)?void 0:we.line)&&xe.column>=Ee[be].value.column&&xe.column<=Ee[be].valueEnd.column?be:Ae)&&(we=l(Ae,Te.suggestions,""),r(we))}))}))}catch(Ae){}}}])&&s(Ae.prototype,we),xe&&s(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}();function v(be){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}we={};var Ge="ace/theme/jsoneditor";function b(){try{this.format()}catch(be){}}we.create=function(Ae){var we,xe,Se,Te=this||be,Ne=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Me=(void 0===Ne.statusBar&&(Ne.statusBar=!0),Ne.mainMenuBar=!1!==Ne.mainMenuBar,Ne.enableSort=!1!==Ne.enableSort,Ne.enableTransform=!1!==Ne.enableTransform,Ne.createQuery=Ne.createQuery||$e.V,Ne.executeQuery=Ne.executeQuery||$e.e,Ne.showErrorTable=void 0!==Ne.showErrorTable?Ne.showErrorTable:["text","preview"],"number"==typeof((this||be).options=Ne).indentation?(this||be).indentation=Number(Ne.indentation):(this||be).indentation=2,(0,_e.AI)((this||be).options.languages),(0,_e.xC)((this||be).options.language),Ne.ace||ke()),We=((this||be).mode="code"===Ne.mode?"code":"text","code"===(this||be).mode&&void 0===Me&&((this||be).mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),(this||be).theme=Ne.theme||Ge,(this||be).theme===Ge&&Me&&(0,Be.J)(),Ne.onTextSelectionChange&&this.onTextSelectionChange(Ne.onTextSelectionChange),this||be);Ae=((this||be).container=Ae,(this||be).dom={},(this||be).aceEditor=void 0,(this||be).textarea=void 0,(this||be).validateSchema=null,(this||be).annotations=[],(this||be).lastSchemaErrors=void 0,(this||be)._debouncedValidate=(0,Pe.debounce)((this||be)._validateAndCatch.bind(this||be),(this||be).DEBOUNCE_INTERVAL),(this||be).width=Ae.clientWidth,(this||be).height=Ae.clientHeight,(this||be).frame=document.createElement("div"),(this||be).frame.className="jsoneditor jsoneditor-mode-"+(this||be).options.mode,(this||be).frame.onclick=function(be){be.preventDefault()},(this||be).frame.onkeydown=function(be){We._onKeyDown(be)},{target:(this||be).frame,onFocus:(this||be).options.onFocus||null,onBlur:(this||be).options.onBlur||null}),Ae=((this||be).frameFocusTracker=new Re.$(Ae),(this||be).content=document.createElement("div"),(this||be).content.className="jsoneditor-outer",(this||be).options.mainMenuBar&&((0,Pe.addClassName)((this||be).content,"has-main-menu-bar"),(this||be).menu=document.createElement("div"),(this||be).menu.className="jsoneditor-menu",(this||be).frame.appendChild((this||be).menu),(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-format",Ae.title=(0,_e.Tl)("formatTitle"),(this||be).menu.appendChild(Ae),Ae.onclick=function(){try{We.format(),We._onChange()}catch(be){We._onError(be)}},(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-compact",Ae.title=(0,_e.Tl)("compactTitle"),(this||be).menu.appendChild(Ae),Ae.onclick=function(){try{We.compact(),We._onChange()}catch(be){We._onError(be)}},(this||be).options.enableSort&&((Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-sort",Ae.title=(0,_e.Tl)("sortTitleShort"),Ae.onclick=function(){We._showSortModal()},(this||be).menu.appendChild(Ae)),(this||be).options.enableTransform&&((Ae=document.createElement("button")).type="button",Ae.title=(0,_e.Tl)("transformTitleShort"),Ae.className="jsoneditor-transform",Ae.onclick=function(){We._showTransformModal()},(this||be).menu.appendChild(Ae)),(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-repair",Ae.title=(0,_e.Tl)("repairTitle"),(this||be).menu.appendChild(Ae),Ae.onclick=function(){try{We.repair(),We._onChange()}catch(be){We._onError(be)}},"code"===(this||be).mode&&((Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-undo jsoneditor-separator",Ae.title=(0,_e.Tl)("undo"),Ae.onclick=function(){Te.aceEditor.getSession().getUndoManager().undo()},(this||be).menu.appendChild(Ae),(this||be).dom.undo=Ae,(Ae=document.createElement("button")).type="button",Ae.className="jsoneditor-redo",Ae.title=(0,_e.Tl)("redo"),Ae.onclick=function(){Te.aceEditor.getSession().getUndoManager().redo()},(this||be).menu.appendChild(Ae),(this||be).dom.redo=Ae),(this||be).options&&(this||be).options.modes&&(this||be).options.modes.length&&((this||be).modeSwitcher=new Le.n((this||be).menu,(this||be).options.modes,(this||be).options.mode,(function(be){try{We.setMode(be),We.modeSwitcher.focus()}catch(be){We._onError(be)}}))),"code"===(this||be).mode)&&((we=document.createElement("a")).appendChild(document.createTextNode("powered by ace")),we.href="https://ace.c9.io/",we.target="_blank",we.className="jsoneditor-poweredBy",we.onclick=function(){window.open(we.href,we.target,"noreferrer")},(this||be).menu.appendChild(we)),(this||be).options.onEditable&&v("function"===(this||be).options.onEditable)&&!(this||be).options.onEditable({})),Me=((this||be).frame.appendChild((this||be).content),(this||be).container.appendChild((this||be).frame),"code"===(this||be).mode?((this||be).editorDom=document.createElement("div"),(this||be).editorDom.style.height="100%",(this||be).editorDom.style.width="100%",(this||be).content.appendChild((this||be).editorDom),Se=(Me=Me.edit((this||be).editorDom)).getSession(),Me.$blockScrolling=1/0,Me.setTheme((this||be).theme),Me.setOptions({readOnly:Ae}),Me.setShowPrintMargin(!1),Me.setFontSize("14px"),Se.setMode("ace/mode/json"),Se.setTabSize((this||be).indentation),Se.setUseSoftTabs(!0),Se.setUseWrapMode(!0),xe=Se.setAnnotations,Se.setAnnotations=function(Ae){xe.call(this||be,Ae&&Ae.length?Ae:We.annotations)},Me.commands.bindKey("Ctrl-L",null),Me.commands.bindKey("Command-L",null),Me.commands.bindKey("Ctrl-\\",null),Me.commands.bindKey("Command-\\",null),Me.commands.bindKey("Ctrl-Shift-\\",null),Me.commands.bindKey("Command-Shift-\\",null),((this||be).aceEditor=Me).on("change",(this||be)._onChange.bind(this||be)),Me.on("changeSelection",(this||be)._onSelect.bind(this||be))):((Se=document.createElement("textarea")).className="jsoneditor-text",Se.spellcheck=!1,(this||be).content.appendChild(Se),(this||be).textarea=Se,(this||be).textarea.readOnly=Ae,null===(this||be).textarea.oninput?(this||be).textarea.oninput=(this||be)._onChange.bind(this||be):(this||be).textarea.onchange=(this||be)._onChange.bind(this||be),Se.onselect=(this||be)._onSelect.bind(this||be),Se.onmousedown=(this||be)._onMouseDown.bind(this||be),Se.onblur=(this||be)._onBlur.bind(this||be)),this._updateHistoryButtons(),Array.isArray((this||be).options.showErrorTable)?(this||be).options.showErrorTable.includes((this||be).mode):!0===(this||be).options.showErrorTable);(this||be).errorTable=new Ee.N({errorTableVisible:Me,onToggleVisibility:function(){We._validateAndCatch()},onFocusLine:function(be){We.isFocused=!0,isNaN(be)||We.setTextSelection({row:be,column:1},{row:be,column:1e3})},onChangeHeight:function(be){be=be+(We.dom.statusBar?We.dom.statusBar.clientHeight:0)+1;We.content.style.marginBottom=-be+"px",We.content.style.paddingBottom=be+"px"}}),(this||be).frame.appendChild((this||be).errorTable.getErrorTable()),Ne.statusBar&&((0,Pe.addClassName)((this||be).content,"has-status-bar"),(this||be).curserInfoElements={},Ae=document.createElement("div"),((this||be).dom.statusBar=Ae).className="jsoneditor-statusbar",(this||be).frame.appendChild(Ae),(Se=document.createElement("span")).className="jsoneditor-curserinfo-label",Se.innerText="Ln:",(Me=document.createElement("span")).className="jsoneditor-curserinfo-val",Me.innerText="1",Ae.appendChild(Se),Ae.appendChild(Me),(Ne=document.createElement("span")).className="jsoneditor-curserinfo-label",Ne.innerText="Col:",(Se=document.createElement("span")).className="jsoneditor-curserinfo-val",Se.innerText="1",Ae.appendChild(Ne),Ae.appendChild(Se),(this||be).curserInfoElements.colVal=Se,(this||be).curserInfoElements.lnVal=Me,(Ne=document.createElement("span")).className="jsoneditor-curserinfo-label",Ne.innerText="characters selected",Ne.style.display="none",(Se=document.createElement("span")).className="jsoneditor-curserinfo-count",Se.innerText="0",Se.style.display="none",(this||be).curserInfoElements.countLabel=Ne,(this||be).curserInfoElements.countVal=Se,Ae.appendChild(Se),Ae.appendChild(Ne),Ae.appendChild((this||be).errorTable.getErrorCounter()),Ae.appendChild((this||be).errorTable.getWarningIcon()),Ae.appendChild((this||be).errorTable.getErrorIcon())),this.setSchema((this||be).options.schema,(this||be).options.schemaRefs)},we._onSchemaChange=function(Ae,we){(this||be).aceEditor&&((this||be).options.allowSchemaSuggestions&&Ae?((this||be).aceEditor.setOption("enableBasicAutocompletion",[new He(Ae,we)]),(this||be).aceEditor.setOption("enableLiveAutocompletion",!0)):((this||be).aceEditor.setOption("enableBasicAutocompletion",void 0),(this||be).aceEditor.setOption("enableLiveAutocompletion",!1)))},we._onChange=function(){var Ae=this||be;if(!(this||be).onChangeDisabled){if(setTimeout((function(){Ae._updateHistoryButtons&&Ae._updateHistoryButtons()})),this._debouncedValidate(),(this||be).options.onChange)try{(this||be).options.onChange()}catch(Ae){console.error("Error in onChange callback: ",Ae)}if((this||be).options.onChangeText)try{(this||be).options.onChangeText(this.getText())}catch(Ae){console.error("Error in onChangeText callback: ",Ae)}}},we._updateHistoryButtons=function(){var Ae;(this||be).aceEditor&&(this||be).dom.undo&&(this||be).dom.redo&&(Ae=(this||be).aceEditor.getSession().getUndoManager())&&Ae.hasUndo&&Ae.hasRedo&&((this||be).dom.undo.disabled=!Ae.hasUndo(),(this||be).dom.redo.disabled=!Ae.hasRedo())},we._showSortModal=function(){try{var Ae=this||be,we=(this||be).options.modalAnchor||Te.ai,xe=this.get();(0,Ne.showSortModal)(we,xe,(function(be){var we;Array.isArray(xe)&&(we=(0,Pe.sort)(xe,be.path,be.direction),Ae.sortedBy=be,Ae.update(we)),(0,Pe.isObject)(xe)&&(we=(0,Pe.sortObjectKeys)(xe,be.direction),Ae.sortedBy=be,Ae.update(we))}),Ae.sortedBy)}catch(we){this._onError(we)}},we._showTransformModal=function(){var Ae=this||be;try{var we=(this||be).options,xe=we.modalAnchor,Se=we.createQuery,ke=we.executeQuery,Ee=we.queryDescription,Re=this.get();(0,Me.showTransformModal)({container:xe||Te.ai,json:Re,queryDescription:Ee,createQuery:Se,executeQuery:ke,onTransform:function(be){be=ke(Re,be);Ae.update(be)}})}catch(we){this._onError(we)}},we._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},we._onKeyDown=function(be){var Ae=!1;73===(be.which||be.keyCode)&&be.ctrlKey&&(be.shiftKey?this.compact():this.format(),this._onChange(),Ae=!0),Ae&&(be.preventDefault(),be.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},we._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange()},we._onBlur=function(){var Ae=this||be;setTimeout((function(){Ae.isFocused||(Ae._updateCursorInfo(),Ae._emitSelectionChange()),Ae.isFocused=!1}))},we._updateCursorInfo=function(){var Ae,we,xe,Se,ke,Te=this||be;function s(){Te.curserInfoElements.countVal.innerText!==ke&&(Te.curserInfoElements.countVal.innerText=ke,Te.curserInfoElements.countVal.style.display=ke?"inline":"none",Te.curserInfoElements.countLabel.style.display=ke?"inline":"none"),Te.curserInfoElements.lnVal.innerText=xe,Te.curserInfoElements.colVal.innerText=Se}(this||be).textarea?setTimeout((function(){var be=(0,Pe.getInputSelection)(Te.textarea);be.startIndex!==be.endIndex&&(ke=be.endIndex-be.startIndex),Se=(ke&&Te.cursorInfo&&Te.cursorInfo.line===be.end.row&&Te.cursorInfo.column===be.end.column?(xe=be.start.row,be.start):(xe=be.end.row,be.end)).column,Te.cursorInfo={line:xe,column:Se,count:ke},Te.options.statusBar&&s()}),0):(this||be).aceEditor&&(this||be).curserInfoElements&&(Ae=(this||be).aceEditor.getCursorPosition(),we=(this||be).aceEditor.getSelectedText(),xe=Ae.row+1,Se=Ae.column+1,ke=we.length,Te.cursorInfo={line:xe,column:Se,count:ke},(this||be).options.statusBar)&&s()},we._emitSelectionChange=function(){var Ae;(this||be)._selectionChangedHandler&&(Ae=this.getTextSelection(),this._selectionChangedHandler(Ae.start,Ae.end,Ae.text))},we._refreshAnnotations=function(){var Ae,we=(this||be).aceEditor&&(this||be).aceEditor.getSession();we&&(Ae=we.getAnnotations().filter((function(be){return"error"===be.type})),we.setAnnotations(Ae))},we.destroy=function(){(this||be).aceEditor&&((this||be).aceEditor.destroy(),(this||be).aceEditor=null),(this||be).frame&&(this||be).container&&(this||be).frame.parentNode===(this||be).container&&(this||be).container.removeChild((this||be).frame),(this||be).modeSwitcher&&((this||be).modeSwitcher.destroy(),(this||be).modeSwitcher=null),(this||be).textarea=null,(this||be)._debouncedValidate=null,(this||be).frameFocusTracker.destroy()},we.compact=function(){var be=this.get();be=JSON.stringify(be);this.updateText(be)},we.format=function(){var Ae=this.get();Ae=JSON.stringify(Ae,null,(this||be).indentation);this.updateText(Ae)},we.repair=function(){var be=this.getText();try{var Ae=(0,Se.m)(be);this.updateText(Ae)}catch(be){}},we.focus=function(){(this||be).textarea&&(this||be).textarea.focus(),(this||be).aceEditor&&(this||be).aceEditor.focus()},we.resize=function(){(this||be).aceEditor&&(this||be).aceEditor.resize(!1)},we.set=function(Ae){this.setText(JSON.stringify(Ae,null,(this||be).indentation))},we.update=function(Ae){this.updateText(JSON.stringify(Ae,null,(this||be).indentation))},we.get=function(){var be=this.getText();return(0,Pe.parse)(be)},we.getText=function(){return(this||be).textarea?(this||be).textarea.value:(this||be).aceEditor?(this||be).aceEditor.getValue():""},we._setText=function(Ae,we){var xe,Se=this||be;Ae=!0===(this||be).options.escapeUnicode?(0,Pe.escapeUnicodeChars)(Ae):Ae;(this||be).textarea&&((this||be).textarea.value=Ae),(this||be).aceEditor&&((this||be).onChangeDisabled=!0,(this||be).aceEditor.setValue(Ae,-1),(this||be).onChangeDisabled=!1,we&&(xe=this||be,setTimeout((function(){xe.aceEditor&&xe.aceEditor.session.getUndoManager().reset()}))),setTimeout((function(){Se._updateHistoryButtons&&Se._updateHistoryButtons()}))),this._debouncedValidate()},we.setText=function(be){this._setText(be,!0)},we.updateText=function(be){this.getText()!==be&&this._setText(be,!1)},we.validate=function(){var Ae,we=this||be,xe=[],Se=[];try{var ke=this.get(),Te=((this||be).validateSchema&&!this.validateSchema(ke)&&(xe=(this||be).validateSchema.errors.map((function(be){return be.type="validation",(0,Pe.improveSchemaError)(be)}))),(this||be).validationSequence=((this||be).validationSequence||0)+1,this||be),Ee=(this||be).validationSequence;return function(be,Ae){if(!Ae)return Promise.resolve([]);try{var we=Ae(be);return((0,Pe.isPromise)(we)?we:Promise.resolve(we)).then((function(be){return Array.isArray(be)?be.filter((function(be){var Ae=(0,Pe.isValidValidationError)(be);return Ae||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',be),Ae})).map((function(be){return{dataPath:(0,Pe.stringifyPath)(be.path),message:be.message,type:"customValidation"}})):[]}))}catch(be){return Promise.reject(be)}}(ke,(this||be).options.onValidate).then((function(be){return Ee===Te.validationSequence&&(be=xe.concat(Se).concat(be),Te._renderErrors(be),"function"==typeof we.options.onValidationError&&(0,Pe.isValidationErrorChanged)(be,we.lastSchemaErrors)&&we.options.onValidationError.call(we,be),we.lastSchemaErrors=be),we.lastSchemaErrors}))}catch(we){return this.getText()&&((ke=/\w*line\s*(\d+)\w*/g.exec(we.message))&&(Ae=+ke[1]),Se=[{type:"error",message:we.message.replace(/\n/g,"<br>"),line:Ae}]),this._renderErrors(Se),"function"==typeof(this||be).options.onValidationError&&(0,Pe.isValidationErrorChanged)(Se,(this||be).lastSchemaErrors)&&(this||be).options.onValidationError.call(this||be,Se),(this||be).lastSchemaErrors=Se,Promise.resolve((this||be).lastSchemaErrors)}},we._validateAndCatch=function(){this.validate().catch((function(be){console.error("Error running validation:",be)}))},we._renderErrors=function(Ae){var we=this.getText(),xe=[];we=(Ae.reduce((function(be,Ae){return"string"==typeof Ae.dataPath&&-1===be.indexOf(Ae.dataPath)&&be.push(Ae.dataPath),be}),xe),(0,Pe.getPositionForPath)(we,xe));(this||be).aceEditor&&((this||be).annotations=we.map((function(be){var we=Ae.filter((function(Ae){return Ae.dataPath===be.path})),xe=we.map((function(be){return be.message})).join("\n");return xe?{row:be.line,column:be.column,text:"Schema validation error"+(1!==we.length?"s":"")+": \n"+xe,type:"warning",source:"jsoneditor"}:{}})),this._refreshAnnotations()),(this||be).errorTable.setErrors(Ae,we),(this||be).aceEditor&&(this||be).aceEditor.resize(!1)},we.getTextSelection=function(){var Ae,we,xe,Se={};return(this||be).textarea?(xe=(0,Pe.getInputSelection)((this||be).textarea),(this||be).cursorInfo&&(this||be).cursorInfo.line===xe.end.row&&(this||be).cursorInfo.column===xe.end.column?(Se.start=xe.end,Se.end=xe.start):Se=xe,{start:Se.start,end:Se.end,text:(this||be).textarea.value.substring(xe.startIndex,xe.endIndex)}):(this||be).aceEditor?(xe=(this||be).aceEditor.getSelection(),Ae=(this||be).aceEditor.getSelectedText(),we=xe.getRange(),(xe=xe.getSelectionLead()).row===we.end.row&&xe.column===we.end.column?Se=we:(Se.start=we.end,Se.end=we.start),{start:{row:Se.start.row+1,column:Se.start.column+1},end:{row:Se.end.row+1,column:Se.end.column+1},text:Ae}):void 0},we.onTextSelectionChange=function(Ae){"function"==typeof Ae&&((this||be)._selectionChangedHandler=(0,Pe.debounce)(Ae,(this||be).DEBOUNCE_INTERVAL))},we.setTextSelection=function(Ae,we){var xe,Se,ke;Ae&&we&&((this||be).textarea?(xe=(0,Pe.getIndexForPosition)((this||be).textarea,Ae.row,Ae.column),ke=(0,Pe.getIndexForPosition)((this||be).textarea,we.row,we.column),-1<xe&&-1<ke&&((this||be).textarea.setSelectionRange?((this||be).textarea.focus(),(this||be).textarea.setSelectionRange(xe,ke)):(this||be).textarea.createTextRange&&((Se=(this||be).textarea.createTextRange()).collapse(!0),Se.moveEnd("character",ke),Se.moveStart("character",xe),Se.select()),ke=((this||be).textarea.value.match(/\n/g)||[]).length+1,xe=(this||be).textarea.scrollHeight/ke,Se=Ae.row*xe,(this||be).textarea.scrollTop=Se>(this||be).textarea.clientHeight?Se-(this||be).textarea.clientHeight/2:0)):(this||be).aceEditor&&(ke={start:{row:Ae.row-1,column:Ae.column-1},end:{row:we.row-1,column:we.column-1}},(this||be).aceEditor.selection.setRange(ke),(this||be).aceEditor.scrollToLine(Ae.row-1,!0)))};var Fe=[{mode:"text",mixin:we,data:"text",load:b},{mode:"code",mixin:we,data:"text",load:b}]},5633:function(Ae,we,xe){xe.r(we),xe.d(we,{treeModeMixins:function(){return Ke}});var Se={start:function(be,Ae,we){return 0===Ae.indexOf(be)},contain:function(be,Ae,we){return-1<Ae.indexOf(be)}};var ke=xe(6545),Te=xe(2877);function o(be){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function r(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=o(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=o(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==o(be)?be:be+""}(xe.key),xe)}}var Ee=function(){function e(){if(!((this||be)instanceof e))throw new TypeError("Cannot call a class as a function");(this||be).locked=!1}return Ae=e,(we=[{key:"highlight",value:function(Ae){(this||be).locked||((this||be).node!==Ae&&((this||be).node&&(this||be).node.setHighlight(!1),(this||be).node=Ae,(this||be).node.setHighlight(!0)),this._cancelUnhighlight())}},{key:"unhighlight",value:function(){var Ae;(this||be).locked||(Ae=this||be).node&&(this._cancelUnhighlight(),(this||be).unhighlightTimer=setTimeout((function(){Ae.node.setHighlight(!1),Ae.node=void 0,Ae.unhighlightTimer=void 0}),0))}},{key:"_cancelUnhighlight",value:function(){(this||be).unhighlightTimer&&(clearTimeout((this||be).unhighlightTimer),(this||be).unhighlightTimer=void 0)}},{key:"lock",value:function(){(this||be).locked=!0}},{key:"unlock",value:function(){(this||be).locked=!1}}])&&r(Ae.prototype,we),xe&&r(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}(),Re=xe(3057),_e=xe(359),$e=xe(1389),Le=(we=xe(1342),xe.n(we)),Ne=xe(1925),Me=xe(6237);var Be=xe(2915),We=xe(5609),Pe=xe(660);function P(be){return function(be){if(Array.isArray(be))return f(be)}(be)||function(be){if("undefined"!=typeof Symbol&&null!=be[Symbol.iterator]||null!=be["@@iterator"])return Array.from(be)}(be)||m(be)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(be,Ae){return function(be){if(Array.isArray(be))return be}(be)||function(be,Ae){var we=null==be?null:"undefined"!=typeof Symbol&&be[Symbol.iterator]||be["@@iterator"];if(null!=we){var xe,Se,ke,Te,Ee=[],Re=!0,_e=!1;try{if(ke=(we=we.call(be)).next,0===Ae){if(Object(we)!==we)return;Re=!1}else for(;!(Re=(xe=ke.call(we)).done)&&(Ee.push(xe.value),Ee.length!==Ae);Re=!0);}catch(be){_e=!0,Se=be}finally{try{if(!Re&&null!=we.return&&(Te=we.return(),Object(Te)!==Te))return}finally{if(_e)throw Se}}return Ee}}(be,Ae)||m(be,Ae)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(be,Ae){var we,xe,Se,ke,Te="undefined"!=typeof Symbol&&be[Symbol.iterator]||be["@@iterator"];if(Te)return xe=!(we=!0),{s:function(){Te=Te.call(be)},n:function(){var be=Te.next();return we=be.done,be},e:function(be){xe=!0,Se=be},f:function(){try{we||null==Te.return||Te.return()}finally{if(xe)throw Se}}};if(Array.isArray(be)||(Te=m(be))||Ae&&be&&"number"==typeof be.length)return Te&&(be=Te),ke=0,{s:Ae=function(){},n:function(){return ke>=be.length?{done:!0}:{done:!1,value:be[ke++]}},e:function(be){throw be},f:Ae};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(be,Ae){var we;if(be)return"string"==typeof be?f(be,Ae):"Map"===(we="Object"===(we=Object.prototype.toString.call(be).slice(8,-1))&&be.constructor?be.constructor.name:we)||"Set"===we?Array.from(be):"Arguments"===we||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we)?f(be,Ae):void 0}function f(be,Ae){(null==Ae||Ae>be.length)&&(Ae=be.length);for(var we=0,xe=new Array(Ae);we<Ae;we++)xe[we]=be[we];return xe}function T(be){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function C(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=T(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=T(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==T(be)?be:be+""}(xe.key),xe)}}var He=function(){function x(Ae,we){if(!((this||be)instanceof x))throw new TypeError("Cannot call a class as a function");(this||be).editor=Ae,(this||be).dom={},(this||be).expanded=!1,we&&we instanceof Object?(this.setField(we.field,we.fieldEditable),"value"in we&&this.setValue(we.value,we.type),"internalValue"in we&&this.setInternalValue(we.internalValue)):(this.setField(""),this.setValue(null)),(this||be)._debouncedOnChangeValue=(0,Me.debounce)((this||be)._onChangeValue.bind(this||be),x.prototype.DEBOUNCE_INTERVAL),(this||be)._debouncedOnChangeField=(0,Me.debounce)((this||be)._onChangeField.bind(this||be),x.prototype.DEBOUNCE_INTERVAL),(this||be).visibleChilds=this.getMaxVisibleChilds()}return Ae=x,(we=[{key:"getMaxVisibleChilds",value:function(){return(this||be).editor&&(this||be).editor.options&&(this||be).editor.options.maxVisibleChilds?(this||be).editor.options.maxVisibleChilds:Ge}},{key:"_updateEditability",value:function(){var Ae,we;(this||be).editable={field:!0,value:!0},(this||be).editor&&((this||be).editable.field="tree"===(this||be).editor.options.mode,(this||be).editable.value="view"!==(this||be).editor.options.mode,"tree"!==(this||be).editor.options.mode&&"form"!==(this||be).editor.options.mode||"function"!=typeof(this||be).editor.options.onEditable||(Ae=(this||be).getValue.bind(this||be),"boolean"==typeof(we=(this||be).editor.options.onEditable({field:(this||be).field,get value(){return Ae()},path:this.getPath()}))?((this||be).editable.field=we,(this||be).editable.value=we):"object"===T(we)&&null!==we?("boolean"==typeof we.field&&((this||be).editable.field=we.field),"boolean"==typeof we.value&&((this||be).editable.value=we.value)):(console.error("Invalid return value for function onEditable.","Actual value:",we,".","Either a boolean or object { field: boolean, value: boolean } expected."),(this||be).editable.field=!1,(this||be).editable.value=!1)))}},{key:"getPath",value:function(){for(var Ae=this||be,we=[];Ae;){var xe=Ae.getName();void 0!==xe&&we.unshift(xe),Ae=Ae.parent}return we}},{key:"getInternalPath",value:function(){for(var Ae=this||be,we=[];Ae;)Ae.parent&&we.unshift(Ae.getIndex()),Ae=Ae.parent;return we}},{key:"getName",value:function(){return(this||be).parent?"array"!==(this||be).parent.type?(this||be).field:(this||be).index:void 0}},{key:"findNodeByPath",value:function(Ae){if(Ae){if(0===Ae.length)return this||be;if(Ae.length&&(this||be).childs&&(this||be).childs.length)for(var we=0;we<(this||be).childs.length;++we)if(""+Ae[0]==""+(this||be).childs[we].getName())return(this||be).childs[we].findNodeByPath(Ae.slice(1))}}},{key:"findNodeByInternalPath",value:function(Ae){if(Ae){for(var we=this||be,xe=0;xe<Ae.length&&we;xe++){var Se=Ae[xe];we=we.childs[Se]}return we}}},{key:"serialize",value:function(){return{value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(Ae){for(var we=(0,Me.parsePath)(Ae),xe=this||be;xe&&0<we.length;)!function(){var be=we.shift();if("number"==typeof be){if("array"!==xe.type)throw new Error("Cannot get child node at index "+be+": node is no array");xe=xe.childs[be]}else{if("object"!==xe.type)throw new Error("Cannot get child node "+be+": node is no object");xe=xe.childs.filter((function(Ae){return Ae.field===be}))[0]}}();return xe}},{key:"findParents",value:function(){for(var Ae=[],we=(this||be).parent;we;)Ae.unshift(we),we=we.parent;return Ae}},{key:"setError",value:function(Ae,we){(this||be).error=Ae,(this||be).errorChild=we,(this||be).dom&&(this||be).dom.tr&&this.updateError()}},{key:"updateError",value:function(){var Ae=this||be,we=(this||be).fieldError||(this||be).valueError||(this||be).error,xe=(this||be).dom.tdError;if(we&&(this||be).dom&&(this||be).dom.tr){(0,Me.addClassName)((this||be).dom.tr,"jsoneditor-validation-error"),xe||(xe=document.createElement("td"),(this||be).dom.tdError=xe,(this||be).dom.tdValue.parentNode.appendChild(xe));var Se=document.createElement("button"),ke=(Se.type="button",Se.className="jsoneditor-button jsoneditor-schema-error",function(){Ae.dom.popupAnchor&&Ae.dom.popupAnchor.destroy()}),r=function(){delete Ae.dom.popupAnchor},s=function(be){var xe=Ae.editor.frame;be=(Ae.dom.popupAnchor=(0,Ne.p)(Se,Ae.editor.getPopupAnchor(),r,be),Se.getBoundingClientRect()),xe=120<xe.getBoundingClientRect().width-be.x?"jsoneditor-above":"jsoneditor-left",be=document.createElement("div");be.className="jsoneditor-popover "+xe,be.appendChild(document.createTextNode(we.message)),Ae.dom.popupAnchor.appendChild(be)},Te=(Se.onmouseover=function(){Ae.dom.popupAnchor||s(!0)},Se.onfocus=function(){ke(),s(!1)},Se.onblur=function(){ke()},(this||be).errorChild);for(Te&&(Se.onclick=function(){Te.findParents().forEach((function(be){be.expand(!1)})),Te.scrollTo((function(){Te.focus()}))});xe.firstChild;)xe.removeChild(xe.firstChild);xe.appendChild(Se)}else(this||be).dom.tr&&(0,Me.removeClassName)((this||be).dom.tr,"jsoneditor-validation-error"),xe&&((this||be).dom.tdError.parentNode.removeChild((this||be).dom.tdError),delete(this||be).dom.tdError)}},{key:"getIndex",value:function(){var Ae;return(this||be).parent?-1!==(Ae=(this||be).parent.childs.indexOf(this||be))?Ae:null:-1}},{key:"setParent",value:function(Ae){(this||be).parent=Ae}},{key:"setField",value:function(Ae,we){(this||be).field=Ae,(this||be).previousField=Ae,(this||be).fieldEditable=!0===we}},{key:"getField",value:function(){return void 0===(this||be).field&&this._getDomField(),(this||be).field}},{key:"setValue",value:function(Ae,we){var xe,Se,ke,Te,Ee,Re,_e=(this||be).childs;if((this||be).type=this._getType(Ae),we&&we!==(this||be).type){if("string"!==we||"auto"!==(this||be).type)throw new Error('Type mismatch: cannot cast value of type "'+(this||be).type+' to the specified type "'+we+'"');(this||be).type=we}if("array"===(this||be).type){for((this||be).childs||((this||be).childs=[]),xe=0;xe<Ae.length;xe++)void 0===(Ee=Ae[xe])||Ee instanceof Function||(xe<(this||be).childs.length?((ke=(this||be).childs[xe]).fieldEditable=!1,ke.index=xe,ke.setValue(Ee)):(ke=new x((this||be).editor,{value:Ee}),Te=xe<this.getMaxVisibleChilds(),this.appendChild(ke,Te,!1)));for(Se=(this||be).childs.length;Se>=Ae.length;Se--)this.removeChild((this||be).childs[Se],!1)}else if("object"===(this||be).type){for((this||be).childs||((this||be).childs=[]),Se=(this||be).childs.length-1;0<=Se;Se--)v(Ae,(this||be).childs[Se].field)||this.removeChild((this||be).childs[Se],!1);for(var $e in xe=0,Ae)v(Ae,$e)&&(void 0===(Ee=Ae[$e])||Ee instanceof Function||((Re=this.findChildByProperty($e))?(Re.setField($e,!0),Re.setValue(Ee)):(Re=new x((this||be).editor,{field:$e,value:Ee}),$e=xe<this.getMaxVisibleChilds(),this.appendChild(Re,$e,!1))),xe++);!((this||be).value="")===(this||be).editor.options.sortObjectKeys&&this.sort([],"asc",!1)}else this.hideChilds(),delete(this||be).append,delete(this||be).showMore,delete(this||be).expanded,delete(this||be).childs,(this||be).value=Ae;Array.isArray(_e)!==Array.isArray((this||be).childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),(this||be).previousValue=(this||be).value}},{key:"setInternalValue",value:function(Ae){var we,xe,Se,ke,Te,Ee=(this||be).childs;if((this||be).type=Ae.type,"array"===Ae.type){for((this||be).childs||((this||be).childs=[]),ke=0;ke<Ae.childs.length;ke++)void 0===(we=Ae.childs[ke])||we instanceof Function||(ke<(this||be).childs.length?((xe=(this||be).childs[ke]).fieldEditable=!1,xe.index=ke,xe.setInternalValue(we)):(xe=new x((this||be).editor,{internalValue:we}),Se=ke<this.getMaxVisibleChilds(),this.appendChild(xe,Se,!1)));for(Te=(this||be).childs.length;Te>=Ae.childs.length;Te--)this.removeChild((this||be).childs[Te],!1)}else if("object"===Ae.type){for((this||be).childs||((this||be).childs=[]),ke=0;ke<Ae.childs.length;ke++)void 0===(we=Ae.childs[ke])||we instanceof Function||(ke<(this||be).childs.length?(delete(xe=(this||be).childs[ke]).index,xe.setField(we.field,!0),xe.setInternalValue(we.value)):(xe=new x((this||be).editor,{field:we.field,internalValue:we.value}),Se=ke<this.getMaxVisibleChilds(),this.appendChild(xe,Se,!1)));for(Te=(this||be).childs.length;Te>=Ae.childs.length;Te--)this.removeChild((this||be).childs[Te],!1)}else this.hideChilds(),delete(this||be).append,delete(this||be).showMore,delete(this||be).expanded,delete(this||be).childs,(this||be).value=Ae.value;Array.isArray(Ee)!==Array.isArray((this||be).childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),(this||be).previousValue=(this||be).value}},{key:"recreateDom",value:function(){var Ae;(this||be).dom&&(this||be).dom.tr&&(this||be).dom.tr.parentNode?(Ae=this._detachFromDom(),this.clearDom(),this._attachToDom(Ae)):this.clearDom()}},{key:"getValue",value:function(){var Ae,we;return"array"===(this||be).type?(Ae=[],(this||be).childs.forEach((function(be){Ae.push(be.getValue())})),Ae):"object"===(this||be).type?(we={},(this||be).childs.forEach((function(be){we[be.getField()]=be.getValue()})),we):(void 0===(this||be).value&&this._getDomValue(),(this||be).value)}},{key:"getInternalValue",value:function(){return"array"===(this||be).type?{type:(this||be).type,childs:(this||be).childs.map((function(be){return be.getInternalValue()}))}:"object"===(this||be).type?{type:(this||be).type,childs:(this||be).childs.map((function(be){return{field:be.getField(),value:be.getInternalValue()}}))}:(void 0===(this||be).value&&this._getDomValue(),{type:(this||be).type,value:(this||be).value})}},{key:"getLevel",value:function(){return(this||be).parent?(this||be).parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var Ae=(this||be).parent?(this||be).parent.getNodePath():[];return Ae.push(this||be),Ae}},{key:"clone",value:function(){var Ae,we;return(Ae=new x((this||be).editor)).type=(this||be).type,Ae.field=(this||be).field,Ae.fieldInnerText=(this||be).fieldInnerText,Ae.fieldEditable=(this||be).fieldEditable,Ae.previousField=(this||be).previousField,Ae.value=(this||be).value,Ae.valueInnerText=(this||be).valueInnerText,Ae.previousValue=(this||be).previousValue,Ae.expanded=(this||be).expanded,Ae.visibleChilds=(this||be).visibleChilds,(this||be).childs?(we=[],(this||be).childs.forEach((function(be){be=be.clone();be.setParent(Ae),we.push(be)})),Ae.childs=we):Ae.childs=void 0,Ae}},{key:"expand",value:function(Ae){(this||be).childs&&((this||be).expanded=!0,(this||be).dom.expand&&((this||be).dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==Ae&&(this||be).childs.forEach((function(be){be.expand(Ae)})),this.updateDom({recurse:!1}))}},{key:"collapse",value:function(Ae){(this||be).childs&&(this.hideChilds(),!1!==Ae&&(this||be).childs.forEach((function(be){be.collapse(Ae)})),(this||be).dom.expand&&((this||be).dom.expand.className="jsoneditor-button jsoneditor-collapsed"),(this||be).expanded=!1,this.updateDom({recurse:!1}))}},{key:"showChilds",value:function(){var Ae=(this||be).childs;if(Ae&&(this||be).expanded){Ae=(this||be).dom.tr;var we=Ae?Ae.parentNode:void 0;if(we){for(var xe=this.getAppendDom(),Se=(xe.parentNode||((ke=Ae.nextSibling)?we.insertBefore(xe,ke):we.appendChild(xe)),Math.min((this||be).childs.length,(this||be).visibleChilds)),ke=this._getNextTr(),Te=0;Te<Se;Te++){var Ee=(this||be).childs[Te];Ee.getDom().parentNode||we.insertBefore(Ee.getDom(),ke),Ee.showChilds()}Ae=this.getShowMoreDom();ke=this._getNextTr(),Ae.parentNode||we.insertBefore(Ae,ke),(this||be).showMore.updateDom()}}}},{key:"_getNextTr",value:function(){return(this||be).showMore&&(this||be).showMore.getDom().parentNode?(this||be).showMore.getDom():(this||be).append&&(this||be).append.getDom().parentNode?(this||be).append.getDom():void 0}},{key:"hide",value:function(Ae){var we=(this||be).dom.tr,xe=we?we.parentNode:void 0;xe&&xe.removeChild(we),(this||be).dom.popupAnchor&&(this||be).dom.popupAnchor.destroy(),this.hideChilds(Ae)}},{key:"hideChilds",value:function(Ae){var we;(this||be).childs&&(this||be).expanded&&((we=this.getAppendDom()).parentNode&&we.parentNode.removeChild(we),(this||be).childs.forEach((function(be){be.hide()})),(we=this.getShowMoreDom()).parentNode&&we.parentNode.removeChild(we),Ae&&!Ae.resetVisibleChilds||((this||be).visibleChilds=this.getMaxVisibleChilds()))}},{key:"_updateCssClassName",value:function(){var Ae,we;(this||be).dom.field&&(this||be).editor&&(this||be).editor.options&&"function"==typeof(this||be).editor.options.onClassName&&(this||be).dom.tree&&((0,Me.removeAllClassNames)((this||be).dom.tree),Ae=(this||be).getValue.bind(this||be),we=(this||be).editor.options.onClassName({path:this.getPath(),field:(this||be).field,get value(){return Ae()}})||"",(0,Me.addClassName)((this||be).dom.tree,"jsoneditor-values "+we))}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray((this||be).childs))for(var Ae=0;Ae<(this||be).childs.length;Ae++)(this||be).childs[Ae].recursivelyUpdateCssClassesOnNodes()}},{key:"expandTo",value:function(){for(var Ae=(this||be).parent;Ae;)Ae.expanded||Ae.expand(),Ae=Ae.parent}},{key:"appendChild",value:function(Ae,we,xe){var Se,ke;this._hasChilds()&&(Ae.setParent(this||be),Ae.fieldEditable="object"===(this||be).type,"array"===(this||be).type&&(Ae.index=(this||be).childs.length),"object"===(this||be).type&&void 0===Ae.field&&Ae.setField(""),(this||be).childs.push(Ae),(this||be).expanded&&!1!==we&&(we=Ae.getDom(),ke=(Se=this._getNextTr())?Se.parentNode:void 0,Se&&ke&&ke.insertBefore(we,Se),Ae.showChilds(),(this||be).visibleChilds++),!1!==xe)&&(this.updateDom({updateIndexes:!0}),Ae.updateDom({recurse:!0}))}},{key:"moveBefore",value:function(Ae,we,xe){var Se,ke,Te;this._hasChilds()&&((Se=(this||be).dom.tr?(this||be).dom.tr.parentNode:void 0)&&((ke=document.createElement("tr")).style.height=Se.clientHeight+"px",Se.appendChild(ke)),Ae.parent&&Ae.parent.removeChild(Ae),we instanceof Fe||!we?(this||be).childs.length+1>(this||be).visibleChilds?(Te=(this||be).childs[(this||be).visibleChilds-1],this.insertBefore(Ae,Te,xe)):this.appendChild(Ae,!0,xe):this.insertBefore(Ae,we,xe),Se)&&ke&&Se.removeChild(ke)}},{key:"insertBefore",value:function(Ae,we,xe){if(this._hasChilds()){if((this||be).visibleChilds++,"object"===(this||be).type&&void 0===Ae.field&&Ae.setField(""),we===(this||be).append)Ae.setParent(this||be),Ae.fieldEditable="object"===(this||be).type,(this||be).childs.push(Ae);else{var Se=(this||be).childs.indexOf(we);if(-1===Se)throw new Error("Node not found");Ae.setParent(this||be),Ae.fieldEditable="object"===(this||be).type,(this||be).childs.splice(Se,0,Ae)}var ke;(this||be).expanded&&(Se=Ae.getDom(),ke=(we=we.getDom())?we.parentNode:void 0,we&&ke&&ke.insertBefore(Se,we),Ae.showChilds(),this.showChilds()),!1!==xe&&(this.updateDom({updateIndexes:!0}),Ae.updateDom({recurse:!0}))}}},{key:"insertAfter",value:function(Ae,we){this._hasChilds()&&(we=(this||be).childs.indexOf(we),(we=(this||be).childs[we+1])?this.insertBefore(Ae,we):this.appendChild(Ae))}},{key:"search",value:function(Ae,we){Array.isArray(we)||(we=[]);var xe=Ae?Ae.toLowerCase():void 0;return delete(this||be).searchField,delete(this||be).searchValue,void 0!==(this||be).field&&we.length<=(this||be).MAX_SEARCH_RESULTS&&(-1!==String((this||be).field).toLowerCase().indexOf(xe)&&((this||be).searchField=!0,we.push({node:this||be,elem:"field"})),this._updateDomField()),this._hasChilds()?(this||be).childs&&(this||be).childs.forEach((function(be){be.search(Ae,we)})):void 0!==(this||be).value&&we.length<=(this||be).MAX_SEARCH_RESULTS&&(-1!==String((this||be).value).toLowerCase().indexOf(xe)&&((this||be).searchValue=!0,we.push({node:this||be,elem:"value"})),this._updateDomValue()),we}},{key:"scrollTo",value:function(Ae){this.expandPathToNode(),(this||be).dom.tr&&(this||be).dom.tr.parentNode&&(this||be).editor.scrollTo((this||be).dom.tr.offsetTop,Ae)}},{key:"expandPathToNode",value:function(){for(var Ae=this||be;Ae&&Ae.parent;){for(var we="array"===Ae.parent.type?Ae.index:Ae.parent.childs.indexOf(Ae);Ae.parent.visibleChilds<we+1;)Ae.parent.visibleChilds+=this.getMaxVisibleChilds();Ae.parent.expand(!1),Ae=Ae.parent}}},{key:"focus",value:function(Ae){if(x.focusElement=Ae,(this||be).dom.tr&&(this||be).dom.tr.parentNode){var we=(this||be).dom;switch(Ae){case"drag":(we.drag||we.menu).focus();break;case"menu":we.menu.focus();break;case"expand":this._hasChilds()?we.expand.focus():we.field&&(this||be).fieldEditable?(we.field.focus(),(0,Me.selectContentEditable)(we.field)):we.value&&!this._hasChilds()?(we.value.focus(),(0,Me.selectContentEditable)(we.value)):we.menu.focus();break;case"field":we.field&&(this||be).fieldEditable?(we.field.focus(),(0,Me.selectContentEditable)(we.field)):we.value&&!this._hasChilds()?(we.value.focus(),(0,Me.selectContentEditable)(we.value)):(this._hasChilds()?we.expand:we.menu).focus();break;default:we.select?we.select.focus():we.value&&!this._hasChilds()?(we.value.focus(),(0,Me.selectContentEditable)(we.value)):we.field&&(this||be).fieldEditable?(we.field.focus(),(0,Me.selectContentEditable)(we.field)):(this._hasChilds()?we.expand:we.menu).focus()}}}},{key:"containsNode",value:function(Ae){if((this||be)===Ae)return!0;var we=(this||be).childs;if(we)for(var xe=0,Se=we.length;xe<Se;xe++)if(we[xe].containsNode(Ae))return!0;return!1}},{key:"removeChild",value:function(Ae,we){if((this||be).childs){var xe=(this||be).childs.indexOf(Ae);if(-1!==xe)return xe<(this||be).visibleChilds&&(this||be).expanded&&(this||be).visibleChilds--,Ae.hide(),delete Ae.searchField,delete Ae.searchValue,(Ae=(this||be).childs.splice(xe,1)[0]).parent=null,!1!==we&&this.updateDom({updateIndexes:!0}),Ae}}},{key:"_remove",value:function(be){this.removeChild(be)}},{key:"changeType",value:function(Ae){var we,xe=(this||be).type;xe!==Ae&&("string"!==Ae&&"auto"!==Ae||"string"!==xe&&"auto"!==xe?(we=this._detachFromDom(),this.clearDom(),"object"===((this||be).type=Ae)?((this||be).childs||((this||be).childs=[]),(this||be).childs.forEach((function(be){be.clearDom(),delete be.index,be.fieldEditable=!0,void 0===be.field&&(be.field="")})),"string"!==xe&&"auto"!==xe||((this||be).expanded=!0)):"array"===Ae?((this||be).childs||((this||be).childs=[]),(this||be).childs.forEach((function(be,Ae){be.clearDom(),be.fieldEditable=!1,be.index=Ae})),"string"!==xe&&"auto"!==xe||((this||be).expanded=!0)):(this||be).expanded=!1,this._attachToDom(we)):(this||be).type=Ae,"auto"!==Ae&&"string"!==Ae||((this||be).value="string"===Ae?String((this||be).value):(0,Me.parseString)(String((this||be).value)),this.focus()),this.updateDom({updateIndexes:!0}))}},{key:"deepEqual",value:function(Ae){var we;if("array"===(this||be).type){if(!Array.isArray(Ae))return!1;if((this||be).childs.length!==Ae.length)return!1;for(we=0;we<(this||be).childs.length;we++)if(!(this||be).childs[we].deepEqual(Ae[we]))return!1}else if("object"===(this||be).type){if("object"!==T(Ae)||!Ae)return!1;var xe=Object.keys(Ae);if((this||be).childs.length!==xe.length)return!1;for(we=0;we<xe.length;we++){var Se=(this||be).childs[we];if(Se.field!==xe[we]||!Se.deepEqual(Ae[Se.field]))return!1}}else if((this||be).value!==Ae)return!1;return!0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),(this||be).dom.value&&"array"!==(this||be).type&&"object"!==(this||be).type&&((this||be).valueInnerText=(0,Me.getInnerText)((this||be).dom.value),""===(this||be).valueInnerText)&&""!==(this||be).dom.value.innerHTML&&((this||be).dom.value.textContent=""),void 0!==(this||be).valueInnerText)try{var Ae,we;(we="string"===(this||be).type?this._unescapeHTML((this||be).valueInnerText):(Ae=this._unescapeHTML((this||be).valueInnerText),(0,Me.parseString)(Ae)))!==(this||be).value&&((this||be).value=we,this._debouncedOnChangeValue())}catch(Ae){this._setValueError((0,Re.Tl)("cannotParseValueError"))}}},{key:"_setValueError",value:function(Ae){(this||be).valueError={message:Ae},this.updateError()}},{key:"_clearValueError",value:function(){(this||be).valueError&&((this||be).valueError=null,this.updateError())}},{key:"_setFieldError",value:function(Ae){(this||be).fieldError={message:Ae},this.updateError()}},{key:"_clearFieldError",value:function(){(this||be).fieldError&&((this||be).fieldError=null,this.updateError())}},{key:"_onChangeValue",value:function(){var Ae,we=(this||be).editor.getDomSelection(),xe=(we.range&&(xe=(0,Me.textDiff)(String((this||be).value),String((this||be).previousValue)),we.range.startOffset=xe.start,we.range.endOffset=xe.end),(this||be).editor.getDomSelection());xe.range&&(Ae=(0,Me.textDiff)(String((this||be).previousValue),String((this||be).value)),xe.range.startOffset=Ae.start,xe.range.endOffset=Ae.end),(this||be).editor._onAction("editValue",{path:this.getInternalPath(),oldValue:(this||be).previousValue,newValue:(this||be).value,oldSelection:we,newSelection:xe}),(this||be).previousValue=(this||be).value}},{key:"_onChangeField",value:function(){var Ae=(this||be).editor.getDomSelection(),we=(this||be).previousField||"",xe=(Ae.range&&(xe=(0,Me.textDiff)((this||be).field,we),Ae.range.startOffset=xe.start,Ae.range.endOffset=xe.end),(this||be).editor.getDomSelection());xe.range&&(we=(0,Me.textDiff)(we,(this||be).field),xe.range.startOffset=we.start,xe.range.endOffset=we.end),(this||be).editor._onAction("editField",{parentPath:(this||be).parent.getInternalPath(),index:this.getIndex(),oldValue:(this||be).previousField,newValue:(this||be).field,oldSelection:Ae,newSelection:xe}),(this||be).previousField=(this||be).field}},{key:"_updateDomValue",value:function(){var Ae=(this||be).dom.value;if(Ae){var we=["jsoneditor-value"],xe=(this||be).value,Se="auto"===(this||be).type?(0,Me.getType)(xe):(this||be).type,ke="string"===Se&&(0,Me.isUrl)(xe);if(we.push("jsoneditor-"+Se),ke&&we.push("jsoneditor-url"),""===String((this||be).value)&&"array"!==(this||be).type&&"object"!==(this||be).type&&we.push("jsoneditor-empty"),(this||be).searchValueActive&&we.push("jsoneditor-highlight-active"),(this||be).searchValue&&we.push("jsoneditor-highlight"),Ae.className=we.join(" "),"array"===Se||"object"===Se?(we=(this||be).childs?(this||be).childs.length:0,Ae.title=(this||be).type+" containing "+we+" items"):ke&&(this||be).editable.value?Ae.title=(0,Re.Tl)("openUrl"):Ae.title="","boolean"===Se&&(this||be).editable.value?((this||be).dom.checkbox||((this||be).dom.checkbox=document.createElement("input"),(this||be).dom.checkbox.type="checkbox",(this||be).dom.tdCheckbox=document.createElement("td"),(this||be).dom.tdCheckbox.className="jsoneditor-tree",(this||be).dom.tdCheckbox.appendChild((this||be).dom.checkbox),(this||be).dom.tdValue.parentNode.insertBefore((this||be).dom.tdCheckbox,(this||be).dom.tdValue)),(this||be).dom.checkbox.checked=(this||be).value):(this||be).dom.tdCheckbox&&((this||be).dom.tdCheckbox.parentNode.removeChild((this||be).dom.tdCheckbox),delete(this||be).dom.tdCheckbox,delete(this||be).dom.checkbox),(this||be).enum&&(this||be).editable.value?((this||be).dom.select||((this||be).dom.select=document.createElement("select"),(this||be).id=(this||be).field+"_"+(new Date).getUTCMilliseconds(),(this||be).dom.select.id=(this||be).id,(this||be).dom.select.name=(this||be).dom.select.id,(we=document.createElement("option")).value="",we.textContent="--",(this||be).dom.select.appendChild(we),this._updateEnumOptions(),(this||be).dom.tdSelect=document.createElement("td"),(this||be).dom.tdSelect.className="jsoneditor-tree",(this||be).dom.tdSelect.appendChild((this||be).dom.select),(this||be).dom.tdValue.parentNode.insertBefore((this||be).dom.tdSelect,(this||be).dom.tdValue)),(this||be).dom.select.value=-1!==(this||be).enum.indexOf((this||be).value)?(this||be).value:"",!(this||be).schema||v((this||be).schema,"oneOf")||v((this||be).schema,"anyOf")||v((this||be).schema,"allOf")?delete(this||be).valueFieldHTML:((this||be).valueFieldHTML=(this||be).dom.tdValue.innerHTML,(this||be).dom.tdValue.style.visibility="hidden",(this||be).dom.tdValue.textContent="")):(this||be).dom.tdSelect&&((this||be).dom.tdSelect.parentNode.removeChild((this||be).dom.tdSelect),delete(this||be).dom.tdSelect,delete(this||be).dom.select,(this||be).dom.tdValue.innerHTML=(this||be).valueFieldHTML,(this||be).dom.tdValue.style.visibility="",delete(this||be).valueFieldHTML,(this||be).dom.tdValue.appendChild((this||be).dom.value)),(this||be).editor.options.colorPicker&&"string"==typeof xe&&(0,Me.isValidColor)(xe)?((this||be).dom.color||((this||be).dom.color=document.createElement("div"),(this||be).dom.color.className="jsoneditor-color",(this||be).dom.tdColor=document.createElement("td"),(this||be).dom.tdColor.className="jsoneditor-tree",(this||be).dom.tdColor.appendChild((this||be).dom.color),(this||be).dom.tdValue.parentNode.insertBefore((this||be).dom.tdColor,(this||be).dom.tdValue)),(0,Me.addClassName)((this||be).dom.value,"jsoneditor-color-value"),((this||be).editable.value?(0,Me.removeClassName):(0,Me.addClassName))((this||be).dom.color,"jsoneditor-color-readonly"),(this||be).dom.color.style.backgroundColor=xe):this._deleteDomColor(),this._showTimestampTag()){(this||be).dom.date||((this||be).dom.date=document.createElement("div"),(this||be).dom.date.className="jsoneditor-date",(this||be).dom.value.parentNode.appendChild((this||be).dom.date));ke=null;if(ke="function"==typeof(this||be).editor.options.timestampFormat?(this||be).editor.options.timestampFormat({field:(this||be).field,value:(this||be).value,path:this.getPath()}):ke){for(;(this||be).dom.date.firstChild;)(this||be).dom.date.removeChild((this||be).dom.date.firstChild);(this||be).dom.date.appendChild(document.createTextNode(ke))}else(this||be).dom.date.textContent=new Date(xe).toISOString();(this||be).dom.date.title=new Date(xe).toString()}else(this||be).dom.date&&((this||be).dom.date.parentNode.removeChild((this||be).dom.date),delete(this||be).dom.date);(0,Me.stripFormatting)(Ae),this._updateDomDefault()}}},{key:"_updateEnumOptions",value:function(){if((this||be).enum&&(this||be).dom.select){(this||be).dom.select.innerHTML="";for(var Ae=0;Ae<(this||be).enum.length;Ae++){var we=document.createElement("option");we.value=(this||be).enum[Ae],we.textContent=(this||be).enum[Ae],(this||be).dom.select.appendChild(we)}}}},{key:"_deleteDomColor",value:function(){(this||be).dom.color&&((this||be).dom.tdColor.parentNode.removeChild((this||be).dom.tdColor),delete(this||be).dom.tdColor,delete(this||be).dom.color,(0,Me.removeClassName)((this||be).dom.value,"jsoneditor-color-value"))}},{key:"_updateDomField",value:function(){var Ae,we=(this||be).dom.field;we&&((Ae=(0,Me.makeFieldTooltip)((this||be).schema,(this||be).editor.options.language))&&(we.title=Ae),(""===String((this||be).field)&&(this||be).parent&&"array"!==(this||be).parent.type?(0,Me.addClassName):(0,Me.removeClassName))(we,"jsoneditor-empty"),((this||be).searchFieldActive?(0,Me.addClassName):(0,Me.removeClassName))(we,"jsoneditor-highlight-active"),((this||be).searchField?(0,Me.addClassName):(0,Me.removeClassName))(we,"jsoneditor-highlight"),(0,Me.stripFormatting)(we))}},{key:"_getDomField",value:function(Ae){if(this._clearFieldError(),(this||be).dom.field&&(this||be).fieldEditable&&((this||be).fieldInnerText=(0,Me.getInnerText)((this||be).dom.field),""===(this||be).fieldInnerText)&&""!==(this||be).dom.field.innerHTML&&((this||be).dom.field.textContent=""),void 0!==(this||be).fieldInnerText)try{var we=this._unescapeHTML((this||be).fieldInnerText),xe=(this||be).parent.getFieldNames(this||be);-1!==xe.indexOf(we)?Ae?(we=(0,Me.findUniqueName)(we,xe))!==(this||be).field&&((this||be).field=we,this._debouncedOnChangeField()):this._setFieldError((0,Re.Tl)("duplicateFieldError")):we!==(this||be).field&&((this||be).field=we,this._debouncedOnChangeField())}catch(Ae){this._setFieldError((0,Re.Tl)("cannotParseFieldError"))}}},{key:"_updateDomDefault",value:function(){var Ae;(this||be).schema&&void 0!==(this||be).schema.default&&!this._hasChilds()&&(Ae=(this||be).dom.select||(this||be).dom.value)&&((this||be).value===(this||be).schema.default?(Ae.title=(0,Re.Tl)("default"),(0,Me.addClassName)(Ae,"jsoneditor-is-default"),Me.removeClassName):(Ae.removeAttribute("title"),(0,Me.removeClassName)(Ae,"jsoneditor-is-default"),Me.addClassName))(Ae,"jsoneditor-is-not-default")}},{key:"_showTimestampTag",value:function(){var Ae,we;return"number"==typeof(this||be).value&&("function"==typeof(Ae=(this||be).editor.options.timestampTag)?"boolean"==typeof(we=Ae({field:(this||be).field,value:(this||be).value,path:this.getPath()}))?we:(0,Me.isTimestamp)((this||be).field,(this||be).value):!0===Ae&&(0,Me.isTimestamp)((this||be).field,(this||be).value))}},{key:"clearDom",value:function(){(this||be).dom={}}},{key:"getDom",value:function(){var Ae,we,xe=(this||be).dom;return xe.tr||(this._updateEditability(),xe.tr=document.createElement("tr"),"tree"===(xe.tr.node=this||be).editor.options.mode&&(we=document.createElement("td"),(this||be).editable.field&&(this||be).parent&&((Ae=document.createElement("button")).type="button",(xe.drag=Ae).className="jsoneditor-button jsoneditor-dragarea",Ae.title=(0,Re.Tl)("drag"),we.appendChild(Ae)),xe.tr.appendChild(we),Ae=document.createElement("td"),(we=document.createElement("button")).type="button",(xe.menu=we).className="jsoneditor-button jsoneditor-contextmenu-button",we.title=(0,Re.Tl)("actionsMenu"),Ae.appendChild(xe.menu),xe.tr.appendChild(Ae)),we=document.createElement("td"),xe.tr.appendChild(we),xe.tree=this._createDomTree(),we.appendChild(xe.tree),this.updateDom({updateIndexes:!0})),xe.tr}},{key:"isVisible",value:function(){return(this||be).dom&&(this||be).dom.tr&&(this||be).dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(Ae){for(var we=(this||be).parent;we;){if(we===Ae)return!0;we=we.parent}return!1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(Ae){(this||be).dom.tr&&((Ae?(0,Me.addClassName):(0,Me.removeClassName))((this||be).dom.tr,"jsoneditor-highlight"),(this||be).append&&(this||be).append.setHighlight(Ae),(this||be).childs)&&(this||be).childs.forEach((function(be){be.setHighlight(Ae)}))}},{key:"setSelected",value:function(Ae,we){(this||be).selected=Ae,(this||be).dom.tr&&((Ae?(0,Me.addClassName):(0,Me.removeClassName))((this||be).dom.tr,"jsoneditor-selected"),(we?(0,Me.addClassName):(0,Me.removeClassName))((this||be).dom.tr,"jsoneditor-first"),(this||be).append&&(this||be).append.setSelected(Ae),(this||be).showMore&&(this||be).showMore.setSelected(Ae),(this||be).childs)&&(this||be).childs.forEach((function(be){be.setSelected(Ae)}))}},{key:"updateValue",value:function(Ae){(this||be).value=Ae,(this||be).previousValue=Ae,(this||be).valueError=void 0,this.updateDom()}},{key:"updateField",value:function(Ae){(this||be).field=Ae,(this||be).previousField=Ae,(this||be).fieldError=void 0,this.updateDom()}},{key:"updateDom",value:function(Ae){var we,xe=(this||be).dom.tree;xe=(xe&&(xe.style.marginLeft=24*this.getLevel()+"px"),(this||be).dom.field),xe=(xe&&((this||be).fieldEditable?(xe.contentEditable=(this||be).editable.field,xe.spellcheck=!1,xe.className="jsoneditor-field"):(xe.contentEditable=!1,xe.className="jsoneditor-readonly"),we=void 0!==(this||be).index?(this||be).index:void 0!==(this||be).field?(this||be).field:(we=(this||be).editor.options.schema?x._findSchema((this||be).editor.options.schema,(this||be).editor.options.schemaRefs||{},this.getPath()):void 0)&&we.title?we.title:this._hasChilds()?(this||be).type:"",we=this._escapeHTML(we),document.activeElement!==xe&&we!==this._unescapeHTML((0,Me.getInnerText)(xe))&&(xe.innerHTML=we),this._updateSchema(),this._updateEnumOptions()),(this||be).dom.value),xe=(xe&&("array"===(this||be).type||"object"===(this||be).type?this.updateNodeName():(we=this._escapeHTML((this||be).value),document.activeElement!==xe&&we!==this._unescapeHTML((0,Me.getInnerText)(xe))&&(xe.innerHTML=we))),(this||be).dom.tr);xe&&("array"===(this||be).type||"object"===(this||be).type?((0,Me.addClassName)(xe,"jsoneditor-expandable"),(this||be).expanded?((0,Me.addClassName)(xe,"jsoneditor-expanded"),(0,Me.removeClassName)(xe,"jsoneditor-collapsed")):((0,Me.addClassName)(xe,"jsoneditor-collapsed"),(0,Me.removeClassName)(xe,"jsoneditor-expanded"))):((0,Me.removeClassName)(xe,"jsoneditor-expandable"),(0,Me.removeClassName)(xe,"jsoneditor-expanded"),(0,Me.removeClassName)(xe,"jsoneditor-collapsed"))),this._updateDomField(),this._updateDomValue(),Ae&&!0===Ae.updateIndexes&&this._updateDomIndexes(),Ae&&!0===Ae.recurse&&(this||be).childs&&(this||be).childs.forEach((function(be){be.updateDom(Ae)})),(this||be).error&&this.updateError(),(this||be).append&&(this||be).append.updateDom(),(this||be).showMore&&(this||be).showMore.updateDom(),this._updateCssClassName()}},{key:"_updateSchema",value:function(){(this||be).editor&&(this||be).editor.options&&((this||be).schema=(this||be).editor.options.schema?x._findSchema((this||be).editor.options.schema,(this||be).editor.options.schemaRefs||{},this.getPath()):null,(this||be).schema?(this||be).enum=x._findEnum((this||be).schema):delete(this||be).enum)}},{key:"_updateDomIndexes",value:function(){var Ae=(this||be).dom.value,we=(this||be).childs;Ae&&we&&("array"===(this||be).type?we.forEach((function(be,Ae){be.index=Ae;be=be.dom.field;be&&(be.textContent=Ae)})):"object"===(this||be).type&&we.forEach((function(be){void 0!==be.index&&(delete be.index,void 0===be.field)&&(be.field="")})))}},{key:"_createDomValue",value:function(){var Ae;return"array"===(this||be).type?(Ae=document.createElement("div")).textContent="[...]":"object"===(this||be).type?(Ae=document.createElement("div")).textContent="{...}":(!(this||be).editable.value&&(0,Me.isUrl)((this||be).value)?(Ae=document.createElement("a")).href=(this||be).value:((Ae=document.createElement("div")).contentEditable=(this||be).editable.value,Ae.spellcheck=!1),Ae.innerHTML=this._escapeHTML((this||be).value)),Ae}},{key:"_createDomExpandButton",value:function(){var Ae=document.createElement("button");return Ae.type="button",this._hasChilds()?(Ae.className=(this||be).expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",Ae.title=(0,Re.Tl)("expandTitle")):(Ae.className="jsoneditor-button jsoneditor-invisible",Ae.title=""),Ae}},{key:"_createDomTree",value:function(){var Ae=(this||be).dom,we=document.createElement("table"),xe=document.createElement("tbody"),Se=(we.style.borderCollapse="collapse",we.className="jsoneditor-values",we.appendChild(xe),document.createElement("tr"));xe=(xe.appendChild(Se),document.createElement("td")),xe=(xe.className="jsoneditor-tree",Se.appendChild(xe),Ae.expand=this._createDomExpandButton(),xe.appendChild(Ae.expand),Ae.tdExpand=xe,document.createElement("td")),xe=(xe.className="jsoneditor-tree",Se.appendChild(xe),Ae.field=this._createDomField(),xe.appendChild(Ae.field),Ae.tdField=xe,document.createElement("td")),xe=(xe.className="jsoneditor-tree",Se.appendChild(xe),"object"!==(this||be).type&&"array"!==(this||be).type&&(xe.appendChild(document.createTextNode(":")),xe.className="jsoneditor-separator"),Ae.tdSeparator=xe,document.createElement("td"));return xe.className="jsoneditor-tree",Se.appendChild(xe),Ae.value=this._createDomValue(),xe.appendChild(Ae.value),Ae.tdValue=xe,we}},{key:"onEvent",value:function(Ae){var we,xe=Ae.type,Se=Ae.target||Ae.srcElement,ke=(this||be).dom,Te=this||be,Ee=this._hasChilds(),Re=(Se!==ke.drag&&Se!==ke.menu||("mouseover"===xe?(this||be).editor.highlighter.highlight(this||be):"mouseout"===xe&&(this||be).editor.highlighter.unhighlight()),"click"===xe&&Se===ke.menu&&((we=Te.editor.highlighter).highlight(Te),we.lock(),(0,Me.addClassName)(ke.menu,"jsoneditor-selected"),this.showContextMenu(ke.menu,(function(){(0,Me.removeClassName)(ke.menu,"jsoneditor-selected"),we.unlock(),we.unhighlight()}))),"click"===xe&&Se===ke.expand&&Ee&&(Ne=Ae.ctrlKey,this._onExpand(Ne)),"click"!==xe||Ae.target!==Te.dom.tdColor&&Ae.target!==Te.dom.color||!(this||be).editable.value||this._showColorPicker(),"change"===xe&&Se===ke.checkbox&&((this||be).dom.value.textContent=String(!(this||be).value),this._getDomValue(),this._updateDomDefault()),"change"===xe&&Se===ke.select&&((this||be).dom.value.innerHTML=this._escapeHTML(ke.select.value),this._getDomValue(),this._updateDomValue()),ke.value);if(Se===Re)switch(xe){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var _e=this._escapeHTML((this||be).value);_e!==this._unescapeHTML((0,Me.getInnerText)(Re))&&(Re.innerHTML=_e);break;case"input":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":(this||be).editor.selection=(this||be).editor.getDomSelection();break;case"click":Ae.ctrlKey&&(this||be).editable.value&&(0,Me.isUrl)((this||be).value)&&(Ae.preventDefault(),window.open((this||be).value,"_blank","noreferrer"));break;case"keyup":this._getDomValue(),this._updateDomValue();break;case"cut":case"paste":setTimeout((function(){Te._getDomValue(),Te._updateDomValue()}),1)}var $e=ke.field;if(Se===$e)switch(xe){case"blur":this._getDomField(!0),this._updateDomField();var Le=this._escapeHTML((this||be).field);Le!==this._unescapeHTML((0,Me.getInnerText)($e))&&($e.innerHTML=Le);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":(this||be).editor.selection=(this||be).editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout((function(){Te._getDomField(),Te._updateDomField()}),1)}var Ne=ke.tree;Ne&&Se===Ne.parentNode&&"click"===xe&&!Ae.hasMoved&&((void 0!==Ae.offsetX?Ae.offsetX<24*(this.getLevel()+1):Ae.pageX<(0,Me.getAbsoluteLeft)(ke.tdSeparator))||Ee?$e&&((0,Me.setEndOfContentEditable)($e),$e.focus()):Re&&!(this||be).enum&&((0,Me.setEndOfContentEditable)(Re),Re.focus())),(Se!==ke.tdExpand||Ee)&&Se!==ke.tdField&&Se!==ke.tdSeparator||"click"!==xe||Ae.hasMoved||$e&&((0,Me.setEndOfContentEditable)($e),$e.focus()),"keydown"===xe&&this.onKeyDown(Ae),"function"==typeof(this||be).editor.options.onEvent&&this._onEvent(Ae)}},{key:"_onEvent",value:function(Ae){var we=Ae.target,xe=we===(this||be).dom.field;we=we===(this||be).dom.value||we===(this||be).dom.checkbox||we===(this||be).dom.select;(xe||we)&&(xe={field:this.getField(),path:this.getPath()},we&&!this._hasChilds()&&(xe.value=this.getValue()),(this||be).editor.options.onEvent(xe,Ae))}},{key:"onKeyDown",value:function(Ae){var we,xe,Se,ke,Te,Ee,Re,_e,$e,Le,Ne,Be,We,Pe,He=Ae.which||Ae.keyCode,Ge=Ae.target||Ae.srcElement,Oe=Ae.ctrlKey,Ve=Ae.shiftKey,Ze=Ae.altKey,De=!1,je="tree"===(this||be).editor.options.mode,Ke=0<(this||be).editor.multiselection.nodes.length?(this||be).editor.multiselection.nodes:[this||be],ze=Ke[0],Xe=Ke[Ke.length-1];13===He?Ge===(this||be).dom.value?(this||be).editable.value&&!Ae.ctrlKey||(0,Me.isUrl)((this||be).value)&&(window.open((this||be).value,"_blank","noreferrer"),De=!0):Ge===(this||be).dom.expand&&this._hasChilds()&&(We=Ae.ctrlKey,this._onExpand(We),Ge.focus(),De=!0):68===He?Oe&&je&&(x.onDuplicate(Ke),De=!0):69===He?Oe&&(this._onExpand(Ve),Ge.focus(),De=!0):77===He&&je?Oe&&(this.showContextMenu(Ge),De=!0):46===He&&je?Oe&&(x.onRemove(Ke),De=!0):45===He&&je?Oe&&!Ve?(this._onInsertBefore(),De=!0):Oe&&Ve&&(this._onInsertAfter(),De=!0):35===He?Ze&&((We=this._lastNode())&&We.focus(x.focusElement||this._getElementName(Ge)),De=!0):36===He?Ze&&((We=this._firstNode())&&We.focus(x.focusElement||this._getElementName(Ge)),De=!0):37===He?Ze&&!Ve?((We=this._previousElement(Ge))&&this.focus(this._getElementName(We)),De=!0):Ze&&Ve&&je&&(We=Xe.expanded?(We=Xe.getAppendDom())?We.nextSibling:void 0:Xe.getDom().nextSibling)&&(Ne=x.getNodeFromTarget(We),We=We.nextSibling,Be=x.getNodeFromTarget(We),Ne)&&Ne instanceof Fe&&1!==Xe.parent.childs.length&&Be&&Be.parent&&(xe=(this||be).editor.getDomSelection(),Se=(ke=ze.parent).childs[Xe.getIndex()+1]||ke.append,Te=ze.getIndex(),Ee=Be.getIndex(),Re=ke.getInternalPath(),_e=Be.parent.getInternalPath(),Ke.forEach((function(be){Be.parent.moveBefore(be,Be)})),this.focus(x.focusElement||this._getElementName(Ge)),(this||be).editor._onAction("moveNodes",{count:Ke.length,fieldNames:Ke.map(R),oldParentPath:ke.getInternalPath(),newParentPath:ze.parent.getInternalPath(),oldIndex:Se.getIndex(),newIndex:ze.getIndex(),oldIndexRedo:Te,newIndexRedo:Ee,oldParentPathRedo:Re,newParentPathRedo:_e,oldSelection:xe,newSelection:(this||be).editor.getDomSelection()})):38===He?Ze&&!Ve?((we=this._previousNode())&&((this||be).editor.deselect(!0),we.focus(x.focusElement||this._getElementName(Ge))),De=!0):!Ze&&Oe&&Ve&&je?((we=this._previousNode())&&((Le=(this||be).editor.multiselection).start=Le.start||this||be,Le.end=we,$e=(this||be).editor._findTopLevelNodes(Le.start,Le.end),(this||be).editor.select($e),we.focus("field")),De=!0):Ze&&Ve&&je&&((we=ze._previousNode())&&we.parent&&(xe=(this||be).editor.getDomSelection(),Se=(ke=ze.parent).childs[Xe.getIndex()+1]||ke.append,Te=ze.getIndex(),Ee=we.getIndex(),Re=ke.getInternalPath(),_e=we.parent.getInternalPath(),Ke.forEach((function(be){we.parent.moveBefore(be,we)})),this.focus(x.focusElement||this._getElementName(Ge)),(this||be).editor._onAction("moveNodes",{count:Ke.length,fieldNames:Ke.map(R),oldParentPath:ke.getInternalPath(),newParentPath:ze.parent.getInternalPath(),oldIndex:Se.getIndex(),newIndex:ze.getIndex(),oldIndexRedo:Te,newIndexRedo:Ee,oldParentPathRedo:Re,newParentPathRedo:_e,oldSelection:xe,newSelection:(this||be).editor.getDomSelection()})),De=!0):39===He?Ze&&!Ve?((We=this._nextElement(Ge))&&this.focus(this._getElementName(We)),De=!0):Ze&&Ve&&je&&(We=ze.getDom().previousSibling)&&(we=x.getNodeFromTarget(We))&&we.parent&&!we.isVisible()&&(xe=(this||be).editor.getDomSelection(),Se=(ke=ze.parent).childs[Xe.getIndex()+1]||ke.append,Te=ze.getIndex(),Ee=we.getIndex(),Re=ke.getInternalPath(),_e=we.parent.getInternalPath(),Ke.forEach((function(be){we.parent.moveBefore(be,we)})),this.focus(x.focusElement||this._getElementName(Ge)),(this||be).editor._onAction("moveNodes",{count:Ke.length,fieldNames:Ke.map(R),oldParentPath:ke.getInternalPath(),newParentPath:ze.parent.getInternalPath(),oldIndex:Se.getIndex(),newIndex:ze.getIndex(),oldIndexRedo:Te,newIndexRedo:Ee,oldParentPathRedo:Re,newParentPathRedo:_e,oldSelection:xe,newSelection:(this||be).editor.getDomSelection()})):40===He&&(Ze&&!Ve?((Ne=this._nextNode())&&((this||be).editor.deselect(!0),Ne.focus(x.focusElement||this._getElementName(Ge))),De=!0):!Ze&&Oe&&Ve&&je?((Ne=this._nextNode())&&((Le=(this||be).editor.multiselection).start=Le.start||this||be,Le.end=Ne,$e=(this||be).editor._findTopLevelNodes(Le.start,Le.end),(this||be).editor.select($e),Ne.focus("field")),De=!0):Ze&&Ve&&je&&((Pe=(Ne=(Ne=(Ne=Xe.expanded?Xe.append?Xe.append._nextNode():void 0:Xe._nextNode())&&!Ne.isVisible()?Ne.parent.showMore:Ne)&&Ne instanceof Fe?Xe:Ne)&&(Ne._nextNode()||Ne.parent.append))&&Pe.parent&&(xe=(this||be).editor.getDomSelection(),Se=(ke=ze.parent).childs[Xe.getIndex()+1]||ke.append,Te=ze.getIndex(),Ee=Pe.getIndex(),Re=ke.getInternalPath(),_e=Pe.parent.getInternalPath(),Ke.forEach((function(be){Pe.parent.moveBefore(be,Pe)})),this.focus(x.focusElement||this._getElementName(Ge)),(this||be).editor._onAction("moveNodes",{count:Ke.length,fieldNames:Ke.map(R),oldParentPath:ke.getInternalPath(),newParentPath:ze.parent.getInternalPath(),oldParentPathRedo:Re,newParentPathRedo:_e,oldIndexRedo:Te,newIndexRedo:Ee,oldIndex:Se.getIndex(),newIndex:ze.getIndex(),oldSelection:xe,newSelection:(this||be).editor.getDomSelection()})),De=!0)),De&&(Ae.preventDefault(),Ae.stopPropagation())}},{key:"_onExpand",value:function(Ae){var we,xe,Se;Ae&&(Se=(xe=(we=(this||be).dom.tr.parentNode).parentNode).scrollTop,xe.removeChild(we)),(this||be).expanded?this.collapse(Ae):this.expand(Ae),Ae&&(xe.appendChild(we),xe.scrollTop=Se),"function"==typeof(this||be).editor.options.onExpand&&(this||be).editor.options.onExpand({path:this.getPath(),isExpand:(this||be).expanded,recursive:Ae})}},{key:"_showColorPicker",value:function(){var Ae,we;"function"==typeof(this||be).editor.options.onColorPicker&&(this||be).dom.color&&((Ae=this||be)._deleteDomColor(),Ae.updateDom(),we=(0,Ne.p)((this||be).dom.color,(this||be).editor.getPopupAnchor()),(this||be).editor.options.onColorPicker(we,(this||be).value,(function(be){"string"==typeof be&&be!==Ae.value&&(Ae._deleteDomColor(),Ae.value=be,Ae.updateDom(),Ae._debouncedOnChangeValue())})))}},{key:"getFieldNames",value:function(Ae){return"object"===(this||be).type?(this||be).childs.filter((function(be){return be!==Ae})).map((function(be){return be.field})):[]}},{key:"_onInsertBefore",value:function(Ae,we,xe){var Se=(this||be).editor.getDomSelection();Ae=new x((this||be).editor,{field:void 0!==Ae?Ae:"",value:void 0!==we?we:"",type:xe}),we=(Ae.expand(!0),this.getInternalPath()),xe=((this||be).parent.insertBefore(Ae,this||be),(this||be).editor.highlighter.unhighlight(),Ae.focus("field"),(this||be).editor.getDomSelection());(this||be).editor._onAction("insertBeforeNodes",{nodes:[Ae],paths:[Ae.getInternalPath()],beforePath:we,parentPath:(this||be).parent.getInternalPath(),oldSelection:Se,newSelection:xe})}},{key:"_onInsertAfter",value:function(Ae,we,xe){var Se=(this||be).editor.getDomSelection();Ae=new x((this||be).editor,{field:void 0!==Ae?Ae:"",value:void 0!==we?we:"",type:xe}),we=(Ae.expand(!0),(this||be).parent.insertAfter(Ae,this||be),(this||be).editor.highlighter.unhighlight(),Ae.focus("field"),(this||be).editor.getDomSelection());(this||be).editor._onAction("insertAfterNodes",{nodes:[Ae],paths:[Ae.getInternalPath()],afterPath:this.getInternalPath(),parentPath:(this||be).parent.getInternalPath(),oldSelection:Se,newSelection:we})}},{key:"_onAppend",value:function(Ae,we,xe){var Se=(this||be).editor.getDomSelection();Ae=new x((this||be).editor,{field:void 0!==Ae?Ae:"",value:void 0!==we?we:"",type:xe}),we=(Ae.expand(!0),(this||be).parent.appendChild(Ae),(this||be).editor.highlighter.unhighlight(),Ae.focus("field"),(this||be).editor.getDomSelection());(this||be).editor._onAction("appendNodes",{nodes:[Ae],paths:[Ae.getInternalPath()],parentPath:(this||be).parent.getInternalPath(),oldSelection:Se,newSelection:we})}},{key:"_onChangeType",value:function(Ae){var we,xe,Se=(this||be).type;Ae!==Se&&(we=(this||be).editor.getDomSelection(),this.changeType(Ae),xe=(this||be).editor.getDomSelection(),(this||be).editor._onAction("changeType",{path:this.getInternalPath(),oldType:Se,newType:Ae,oldSelection:we,newSelection:xe}))}},{key:"sort",value:function(Ae,we){var xe,Se,ke=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];"string"==typeof Ae&&(Ae=(0,Me.parsePath)(Ae)),this._hasChilds()&&(this.hideChilds(),xe=(this||be).childs,(this||be).childs=(this||be).childs.concat(),Se="desc"===we?-1:1,"object"===(this||be).type?(this||be).childs.sort((function(be,Ae){return Se*Le()(be.field,Ae.field)})):(this||be).childs.sort((function(be,we){be=be.getNestedChild(Ae),we=we.getNestedChild(Ae);return be?we?(be=be.value,we=we.value,"string"!=typeof be&&"string"!=typeof we?we<be?Se:be<we?-Se:0:Se*Le()(be,we)):-Se:Se})),this._updateDomIndexes(),this.showChilds(),!0===ke)&&(this||be).editor._onAction("sort",{path:this.getInternalPath(),oldChilds:xe,newChilds:(this||be).childs})}},{key:"update",value:function(Ae){var we=this.getInternalValue();this.setValue(Ae),(this||be).editor._onAction("transform",{path:this.getInternalPath(),oldValue:we,newValue:this.getInternalValue()})}},{key:"_detachFromDom",value:function(){var Ae=(this||be).dom.tr?(this||be).dom.tr.parentNode:void 0,we=(this||be).expanded?this.getAppendDom():this.getDom();we=we&&we.parentNode?we.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:Ae,nextTr:we}}},{key:"_attachToDom",value:function(Ae){Ae.table&&(Ae.nextTr?Ae.table.insertBefore(this.getDom(),Ae.nextTr):Ae.table.appendChild(this.getDom())),(this||be).expanded&&this.showChilds()}},{key:"transform",value:function(Ae){if(this._hasChilds()){this.hideChilds();try{var we=this.getInternalValue(),xe=this.getValue(),Se=(this||be).editor.options.executeQuery(xe,Ae),ke=(this.setValue(Se),this.getInternalValue());(this||be).editor._onAction("transform",{path:this.getInternalPath(),oldValue:we,newValue:ke}),this.showChilds()}catch(Ae){this.showChilds(),(this||be).editor._onError(Ae)}}}},{key:"extract",value:function(){(this||be).editor.node.hideChilds(),this.hideChilds();try{var Ae=(this||be).editor.node.getInternalValue(),we=((this||be).editor._setRoot(this||be),(this||be).editor.node.getInternalValue());(this||be).editor._onAction("transform",{path:(this||be).editor.node.getInternalPath(),oldValue:Ae,newValue:we})}catch(Ae){(this||be).editor._onError(Ae)}finally{this.updateDom({recurse:!0}),this.showChilds()}}},{key:"getNestedChild",value:function(Ae){for(var we=0,xe=this||be;xe&&we<Ae.length;)xe=xe.findChildByProperty(Ae[we]),we++;return xe}},{key:"findChildByProperty",value:function(Ae){if("object"===(this||be).type)return(this||be).childs.find((function(be){return be.field===Ae}))}},{key:"getAppendDom",value:function(){return(this||be).append||((this||be).append=new Fe((this||be).editor),(this||be).append.setParent(this||be)),(this||be).append.getDom()}},{key:"getShowMoreDom",value:function(){return(this||be).showMore||((this||be).showMore=new Oe((this||be).editor,this||be)),(this||be).showMore.getDom()}},{key:"nextSibling",value:function(){var Ae=(this||be).parent.childs.indexOf(this||be);return(this||be).parent.childs[Ae+1]||(this||be).parent.append}},{key:"_previousNode",value:function(){var be=null,Ae=this.getDom();if(Ae&&Ae.parentNode)for(var we=Ae;we=we.previousSibling,be=x.getNodeFromTarget(we),we&&be&&be instanceof Fe&&!be.isVisible(););return be}},{key:"_nextNode",value:function(){var be=null,Ae=this.getDom();if(Ae&&Ae.parentNode)for(var we=Ae;we=we.nextSibling,be=x.getNodeFromTarget(we),we&&be&&be instanceof Fe&&!be.isVisible(););return be}},{key:"_firstNode",value:function(){var be=null,Ae=this.getDom();return Ae&&Ae.parentNode&&(Ae=Ae.parentNode.firstChild,be=x.getNodeFromTarget(Ae)),be}},{key:"_lastNode",value:function(){var be=null,Ae=this.getDom();if(Ae&&Ae.parentNode){var we=Ae.parentNode.lastChild;for(be=x.getNodeFromTarget(we);we&&be&&!be.isVisible();)we=we.previousSibling,be=x.getNodeFromTarget(we)}return be}},{key:"_previousElement",value:function(Ae){var we=(this||be).dom;switch(Ae){case we.value:if((this||be).fieldEditable)return we.field;case we.field:if(this._hasChilds())return we.expand;case we.expand:return we.menu;case we.menu:if(we.drag)return we.drag;default:return null}}},{key:"_nextElement",value:function(Ae){var we=(this||be).dom;switch(Ae){case we.drag:return we.menu;case we.menu:if(this._hasChilds())return we.expand;case we.expand:if((this||be).fieldEditable)return we.field;case we.field:if(!this._hasChilds())return we.value;default:return null}}},{key:"_getElementName",value:function(Ae){var we=this||be;return Object.keys((this||be).dom).find((function(be){return we.dom[be]===Ae}))}},{key:"_hasChilds",value:function(){return"array"===(this||be).type||"object"===(this||be).type}},{key:"addTemplates",value:function(Ae,we){var xe=this||be,Se=xe.editor.options.templates;null!=Se&&(Se.length&&Ae.push({type:"separator"}),Se.forEach((function(Se){Ae.push({text:Se.text,className:Se.className||"jsoneditor-type-object",title:Se.title,click:(we?function(be,Ae){xe._onAppend(be,Ae)}:function(be,Ae){xe._onInsertBefore(be,Ae)}).bind(this||be,Se.field,Se.value)})})))}},{key:"showContextMenu",value:function(Ae,we){var xe,Se=this||be,Te=[];(this||be).editable.value&&Te.push({text:(0,Re.Tl)("type"),title:(0,Re.Tl)("typeTitle"),className:"jsoneditor-type-"+(this||be).type,submenu:[{text:(0,Re.Tl)("auto"),className:"jsoneditor-type-auto"+("auto"===(this||be).type?" jsoneditor-selected":""),title:(0,Re.Tl)("autoType"),click:function(){Se._onChangeType("auto")}},{text:(0,Re.Tl)("array"),className:"jsoneditor-type-array"+("array"===(this||be).type?" jsoneditor-selected":""),title:(0,Re.Tl)("arrayType"),click:function(){Se._onChangeType("array")}},{text:(0,Re.Tl)("object"),className:"jsoneditor-type-object"+("object"===(this||be).type?" jsoneditor-selected":""),title:(0,Re.Tl)("objectType"),click:function(){Se._onChangeType("object")}},{text:(0,Re.Tl)("string"),className:"jsoneditor-type-string"+("string"===(this||be).type?" jsoneditor-selected":""),title:(0,Re.Tl)("stringType"),click:function(){Se._onChangeType("string")}}]}),this._hasChilds()&&((this||be).editor.options.enableSort&&Te.push({text:(0,Re.Tl)("sort"),title:(0,Re.Tl)("sortTitle",{type:(this||be).type}),className:"jsoneditor-sort-asc",click:function(){Se.showSortModal()}}),(this||be).editor.options.enableTransform&&Te.push({text:(0,Re.Tl)("transform"),title:(0,Re.Tl)("transformTitle",{type:(this||be).type}),className:"jsoneditor-transform",click:function(){Se.showTransformModal()}}),(this||be).parent)&&Te.push({text:(0,Re.Tl)("extract"),title:(0,Re.Tl)("extractTitle",{type:(this||be).type}),className:"jsoneditor-extract",click:function(){Se.extract()}}),(this||be).parent&&(this||be).parent._hasChilds()&&(Te.length&&Te.push({type:"separator"}),xe=Se.parent.childs,Se===xe[xe.length-1]&&(xe=[{text:(0,Re.Tl)("auto"),className:"jsoneditor-type-auto",title:(0,Re.Tl)("autoType"),click:function(){Se._onAppend("","","auto")}},{text:(0,Re.Tl)("array"),className:"jsoneditor-type-array",title:(0,Re.Tl)("arrayType"),click:function(){Se._onAppend("",[])}},{text:(0,Re.Tl)("object"),className:"jsoneditor-type-object",title:(0,Re.Tl)("objectType"),click:function(){Se._onAppend("",{})}},{text:(0,Re.Tl)("string"),className:"jsoneditor-type-string",title:(0,Re.Tl)("stringType"),click:function(){Se._onAppend("","","string")}}],Se.addTemplates(xe,!0),Te.push({text:(0,Re.Tl)("appendText"),title:(0,Re.Tl)("appendTitle"),submenuTitle:(0,Re.Tl)("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){Se._onAppend("","","auto")},submenu:xe})),xe=[{text:(0,Re.Tl)("auto"),className:"jsoneditor-type-auto",title:(0,Re.Tl)("autoType"),click:function(){Se._onInsertBefore("","","auto")}},{text:(0,Re.Tl)("array"),className:"jsoneditor-type-array",title:(0,Re.Tl)("arrayType"),click:function(){Se._onInsertBefore("",[])}},{text:(0,Re.Tl)("object"),className:"jsoneditor-type-object",title:(0,Re.Tl)("objectType"),click:function(){Se._onInsertBefore("",{})}},{text:(0,Re.Tl)("string"),className:"jsoneditor-type-string",title:(0,Re.Tl)("stringType"),click:function(){Se._onInsertBefore("","","string")}}],Se.addTemplates(xe,!1),Te.push({text:(0,Re.Tl)("insert"),title:(0,Re.Tl)("insertTitle"),submenuTitle:(0,Re.Tl)("insertSub"),className:"jsoneditor-insert",click:function(){Se._onInsertBefore("","","auto")},submenu:xe}),(this||be).editable.field)&&(Te.push({text:(0,Re.Tl)("duplicateText"),title:(0,Re.Tl)("duplicateField"),className:"jsoneditor-duplicate",click:function(){x.onDuplicate(Se)}}),Te.push({text:(0,Re.Tl)("removeText"),title:(0,Re.Tl)("removeField"),className:"jsoneditor-remove",click:function(){x.onRemove(Se)}})),(this||be).editor.options.onCreateMenu&&(xe=Se.getPath(),Te=(this||be).editor.options.onCreateMenu(Te,{type:"single",path:xe,paths:[xe]})),new ke.t(Te,{close:we}).show(Ae,(this||be).editor.getPopupAnchor())}},{key:"showSortModal",value:function(){var Ae=this||be,we=(this||be).editor.options.modalAnchor||Pe.ai,xe=this.getValue();(0,Be.showSortModal)(we,xe,(function(be){var we=be.path;we=(0,Me.parsePath)(we);Ae.sortedBy=be,Ae.sort(we,be.direction)}),Ae.sortedBy)}},{key:"showTransformModal",value:function(){var Ae=this||be,we=(this||be).editor.options,xe=we.modalAnchor,Se=we.createQuery,ke=we.executeQuery,Te=(we=we.queryDescription,this.getValue());(0,We.showTransformModal)({container:xe||Pe.ai,json:Te,queryDescription:we,createQuery:Se,executeQuery:ke,onTransform:function(be){Ae.transform(be)}})}},{key:"_getType",value:function(be){return be instanceof Array?"array":be instanceof Object?"object":"string"==typeof be&&"string"!=typeof(0,Me.parseString)(be)?"string":"auto"}},{key:"_escapeHTML",value:function(Ae){return"string"!=typeof Ae?String(Ae):(Ae=String(Ae).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),Ae=(Ae=JSON.stringify(Ae)).substring(1,Ae.length-1),!0===(this||be).editor.options.escapeUnicode?(0,Me.escapeUnicodeChars)(Ae):Ae)}},{key:"_unescapeHTML",value:function(be){be='"'+this._escapeJSON(be)+'"';return(0,Me.parse)(be).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(be){for(var Ae="",we=0;we<be.length;){var xe=be.charAt(we);"\n"===xe?Ae+="\\n":"\\"===xe?(Ae+=xe,we++,""!==(xe=be.charAt(we))&&-1!=='"\\/bfnrtu'.indexOf(xe)||(Ae+="\\"),Ae+=xe):Ae+='"'===xe?'\\"':xe,we++}return Ae}},{key:"updateNodeName",value:function(){var Ae=(this||be).childs?(this||be).childs.length:0;if("object"===(this||be).type||"array"===(this||be).type){if((this||be).editor.options.onNodeName)try{var we=(this||be).getValue.bind(this||be),xe=(this||be).editor.options.onNodeName({path:this.getPath(),size:Ae,type:(this||be).type,get value(){return we()}})}catch(Ae){console.error("Error in onNodeName callback: ",Ae)}(this||be).dom.value.textContent="object"===(this||be).type?"{"+(xe||Ae)+"}":"["+(xe||Ae)+"]"}}},{key:"recursivelyUpdateNodeName",value:function(){if((this||be).expanded&&(this.updateNodeName(),"undefined"!==(this||be).childs))for(var Ae in(this||be).childs)(this||be).childs[Ae].recursivelyUpdateNodeName()}}])&&C(Ae.prototype,we),xe&&C(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}(),Ge=(He.prototype.DEBOUNCE_INTERVAL=150,He.prototype.MAX_SEARCH_RESULTS=999,100);function y(be){return be.getInternalPath()}function R(be){return be.getField()}function v(be,Ae){return Object.prototype.hasOwnProperty.call(be,Ae)}He.focusElement=void 0,He.select=function(be){setTimeout((function(){(0,Me.selectContentEditable)(be)}),0)},He.onDragStart=function(be,Ae){if(!Array.isArray(be))return He.onDragStart([be],Ae);var we,xe,Se,ke,Te;0!==be.length&&(we=be[0],xe=be[be.length-1],Se=we.parent,Te=He.getNodeFromTarget(Ae.target),ke=we.editor,Te=(0,Me.getAbsoluteTop)(Te.dom.tr)-(0,Me.getAbsoluteTop)(we.dom.tr),ke.mousemove||(ke.mousemove=(0,Me.addEventListener)(Ae.view,"mousemove",(function(Ae){He.onDrag(be,Ae)}))),ke.mouseup||(ke.mouseup=(0,Me.addEventListener)(Ae.view,"mouseup",(function(Ae){He.onDragEnd(be,Ae)}))),ke.highlighter.lock(),ke.drag={oldCursor:document.body.style.cursor,oldSelection:ke.getDomSelection(),oldPaths:be.map(y),oldParent:Se,oldNextNode:Se.childs[xe.getIndex()+1]||Se.append,oldParentPathRedo:Se.getInternalPath(),oldIndexRedo:we.getIndex(),mouseX:Ae.pageX,offsetY:Te,level:we.getLevel()},document.body.style.cursor="move",Ae.preventDefault())},He.onDrag=function(be,Ae){if(!Array.isArray(be))return He.onDrag([be],Ae);if(0!==be.length){var we,xe,Se,ke,Te,Ee=be[0].editor,Re=Ae.pageY-Ee.drag.offsetY,_e=Ae.pageX,$e=!1,Le=be[0],Ne=Le.dom.tr,Be=(0,Me.getAbsoluteTop)(Ne),We=Ne.offsetHeight;if(Re<Be){for(Ve=Ne;Ve=Ve.previousSibling,Ze=He.getNodeFromTarget(Ve),Se=Ve?(0,Me.getAbsoluteTop)(Ve):0,Ve&&Re<Se;);(Ze=Ze&&!Ze.parent?void 0:Ze)||(Ve=(Ne=Ne.parentNode.firstChild)?Ne.nextSibling:void 0,(Ze=He.getNodeFromTarget(Ve))===Le&&(Ze=void 0)),!(Ze=Ze&&Ze.isVisible()&&(Se=(Ve=Ze.dom.tr)?(0,Me.getAbsoluteTop)(Ve):0)+We<Re?void 0:Ze)||!1!==Ee.options.limitDragging&&Ze.parent!==be[0].parent||(be.forEach((function(be){Ze.parent.moveBefore(be,Ze)})),$e=!0)}else{var Pe=be[be.length-1];if(We=(Ne=Pe.expanded&&Pe.append?Pe.append.getDom():Pe.dom.tr)?Ne.nextSibling:void 0){for(ke=(0,Me.getAbsoluteTop)(We),we=We;xe=He.getNodeFromTarget(we),we&&(Te=we.nextSibling?(0,Me.getAbsoluteTop)(we.nextSibling):0,Te=we?Te-ke:0,xe&&xe.parent.childs.length===be.length&&xe.parent.childs[be.length-1]===Pe&&(Be+=27),we=we.nextSibling),we&&Be+Te<Re;);if(xe&&xe.parent){We=_e-Ee.drag.mouseX,We=Math.round(We/24/2);for(var Ge=Ee.drag.level+We,Oe=xe.getLevel(),Ve=xe.dom.tr&&xe.dom.tr.previousSibling;Oe<Ge&&Ve;){var Ze=He.getNodeFromTarget(Ve),De=be.some((function(be){return be===Ze||Ze.isDescendantOf(be)}));if(!De){if(!(Ze instanceof Fe))break;De=Ze.parent.childs;if(De.length===be.length&&De[be.length-1]===Pe)break;Oe=(xe=He.getNodeFromTarget(Ve)).getLevel()}Ve=Ve.previousSibling}(xe=xe instanceof Fe&&!xe.isVisible()&&xe.parent.showMore.isVisible()?xe._nextNode():xe)&&(!1===Ee.options.limitDragging||xe.parent===be[0].parent)&&xe.dom.tr&&xe.dom.tr!==Ne.nextSibling&&(be.forEach((function(be){xe.parent.moveBefore(be,xe)})),$e=!0)}}}$e&&(Ee.drag.mouseX=_e,Ee.drag.level=Le.getLevel()),Ee.startAutoScroll(Re),Ae.preventDefault()}},He.onDragEnd=function(be,Ae){if(!Array.isArray(be))return He.onDrag([be],Ae);var we,xe,Se,ke,Te,Ee,Re,_e,$e;0!==be.length&&(Ee=be[0],we=Ee.editor,Ee&&Ee.dom.menu&&Ee.dom.menu.focus(),xe=we.drag.oldParent.getInternalPath(),Se=Ee.parent.getInternalPath(),ke=we.drag.oldParent===Ee.parent,Te=we.drag.oldNextNode.getIndex(),Ee=Ee.getIndex(),Re=we.drag.oldParentPathRedo,_e=we.drag.oldIndexRedo,$e=ke&&_e<Ee?Ee+be.length:Ee,ke&&_e===Ee||we._onAction("moveNodes",{count:be.length,fieldNames:be.map(R),oldParentPath:xe,newParentPath:Se,oldIndex:Te,newIndex:Ee,oldIndexRedo:_e,newIndexRedo:$e,oldParentPathRedo:Re,newParentPathRedo:null,oldSelection:we.drag.oldSelection,newSelection:we.getDomSelection()}),document.body.style.cursor=we.drag.oldCursor,we.highlighter.unlock(),be.forEach((function(be){be.updateDom(),Ae.target!==be.dom.drag&&Ae.target!==be.dom.menu&&we.highlighter.unhighlight()})),delete we.drag,we.mousemove&&((0,Me.removeEventListener)(Ae.view,"mousemove",we.mousemove),delete we.mousemove),we.mouseup&&((0,Me.removeEventListener)(Ae.view,"mouseup",we.mouseup),delete we.mouseup),we.stopAutoScroll(),Ae.preventDefault())},He._findEnum=function(be){if(be.enum)return be.enum;be=be.oneOf||be.anyOf||be.allOf;if(be){be=be.filter((function(be){return be.enum}));if(0<be.length)return be[0].enum}return null},He._findSchema=function(be,Ae,we){for(var xe=3<arguments.length&&void 0!==arguments[3]?arguments[3]:be,Se=we.slice(1,we.length),ke=we[0],Te=[xe],Ee=0,Re=[xe.oneOf,xe.anyOf,xe.allOf];Ee<Re.length;Ee++){var _e=Re[Ee];Array.isArray(_e)&&(Te=Te.concat(_e))}var $e,Le=x(Te);try{for(Le.s();!($e=Le.n()).done;){if("$ref"in(xe=$e.value)&&"string"==typeof xe.$ref){var Ne,Me=xe.$ref;if(Me in Ae)xe=Ae[Me];else{if(!Me.startsWith("#/")){if(1===(null==(Ne=Me.match(/#\//g))?void 0:Ne.length)){var Be,We,Pe,Ge=H(Me.split("#/"),2),Fe=Ge[0],Oe=Ge[1];if(Fe in Ae)return Be=Ae[Fe],We={$ref:"#/".concat(Oe)},(Pe=[]).push(ke),0<Se.length&&Pe.push.apply(Pe,P(Se)),He._findSchema(Be,Ae,Pe,We)}throw Error("Unable to resolve reference ".concat(Me))}var Ve,Ze=Me.substring(2).split("/"),De=(xe=be,x(Ze));try{for(De.s();!(Ve=De.n()).done;){var je=Ve.value;if(!(je in xe))throw Error("Unable to resolve reference ".concat(Me));xe=xe[je]}}catch(be){De.e(be)}finally{De.f()}}}if(void 0===ke)return xe;if("string"==typeof ke){if("object"===T(xe.properties)&&null!==xe.properties&&ke in xe.properties)return xe=xe.properties[ke],He._findSchema(be,Ae,Se,xe);if("object"===T(xe.patternProperties)&&null!==xe.patternProperties)for(var Ke in xe.patternProperties)if(ke.match(Ke))return xe=xe.patternProperties[Ke],He._findSchema(be,Ae,Se,xe);if("object"===T(xe.additionalProperties))return xe=xe.additionalProperties,He._findSchema(be,Ae,Se,xe)}else if("number"==typeof ke&&"object"===T(xe.items)&&null!==xe.items)return xe=xe.items,He._findSchema(be,Ae,Se,xe)}}catch(be){Le.e(be)}finally{Le.f()}return null},He.onRemove=function(be){if(!Array.isArray(be))return He.onRemove([be]);var Ae,we,xe,Se,ke,Te;be&&0<be.length&&(Ae=(xe=be[0]).parent,we=xe.editor,xe=xe.getIndex(),we.highlighter.unhighlight(),Se=we.getDomSelection(),He.blurNodes(be),ke=we.getDomSelection(),Te=be.map(y),be.forEach((function(be){be.parent._remove(be)})),we._onAction("removeNodes",{nodes:be,paths:Te,parentPath:Ae.getInternalPath(),index:xe,oldSelection:Se,newSelection:ke}))},He.onDuplicate=function(be){if(!Array.isArray(be))return He.onDuplicate([be]);var Ae,we,xe,Se,ke,Te,Ee;be&&0<be.length&&(Ae=be[be.length-1],we=Ae.parent,(xe=Ae.editor).deselect(xe.multiselection.nodes),Se=xe.getDomSelection(),ke=Ae,Te=be.map((function(be){var Ae,xe=be.clone();return"object"===be.parent.type&&(Ae=be.parent.getFieldNames(),xe.field=(0,Me.findUniqueName)(be.field,Ae)),we.insertAfter(xe,ke),ke=xe})),1===be.length?"object"===Te[0].parent.type?(Te[0].dom.field.innerHTML=be[0]._escapeHTML(be[0].field),Te[0].focus("field")):Te[0].focus():xe.select(Te),Ee=xe.getDomSelection(),xe._onAction("duplicateNodes",{paths:be.map(y),clonePaths:Te.map(y),afterPath:Ae.getInternalPath(),parentPath:we.getInternalPath(),oldSelection:Se,newSelection:Ee}))},He.getNodeFromTarget=function(be){for(;be;){if(be.node)return be.node;be=be.parentNode}},He.targetIsColorPicker=function(be){var Ae=He.getNodeFromTarget(be);if(Ae)for(var we=be&&be.parentNode;we;){if(we===Ae.dom.color)return!0;we=we.parentNode}return!1},He.blurNodes=function(be){var Ae,we;Array.isArray(be)?(Ae=(we=be[0]).parent,we=we.getIndex(),(Ae.childs[we+be.length]?Ae.childs[we+be.length]:Ae.childs[we-1]||Ae).focus()):He.blurNodes([be])};(n.prototype=new He).getDom=function(){var Ae=(this||be).dom;if(Ae.tr)return Ae.tr;this._updateEditability();var we=document.createElement("tr"),xe=(we.className="jsoneditor-append",we.node=this||be,Ae.tr=we,"tree"===(this||be).editor.options.mode&&(Ae.tdDrag=document.createElement("td"),Se=document.createElement("td"),Ae.tdMenu=Se,(xe=document.createElement("button")).type="button",xe.className="jsoneditor-button jsoneditor-contextmenu-button",xe.title="Click to open the actions menu (Ctrl+M)",Ae.menu=xe,Se.appendChild(Ae.menu)),document.createElement("td")),Se=document.createElement("div");return Se.appendChild(document.createTextNode("("+(0,Re.Tl)("empty")+")")),Se.className="jsoneditor-readonly",xe.appendChild(Se),Ae.td=xe,Ae.text=Se,this.updateDom(),we},n.prototype.getPath=function(){return null},n.prototype.getIndex=function(){return null},n.prototype.updateDom=function(Ae){var we=(this||be).dom,xe=we.td,Se=(xe&&(xe.style.paddingLeft=24*this.getLevel()+26+"px"),we.text);Se=(Se&&(Se.firstChild.nodeValue="("+(0,Re.Tl)("empty")+" "+(this||be).parent.type+")"),we.tr);this.isVisible()?we.tr.firstChild||(we.tdDrag&&Se.appendChild(we.tdDrag),we.tdMenu&&Se.appendChild(we.tdMenu),Se.appendChild(xe)):we.tr.firstChild&&(we.tdDrag&&Se.removeChild(we.tdDrag),we.tdMenu&&Se.removeChild(we.tdMenu),Se.removeChild(xe))},n.prototype.isVisible=function(){return 0===(this||be).parent.childs.length},n.prototype.showContextMenu=function(Ae,we){var xe,Se=this||be,Te=[{text:(0,Re.Tl)("auto"),className:"jsoneditor-type-auto",title:(0,Re.Tl)("autoType"),click:function(){Se._onAppend("","","auto")}},{text:(0,Re.Tl)("array"),className:"jsoneditor-type-array",title:(0,Re.Tl)("arrayType"),click:function(){Se._onAppend("",[])}},{text:(0,Re.Tl)("object"),className:"jsoneditor-type-object",title:(0,Re.Tl)("objectType"),click:function(){Se._onAppend("",{})}},{text:(0,Re.Tl)("string"),className:"jsoneditor-type-string",title:(0,Re.Tl)("stringType"),click:function(){Se._onAppend("","","string")}}];Te=(Se.addTemplates(Te,!0),[{text:(0,Re.Tl)("appendText"),title:(0,Re.Tl)("appendTitleAuto"),submenuTitle:(0,Re.Tl)("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){Se._onAppend("","","auto")},submenu:Te}]);(this||be).editor.options.onCreateMenu&&(xe=Se.parent.getPath(),Te=(this||be).editor.options.onCreateMenu(Te,{type:"append",path:xe,paths:[xe]})),new ke.t(Te,{close:we}).show(Ae,(this||be).editor.getPopupAnchor())},n.prototype.onEvent=function(Ae){var we,xe=Ae.type,Se=Ae.target||Ae.srcElement,ke=(this||be).dom;Se===ke.menu&&("mouseover"===xe?(this||be).editor.highlighter.highlight((this||be).parent):"mouseout"===xe&&(this||be).editor.highlighter.unhighlight()),"click"===xe&&Se===ke.menu&&((we=(this||be).editor.highlighter).highlight((this||be).parent),we.lock(),(0,Me.addClassName)(ke.menu,"jsoneditor-selected"),this.showContextMenu(ke.menu,(function(){(0,Me.removeClassName)(ke.menu,"jsoneditor-selected"),we.unlock(),we.unhighlight()}))),"keydown"===xe&&this.onKeyDown(Ae)};var Fe=n;function n(Ae){(this||be).editor=Ae,(this||be).dom={}}(I.prototype=new He).getDom=function(){var Ae,we,xe,Se,ke,Te;return(this||be).dom.tr||(this._updateEditability(),(this||be).dom.tr||(we=(Ae=this||be).parent,(ke=document.createElement("a")).appendChild(document.createTextNode((0,Re.Tl)("showMore"))),ke.href="#",ke.onclick=function(be){return we.visibleChilds=Math.floor(we.visibleChilds/we.getMaxVisibleChilds()+1)*we.getMaxVisibleChilds(),Ae.updateDom(),we.showChilds(),be.preventDefault(),!1},(Te=document.createElement("a")).appendChild(document.createTextNode((0,Re.Tl)("showAll"))),Te.href="#",Te.onclick=function(be){return we.visibleChilds=1/0,Ae.updateDom(),we.showChilds(),be.preventDefault(),!1},xe=document.createElement("div"),Se=document.createTextNode(this._getShowMoreText()),xe.className="jsoneditor-show-more",xe.appendChild(Se),xe.appendChild(ke),xe.appendChild(document.createTextNode(". ")),xe.appendChild(Te),xe.appendChild(document.createTextNode(". ")),(ke=document.createElement("td")).appendChild(xe),Te=document.createElement("tr"),"tree"===(this||be).editor.options.mode&&(Te.appendChild(document.createElement("td")),Te.appendChild(document.createElement("td"))),Te.appendChild(ke),Te.className="jsoneditor-show-more",(this||be).dom.tr=Te,(this||be).dom.moreContents=xe,(this||be).dom.moreText=Se),this.updateDom()),(this||be).dom.tr},I.prototype.updateDom=function(Ae){var we;this.isVisible()?((this||be).dom.tr.node=(this||be).parent.childs[(this||be).parent.visibleChilds],(this||be).dom.tr.parentNode||(we=(this||be).parent._getNextTr())&&we.parentNode.insertBefore((this||be).dom.tr,we),(this||be).dom.moreText.nodeValue=this._getShowMoreText(),(this||be).dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"):(this||be).dom.tr&&(this||be).dom.tr.parentNode&&(this||be).dom.tr.parentNode.removeChild((this||be).dom.tr)},I.prototype._getShowMoreText=function(){return(0,Re.Tl)("showMoreStatus",{visibleChilds:(this||be).parent.visibleChilds,totalChilds:(this||be).parent.childs.length})+" "},I.prototype.isVisible=function(){return(this||be).parent.expanded&&(this||be).parent.childs.length>(this||be).parent.visibleChilds},I.prototype.onEvent=function(be){"keydown"===be.type&&this.onKeyDown(be)};var Oe=I;function I(Ae,we){(this||be).editor=Ae,(this||be).parent=we,(this||be).dom={}}function b(be){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function A(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=b(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=b(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==b(be)?be:be+""}(xe.key),xe)}}var Ve=function(){function e(Ae){if(!((this||be)instanceof e))throw new TypeError("Cannot call a class as a function");function r(be){return Ae.node.findNodeByInternalPath(be)}(this||be).editor=Ae,(this||be).history=[],(this||be).index=-1,this.clear(),(this||be).actions={editField:{undo:function(be){r(be.parentPath).childs[be.index].updateField(be.oldValue)},redo:function(be){r(be.parentPath).childs[be.index].updateField(be.newValue)}},editValue:{undo:function(be){r(be.path).updateValue(be.oldValue)},redo:function(be){r(be.path).updateValue(be.newValue)}},changeType:{undo:function(be){r(be.path).changeType(be.oldType)},redo:function(be){r(be.path).changeType(be.newType)}},appendNodes:{undo:function(be){var Ae=r(be.parentPath);be.paths.map(r).forEach((function(be){Ae.removeChild(be)}))},redo:function(be){var Ae=r(be.parentPath);be.nodes.forEach((function(be){Ae.appendChild(be)}))}},insertBeforeNodes:{undo:function(be){var Ae=r(be.parentPath);be.paths.map(r).forEach((function(be){Ae.removeChild(be)}))},redo:function(be){var Ae=r(be.parentPath),we=r(be.beforePath);be.nodes.forEach((function(be){Ae.insertBefore(be,we)}))}},insertAfterNodes:{undo:function(be){var Ae=r(be.parentPath);be.paths.map(r).forEach((function(be){Ae.removeChild(be)}))},redo:function(be){var Ae=r(be.parentPath),we=r(be.afterPath);be.nodes.forEach((function(be){Ae.insertAfter(be,we),we=be}))}},removeNodes:{undo:function(be){var Ae=r(be.parentPath),we=Ae.childs[be.index]||Ae.append;be.nodes.forEach((function(be){Ae.insertBefore(be,we)}))},redo:function(be){var Ae=r(be.parentPath);be.paths.map(r).forEach((function(be){Ae.removeChild(be)}))}},duplicateNodes:{undo:function(be){var Ae=r(be.parentPath);be.clonePaths.map(r).forEach((function(be){Ae.removeChild(be)}))},redo:function(be){var Ae=r(be.parentPath),we=r(be.afterPath);be.paths.map(r).forEach((function(be){var xe,Se=be.clone();"object"===Ae.type&&(xe=Ae.getFieldNames(),Se.field=(0,Me.findUniqueName)(be.field,xe)),Ae.insertAfter(Se,we),we=Se}))}},moveNodes:{undo:function(be){var Ae=r(be.oldParentPath),we=r(be.newParentPath),xe=Ae.childs[be.oldIndex]||Ae.append;we.childs.slice(be.newIndex,be.newIndex+be.count).forEach((function(we,Se){we.field=be.fieldNames[Se],Ae.moveBefore(we,xe)})),null===be.newParentPathRedo&&(be.newParentPathRedo=we.getInternalPath())},redo:function(be){var Ae=r(be.oldParentPathRedo),we=r(be.newParentPathRedo),xe=we.childs[be.newIndexRedo]||we.append;Ae.childs.slice(be.oldIndexRedo,be.oldIndexRedo+be.count).forEach((function(Ae,Se){Ae.field=be.fieldNames[Se],we.moveBefore(Ae,xe)}))}},sort:{undo:function(be){var Ae=r(be.path);Ae.hideChilds(),Ae.childs=be.oldChilds,Ae.updateDom({updateIndexes:!0}),Ae.showChilds()},redo:function(be){var Ae=r(be.path);Ae.hideChilds(),Ae.childs=be.newChilds,Ae.updateDom({updateIndexes:!0}),Ae.showChilds()}},transform:{undo:function(be){r(be.path).setInternalValue(be.oldValue)},redo:function(be){r(be.path).setInternalValue(be.newValue)}}}}return Ae=e,(we=[{key:"onChange",value:function(){}},{key:"add",value:function(Ae,we){(this||be).index++,(this||be).history[(this||be).index]={action:Ae,params:we,timestamp:new Date},(this||be).index<(this||be).history.length-1&&(this||be).history.splice((this||be).index+1,(this||be).history.length-(this||be).index-1),this.onChange()}},{key:"clear",value:function(){(this||be).history=[],(this||be).index=-1,this.onChange()}},{key:"canUndo",value:function(){return 0<=(this||be).index}},{key:"canRedo",value:function(){return(this||be).index<(this||be).history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var Ae=(this||be).history[(this||be).index];if(Ae){var we=(this||be).actions[Ae.action];if(we&&we.undo){if(we.undo(Ae.params),Ae.params.oldSelection)try{(this||be).editor.setDomSelection(Ae.params.oldSelection)}catch(Ae){console.error(Ae)}}else console.error(new Error('unknown action "'+Ae.action+'"'))}(this||be).index--,this.onChange()}}},{key:"redo",value:function(){if(this.canRedo()){(this||be).index++;var Ae=(this||be).history[(this||be).index];if(Ae){var we=(this||be).actions[Ae.action];if(we&&we.redo){if(we.redo(Ae.params),Ae.params.newSelection)try{(this||be).editor.setDomSelection(Ae.params.newSelection)}catch(Ae){console.error(Ae)}}else console.error(new Error('unknown action "'+Ae.action+'"'))}this.onChange()}}},{key:"destroy",value:function(){(this||be).editor=null,(this||be).history=[],(this||be).index=-1}}])&&A(Ae.prototype,we),xe&&A(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}();function _(be){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function L(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=_(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=_(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==_(be)?be:be+""}(xe.key),xe)}}var Ze=function(){function o(Ae,we){if(!((this||be)instanceof o))throw new TypeError("Cannot call a class as a function");var xe=this||be,Se=(Ae=((this||be).editor=Ae,(this||be).timeout=void 0,(this||be).delay=200,(this||be).lastText=void 0,(this||be).results=null,(this||be).dom={},(this||be).dom.container=we,document.createElement("div")),we=(((this||be).dom.wrapper=Ae).className="jsoneditor-search",we.appendChild(Ae),document.createElement("div")),we=(((this||be).dom.results=we).className="jsoneditor-results",Ae.appendChild(we),document.createElement("div")),Ae=(((this||be).dom.input=we).className="jsoneditor-frame",we.title=(0,Re.Tl)("searchTitle"),Ae.appendChild(we),document.createElement("button")),Ae.type="button",Ae.className="jsoneditor-refresh",we.appendChild(Ae),document.createElement("input"));Ae=(Se.type="text",((this||be).dom.search=Se).oninput=function(be){xe._onDelayedSearch(be)},Se.onchange=function(be){xe._onSearch()},Se.onkeydown=function(be){xe._onKeyDown(be)},Se.onkeyup=function(be){xe._onKeyUp(be)},Ae.onclick=function(be){Se.select()},we.appendChild(Se),document.createElement("button")),Ae=(Ae.type="button",Ae.title=(0,Re.Tl)("searchNextResultTitle"),Ae.className="jsoneditor-next",Ae.onclick=function(){xe.next()},we.appendChild(Ae),document.createElement("button"));Ae.type="button",Ae.title=(0,Re.Tl)("searchPreviousResultTitle"),Ae.className="jsoneditor-previous",Ae.onclick=function(){xe.previous()},we.appendChild(Ae)}return Ae=o,(we=[{key:"next",value:function(Ae){var we;(this||be).results&&((we=null!==(this||be).resultIndex?(this||be).resultIndex+1:0)>(this||be).results.length-1&&(we=0),this._setActiveResult(we,Ae))}},{key:"previous",value:function(Ae){var we,xe;(this||be).results&&(we=(this||be).results.length-1,xe=null!==(this||be).resultIndex?(this||be).resultIndex-1:we,this._setActiveResult(xe=xe<0?we:xe,Ae))}},{key:"_setActiveResult",value:function(Ae,we){var xe,Se,ke;(this||be).activeResult&&(xe=(this||be).activeResult.node,"field"===(this||be).activeResult.elem?delete xe.searchFieldActive:delete xe.searchValueActive,xe.updateDom()),(this||be).results&&(this||be).results[Ae]?((this||be).resultIndex=Ae,Se=(this||be).results[(this||be).resultIndex].node,"field"===(ke=(this||be).results[(this||be).resultIndex].elem)?Se.searchFieldActive=!0:Se.searchValueActive=!0,(this||be).activeResult=(this||be).results[(this||be).resultIndex],Se.updateDom(),Se.scrollTo((function(){we&&Se.focus(ke)}))):((this||be).resultIndex=void 0,(this||be).activeResult=void 0)}},{key:"_clearDelay",value:function(){void 0!==(this||be).timeout&&(clearTimeout((this||be).timeout),delete(this||be).timeout)}},{key:"_onDelayedSearch",value:function(Ae){this._clearDelay();var we=this||be;(this||be).timeout=setTimeout((function(be){we._onSearch()}),(this||be).delay)}},{key:"_onSearch",value:function(Ae){this._clearDelay();var we=(this||be).dom.search.value;we=0<we.length?we:void 0;if(we!==(this||be).lastText||Ae){(this||be).lastText=we,(this||be).results=(this||be).editor.search(we);Ae=(this||be).results[0]?(this||be).results[0].node.MAX_SEARCH_RESULTS:1/0;var xe=0;if((this||be).activeResult)for(var Se=0;Se<(this||be).results.length;Se++)if((this||be).results[Se].node===(this||be).activeResult.node){xe=Se;break}this._setActiveResult(xe,!1),void 0!==we?(we=(this||be).results.length,(this||be).dom.results.textContent=0===we?"no results":1===we?"1 result":Ae<we?Ae+"+ results":we+" results"):(this||be).dom.results.textContent=""}}},{key:"_onKeyDown",value:function(Ae){var we=Ae.which;27===we?((this||be).dom.search.value="",this._onSearch(),Ae.preventDefault(),Ae.stopPropagation()):13===we&&(Ae.ctrlKey?this._onSearch(!0):Ae.shiftKey?this.previous():this.next(),Ae.preventDefault(),Ae.stopPropagation())}},{key:"_onKeyUp",value:function(be){var Ae=be.keyCode;27!==Ae&&13!==Ae&&this._onDelayedSearch(be)}},{key:"clear",value:function(){(this||be).dom.search.value="",this._onSearch()}},{key:"forceSearch",value:function(){this._onSearch(!0)}},{key:"isEmpty",value:function(){return""===(this||be).dom.search.value}},{key:"destroy",value:function(){(this||be).editor=null,(this||be).dom.container.removeChild((this||be).dom.wrapper),(this||be).dom=null,(this||be).results=null,(this||be).activeResult=null,this._clearDelay()}}])&&L(Ae.prototype,we),xe&&L(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}();function N(be){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}function M(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(be,function(be){be=function(be,Ae){if("object"!=N(be)||!be)return be;var we=be[Symbol.toPrimitive];if(void 0===we)return("string"===Ae?String:Number)(be);we=we.call(be,Ae||"default");if("object"!=N(we))return we;throw new TypeError("@@toPrimitive must return a primitive value.")}(be,"string");return"symbol"==N(be)?be:be+""}(xe.key),xe)}}var De=function(){function n(Ae,we){if(!((this||be)instanceof n))throw new TypeError("Cannot call a class as a function");Ae&&((this||be).root=we,(this||be).path=document.createElement("div"),(this||be).path.className="jsoneditor-treepath",(this||be).path.setAttribute("tabindex",0),(this||be).contentMenuClicked=!1,Ae.appendChild((this||be).path),this.reset())}return Ae=n,(we=[{key:"reset",value:function(){(this||be).path.textContent=(0,Re.Tl)("selectNode")}},{key:"setPath",value:function(Ae){var we=this||be;(this||be).path.textContent="",Ae&&Ae.length&&Ae.forEach((function(xe,Se){var Te,Ee=document.createElement("span");Ee.className="jsoneditor-treepath-element",Ee.innerText=xe.name,Ee.onclick=function(Ae){(this||be).selectionCallback&&this.selectionCallback(Ae)}.bind(we,xe),we.path.appendChild(Ee),xe.children.length&&((Te=document.createElement("span")).className="jsoneditor-treepath-seperator",Te.textContent="►",Te.onclick=function(){we.contentMenuClicked=!0;var Ee=[];xe.children.forEach((function(ke){Ee.push({text:ke.name,className:"jsoneditor-type-modes"+(Ae[Se+1]+1&&Ae[Se+1].name===ke.name?" jsoneditor-selected":""),click:function(Ae,we){(this||be).contextMenuCallback&&this.contextMenuCallback(Ae,we)}.bind(we,xe,ke.name)})})),new ke.t(Ee,{limitHeight:!0}).show(Te,we.root,!0)},we.path.appendChild(Te)),Se===Ae.length-1&&(Ee=(Te||Ee).getBoundingClientRect().right,we.path.offsetWidth<Ee&&(we.path.scrollLeft=Ee),we.path.scrollLeft)&&((Ee=document.createElement("span")).className="jsoneditor-treepath-show-all-btn",Ee.title="show all path",Ee.textContent="...",Ee.onclick=function(be){(we.contentMenuClicked=!1,Me.addClassName)(we.path,"show-all"),we.path.style.width=we.path.parentNode.getBoundingClientRect().width-10+"px",we.path.onblur=function(){we.contentMenuClicked?(we.contentMenuClicked=!1,we.path.focus()):((0,Me.removeClassName)(we.path,"show-all"),we.path.onblur=void 0,we.path.style.width="",we.setPath(be))}}.bind(we,Ae),we.path.insertBefore(Ee,we.path.firstChild))}))}},{key:"onSectionSelected",value:function(Ae){"function"==typeof Ae&&((this||be).selectionCallback=Ae)}},{key:"onContextMenuItemSelected",value:function(Ae){"function"==typeof Ae&&((this||be).contextMenuCallback=Ae)}}])&&M(Ae.prototype,we),xe&&M(Ae,xe),Object.defineProperty(Ae,"prototype",{writable:!1}),Ae;var Ae,we,xe}(),je=(we=xe(1746),xe.n(we)),Ke=(xe={},xe.create=function(Ae,we){if(!Ae)throw new Error("No container element provided.");function r(be){var Ae,we;document.createRange?((Ae=document.createRange()).selectNodeContents(be),Ae.collapse(!1),(we=window.getSelection()).removeAllRanges(),we.addRange(Ae)):document.selection&&((Ae=document.body.createTextRange()).moveToElementText(be),Ae.collapse(!1),Ae.select())}function s(be){return void 0===ke&&((ke=document.createElement("span")).style.visibility="hidden",ke.style.position="fixed",ke.style.outline="0",ke.style.margin="0",ke.style.padding="0",ke.style.border="0",ke.style.left="0",ke.style.whiteSpace="pre",ke.style.fontSize=Re,ke.style.fontFamily=_e,ke.style.fontWeight="normal",document.body.appendChild(ke)),ke.textContent=be,ke.getBoundingClientRect().right}function a(){(this||be).style.backgroundColor="#ddd"}function l(){(this||be).style.backgroundColor=""}function c(){Pe.hide(),Pe.onmouseselection((this||be).__hint,Pe.rs)}var xe,ke,Te,Re,_e,$e,Le,Ne,Me,Be,We,Pe,He,Ge,Fe,Oe;(this||be).container=Ae,(this||be).dom={},(this||be).highlighter=new Ee,(this||be).selection=void 0,(this||be).multiselection={nodes:[]},(this||be).validateSchema=null,(this||be).validationSequence=0,(this||be).errorNodes=[],(this||be).lastSchemaErrors=void 0,(this||be).node=null,(this||be).focusTarget=null,this._setOptions(we),we.autocomplete&&((this||be).autocomplete=((xe=(xe=we.autocomplete)||{}).filter=xe.filter||"start",xe.trigger=xe.trigger||"keydown",xe.confirmKeys=xe.confirmKeys||[39,35,9],xe.caseSensitive=xe.caseSensitive||!1,_e=Re="",($e=document.createElement("div")).style.position="relative",$e.style.outline="0",$e.style.border="0",$e.style.margin="0",$e.style.padding="0",(Le=document.createElement("div")).className="autocomplete dropdown",Le.style.position="absolute",Le.style.visibility="hidden",Ne=Le,Me=[],We=-1,Ge=Pe={rs:He={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:Be=0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:$e,show:function(Ae,we,xe){var Se=this||be;(this||be).startFrom=we,(this||be).wrapper.remove(),(this||be).elementHint&&((this||be).elementHint.remove(),(this||be).elementHint=null),""===Re&&(Re=window.getComputedStyle(Ae).getPropertyValue("font-size")),""===_e&&(_e=window.getComputedStyle(Ae).getPropertyValue("font-family")),Le.style.marginLeft="0",Le.style.marginTop=Ae.getBoundingClientRect().height+"px",(this||be).options=xe.map(String),(this||be).element!==Ae&&((this||be).element=Ae,(this||be).elementStyle={zIndex:(this||be).element.style.zIndex,position:(this||be).element.style.position,backgroundColor:(this||be).element.style.backgroundColor,borderColor:(this||be).element.style.borderColor}),(this||be).element.style.zIndex=3,(this||be).element.style.position="relative",(this||be).element.style.backgroundColor="transparent",(this||be).element.style.borderColor="transparent",(this||be).elementHint=Ae.cloneNode(),(this||be).elementHint.className="autocomplete hint",(this||be).elementHint.style.zIndex=2,(this||be).elementHint.style.position="absolute",(this||be).elementHint.onfocus=function(){Se.element.focus()},(this||be).element.addEventListener&&((this||be).element.removeEventListener("keydown",Fe),(this||be).element.addEventListener("keydown",Fe,!1),(this||be).element.removeEventListener("blur",Oe),(this||be).element.addEventListener("blur",Oe,!1)),$e.appendChild((this||be).elementHint),$e.appendChild(Le),Ae.parentElement.appendChild($e),this.repaint(Ae)},setText:function(Ae){(this||be).element.innerText=Ae},getText:function(){return(this||be).element.innerText},hideDropDown:function(){(this||be).wrapper.remove(),(this||be).elementHint&&((this||be).elementHint.remove(),(this||be).elementHint=null,Ge.hide(),(this||be).element.style.zIndex=(this||be).elementStyle.zIndex,(this||be).element.style.position=(this||be).elementStyle.position,(this||be).element.style.backgroundColor=(this||be).elementStyle.backgroundColor,(this||be).element.style.borderColor=(this||be).elementStyle.borderColor)},repaint:function(Ae){Ae=(Ae=Ae.innerText).replace("\n","");var we=(this||be).options.length,Se=Ae.substring((this||be).startFrom);Te=Ae.substring(0,(this||be).startFrom);for(var ke=0;ke<we;ke++){var Ee=(this||be).options[ke];if(!xe.caseSensitive&&0===Ee.toLowerCase().indexOf(Se.toLowerCase())||xe.caseSensitive&&0===Ee.indexOf(Se)){(this||be).elementHint.innerText=Te+Se+Ee.substring(Se.length),(this||be).elementHint.realInnerText=Te+Ee;break}}Le.style.left=s(Te)+"px",Ge.refresh(Se,(this||be).options),(this||be).elementHint.style.width=s((this||be).elementHint.innerText)+10+"px","hidden"!==Le.style.visibility&&((this||be).elementHint.style.width=s((this||be).elementHint.innerText)+Le.clientWidth+"px")}},hide:function(){Ne.style.visibility="hidden"},refresh:function(be,Ae){Ne.style.visibility="hidden",Be=0,Ne.textContent="";var we=window.innerHeight||document.documentElement.clientHeight,ke=Ne.parentNode.getBoundingClientRect(),Te=ke.top-6,Ee=(we=we-ke.bottom-6,Me=[],"function"==typeof xe.filter?xe.filter:Se[xe.filter]);ke=Ee?Ae.filter((function(Ae){return Ee(xe.caseSensitive?be:be.toLowerCase(),xe.caseSensitive?Ae:Ae.toLowerCase(),xe)})):[];0===(Me=ke.map((function(Ae){var we=document.createElement("div"),xe=(we.className="item",we.onmouseover=a,we.onmouseout=l,we.onmousedown=c,we.__hint=Ae,we.textContent="",we.appendChild(document.createTextNode(Ae.substring(0,be.length))),document.createElement("b"));return xe.appendChild(document.createTextNode(Ae.substring(be.length))),we.appendChild(xe),Ne.appendChild(we),we}))).length||1===Me.length&&(be.toLowerCase()===Me[0].__hint.toLowerCase()&&!xe.caseSensitive||be===Me[0].__hint&&xe.caseSensitive)||Me.length<2||(Pe.highlight(0),3*we<Te?(Ne.style.maxHeight=Te+"px",Ne.style.top="",Ne.style.bottom="100%"):(Ne.style.top="100%",Ne.style.bottom="",Ne.style.maxHeight=we+"px"),Ne.style.visibility="visible")},highlight:function(be){-1!==We&&Me[We]&&(Me[We].className="item"),Me[be].className="item hover",We=be},move:function(be){return"hidden"===Ne.style.visibility?"":(Be+be!==-1&&Be+be!==Me.length&&(Be+=be,Pe.highlight(Be)),Me[Be].__hint)},onmouseselection:function(){}},Fe=function(Ae){var we=(Ae=Ae||window.event).keyCode;if(null!=(this||be).elementHint&&33!==we&&34!==we)if(27===we)He.hideDropDown(),He.element.focus(),Ae.preventDefault(),Ae.stopPropagation();else{var Se,ke=(ke=(this||be).element.innerText).replace("\n","");if(0<=xe.confirmKeys.indexOf(we))9===we&&0===(this||be).elementHint.innerText.length&&He.onTab(),0<(this||be).elementHint.innerText.length&&(this||be).element.innerText!==(this||be).elementHint.realInnerText&&((this||be).element.innerText=(this||be).elementHint.realInnerText,He.hideDropDown(),r((this||be).element),9===we)&&(He.element.focus(),Ae.preventDefault(),Ae.stopPropagation());else if(13===we)if(0===(this||be).elementHint.innerText.length)He.onEnter();else{var Ee="hidden"===Le.style.visibility;if(Ge.hide(),Ee)return He.hideDropDown(),He.element.focus(),void He.onEnter();(this||be).element.innerText=(this||be).elementHint.realInnerText,He.hideDropDown(),r((this||be).element),Ae.preventDefault(),Ae.stopPropagation()}else 40===we?(Ee=ke.substring((this||be).startFrom),""===(Se=Ge.move(1))&&He.onArrowDown(),(this||be).elementHint.innerText=Te+Ee+Se.substring(Ee.length),(this||be).elementHint.realInnerText=Te+Se,Ae.preventDefault(),Ae.stopPropagation()):38===we&&(Ee=ke.substring((this||be).startFrom),""===(Se=Ge.move(-1))&&He.onArrowUp(),(this||be).elementHint.innerText=Te+Ee+Se.substring(Ee.length),(this||be).elementHint.realInnerText=Te+Se,Ae.preventDefault(),Ae.stopPropagation())}}.bind(He),Oe=function(be){He.hideDropDown()},Ge.onmouseselection=function(be,Ae){Ae.element.innerText=Ae.elementHint.innerText=Te+be,Ae.hideDropDown(),window.setTimeout((function(){Ae.element.focus(),r(Ae.element)}),1)},He)),(this||be).options.history&&"view"!==(this||be).options.mode&&((this||be).history=new Ve(this||be)),this._createFrame(),this._createTable()},xe.destroy=function(){(this||be).frame&&(this||be).container&&(this||be).frame.parentNode===(this||be).container&&((this||be).container.removeChild((this||be).frame),(this||be).frame=null),(this||be).container=null,(this||be).dom=null,this.clear(),(this||be).node=null,(this||be).focusTarget=null,(this||be).selection=null,(this||be).multiselection=null,(this||be).errorNodes=null,(this||be).validateSchema=null,(this||be)._debouncedValidate=null,(this||be).history&&((this||be).history.destroy(),(this||be).history=null),(this||be).searchBox&&((this||be).searchBox.destroy(),(this||be).searchBox=null),(this||be).modeSwitcher&&((this||be).modeSwitcher.destroy(),(this||be).modeSwitcher=null),(this||be).frameFocusTracker.destroy()},xe._setOptions=function(Ae){var we=this||be;(this||be).options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,limitDragging:!1,onSelectionChange:null,colorPicker:!0,onColorPicker:function(be,Ae,we){var xe;je()?(xe=be.getBoundingClientRect().top,xe=(0,Me.getWindow)(be).innerHeight-xe<300&&300<xe,new(je())({parent:be,color:Ae,popup:xe?"top":"bottom",onDone:function(be){be=1===be.rgba[3]?be.hex.substr(0,7):be.hex;we(be)}}).show()):console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:!0,timestampFormat:null,createQuery:_e.V,executeQuery:_e.e,onEvent:null,enableSort:!0,enableTransform:!0},Ae&&(Object.keys(Ae).forEach((function(be){we.options[be]=Ae[be]})),null==Ae.limitDragging)&&null!=Ae.schema&&((this||be).options.limitDragging=!0),this.setSchema((this||be).options.schema,(this||be).options.schemaRefs),(this||be)._debouncedValidate=(0,Me.debounce)((this||be)._validateAndCatch.bind(this||be),(this||be).DEBOUNCE_INTERVAL),Ae.onSelectionChange&&this.onSelectionChange(Ae.onSelectionChange),(0,Re.AI)((this||be).options.languages),(0,Re.xC)((this||be).options.language)},xe.set=function(Ae){Ae instanceof Function||void 0===Ae?this.clear():((this||be).content.removeChild((this||be).table),Ae={field:(this||be).options.name,value:Ae},Ae=new He(this||be,Ae),this._setRoot(Ae),this._validateAndCatch(),(this||be).node.expand(!1),(this||be).content.appendChild((this||be).table)),(this||be).history&&(this||be).history.clear(),(this||be).searchBox&&(this||be).searchBox.clear()},xe.update=function(Ae){var we,xe;(this||be).node.deepEqual(Ae)||(we=this.getSelection(),(this||be).onChangeDisabled=!0,(this||be).node.update(Ae),(this||be).onChangeDisabled=!1,this._validateAndCatch(),(this||be).searchBox&&!(this||be).searchBox.isEmpty()&&(this||be).searchBox.forceSearch(),we&&we.start&&we.end&&(Ae=(this||be).node.findNodeByPath(we.start.path),xe=(this||be).node.findNodeByPath(we.end.path),Ae)&&xe?this.setSelection(we.start,we.end):this.setSelection({},{}))},xe.get=function(){if((this||be).node)return(this||be).node.getValue()},xe.getText=function(){return JSON.stringify(this.get())},xe.setText=function(be){try{this.set((0,Me.parse)(be))}catch(Ae){be=(0,Me.tryJsonRepair)(be);this.set((0,Me.parse)(be))}},xe.updateText=function(be){try{this.update((0,Me.parse)(be))}catch(Ae){be=(0,Me.tryJsonRepair)(be);this.update((0,Me.parse)(be))}},xe.setName=function(Ae){(this||be).options.name=Ae,(this||be).node&&(this||be).node.updateField((this||be).options.name)},xe.getName=function(){return(this||be).options.name},xe.focus=function(){var Ae=(this||be).scrollableContent.querySelector("[contenteditable=true]");Ae?Ae.focus():(this||be).node.dom.expand?(this||be).node.dom.expand.focus():(this||be).node.dom.menu?(this||be).node.dom.menu.focus():(Ae=(this||be).frame.querySelector("button"))&&Ae.focus()},xe.clear=function(){(this||be).node&&((this||be).node.hide(),delete(this||be).node),(this||be).treePath&&(this||be).treePath.reset()},xe._setRoot=function(Ae){this.clear(),((this||be).node=Ae).setParent(null),Ae.setField(this.getName(),!1),delete Ae.index,(this||be).tbody.appendChild(Ae.getDom())},xe.search=function(Ae){var we;return(this||be).node?((this||be).content.removeChild((this||be).table),we=(this||be).node.search(Ae),(this||be).content.appendChild((this||be).table)):we=[],we},xe.expandAll=function(){(this||be).node&&((this||be).content.removeChild((this||be).table),(this||be).node.expand(),(this||be).content.appendChild((this||be).table))},xe.collapseAll=function(){(this||be).node&&((this||be).content.removeChild((this||be).table),(this||be).node.collapse(),(this||be).content.appendChild((this||be).table))},xe.expand=function(Ae){var we;Ae&&(we=(this||be).node?(this||be).node.findNodeByPath(Ae.path):null)&&(Ae.isExpand?we.expand(Ae.recursive):we.collapse(Ae.recursive))},xe._onAction=function(Ae,we){(this||be).history&&(this||be).history.add(Ae,we),this._onChange()},xe._onChange=function(){if(!(this||be).onChangeDisabled){var Ae;if((this||be).selection=this.getDomSelection(),this._debouncedValidate(),(this||be).treePath&&((Ae=(this||be).node&&(this||be).selection?(this||be).node.findNodeByInternalPath((this||be).selection.path):(this||be).multiselection?(this||be).multiselection.nodes[0]:void 0)?this._updateTreePath(Ae.getNodePath()):(this||be).treePath.reset()),(this||be).options.onChange)try{(this||be).options.onChange()}catch(Ae){console.error("Error in onChange callback: ",Ae)}if((this||be).options.onChangeJSON)try{(this||be).options.onChangeJSON(this.get())}catch(Ae){console.error("Error in onChangeJSON callback: ",Ae)}if((this||be).options.onChangeText)try{(this||be).options.onChangeText(this.getText())}catch(Ae){console.error("Error in onChangeText callback: ",Ae)}if((this||be).options.onClassName&&(this||be).node.recursivelyUpdateCssClassesOnNodes(),(this||be).options.onNodeName&&(this||be).node.childs)try{(this||be).node.recursivelyUpdateNodeName()}catch(Ae){console.error("Error in onNodeName callback: ",Ae)}}},xe.validate=function(){var Ae=this||be,we=(this||be).node;if(we){var xe=we.getValue(),Se=[];(this||be).validateSchema&&!this.validateSchema(xe)&&(Se=(this||be).validateSchema.errors.map((function(be){return(0,Me.improveSchemaError)(be)})).map((function(be){return{node:we.findNode(be.dataPath),error:be,type:"validation"}})).filter((function(be){return null!=be.node})));try{(this||be).validationSequence++;var ke=this||be,Te=(this||be).validationSequence;return this._validateCustom(xe).then((function(be){return Te===ke.validationSequence&&(be=[].concat(Se,be||[]),ke._renderValidationErrors(be),"function"==typeof Ae.options.onValidationError&&(0,Me.isValidationErrorChanged)(be,Ae.lastSchemaErrors)&&Ae.options.onValidationError.call(Ae,be),Ae.lastSchemaErrors=be),Ae.lastSchemaErrors}))}catch(xe){return Promise.reject(xe)}}},xe._validateAndCatch=function(){this.validate().catch((function(be){console.error("Error running validation:",be)}))},xe._renderValidationErrors=function(Ae){(this||be).errorNodes&&(this||be).errorNodes.forEach((function(be){be.setError(null)}));var we=Ae.reduce((function(be,Ae){return Ae.node.findParents().filter((function(Ae){return!be.some((function(be){return be[0]===Ae}))})).map((function(be){return[be,Ae.node]})).concat(be)}),[]);(this||be).errorNodes=we.map((function(be){return{node:be[0],child:be[1],error:{message:"object"===be[0].type?(0,Re.Tl)("containsInvalidProperties"):(0,Re.Tl)("containsInvalidItems")}}})).concat(Ae).map((function(be){return be.node.setError(be.error,be.child),be.node}))},xe._validateCustom=function(Ae){try{var we,xe;if((this||be).options.onValidate)return we=(this||be).node,xe=(this||be).options.onValidate(Ae),((0,Me.isPromise)(xe)?xe:Promise.resolve(xe)).then((function(be){return Array.isArray(be)?be.filter((function(be){var Ae=(0,Me.isValidValidationError)(be);return Ae||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',be),Ae})).map((function(be){var Ae;try{Ae=be&&be.path?we.findNodeByPath(be.path):null}catch(be){}return Ae||console.warn("Ignoring validation error: node not found. Path:",be.path,"Error:",be),{node:Ae,error:be,type:"customValidation"}})).filter((function(be){return be&&be.node&&be.error&&be.error.message})):null}))}catch(Ae){return Promise.reject(Ae)}return Promise.resolve(null)},xe.refresh=function(){(this||be).node&&(this||be).node.updateDom({recurse:!0})},xe.startAutoScroll=function(Ae){var we=this||be,xe=(this||be).scrollableContent,Se=(0,Me.getAbsoluteTop)(xe),ke=xe.clientHeight,Te=Se+ke;Ae<Se+24&&0<xe.scrollTop?(this||be).autoScrollStep=(Se+24-Ae)/3:Te-24<Ae&&ke+xe.scrollTop<xe.scrollHeight?(this||be).autoScrollStep=(Te-24-Ae)/3:(this||be).autoScrollStep=void 0,(this||be).autoScrollStep?(this||be).autoScrollTimer||((this||be).autoScrollTimer=setInterval((function(){we.autoScrollStep?xe.scrollTop-=we.autoScrollStep:we.stopAutoScroll()}),50)):this.stopAutoScroll()},xe.stopAutoScroll=function(){(this||be).autoScrollTimer&&(clearTimeout((this||be).autoScrollTimer),delete(this||be).autoScrollTimer),(this||be).autoScrollStep&&delete(this||be).autoScrollStep},xe.setDomSelection=function(Ae){var we,xe,Se;Ae&&("scrollTop"in Ae&&(this||be).scrollableContent&&((this||be).scrollableContent.scrollTop=Ae.scrollTop),Ae.paths?(we=this||be,xe=Ae.paths.map((function(be){return we.node.findNodeByInternalPath(be)})),this.select(xe)):(Se=(xe=Ae.path?(this||be).node.findNodeByInternalPath(Ae.path):null)&&Ae.domName?xe.dom[Ae.domName]:null,Ae.range&&Se?(Ae=Object.assign({},Ae.range,{container:Se}),(0,Me.setSelectionOffset)(Ae)):xe&&xe.focus()))},xe.getDomSelection=function(){var Ae=He.getNodeFromTarget((this||be).focusTarget),we=(this||be).focusTarget,xe=Ae?Object.keys(Ae.dom).find((function(be){return Ae.dom[be]===we})):null,Se=(0,Me.getSelectionOffset)();return(Se=(Se=Se&&"DIV"!==Se.container.nodeName?null:Se)&&Se.container!==we?null:Se)&&delete Se.container,{path:Ae?Ae.getInternalPath():null,domName:xe,range:Se,paths:0<(this||be).multiselection.length?(this||be).multiselection.nodes.map((function(be){return be.getInternalPath()})):null,scrollTop:(this||be).scrollableContent?(this||be).scrollableContent.scrollTop:0}},xe.scrollTo=function(Ae,we){var xe,Se,ke,Te,Ee=(this||be).scrollableContent;Ee?((xe=this||be).animateTimeout&&(clearTimeout(xe.animateTimeout),delete xe.animateTimeout),xe.animateCallback&&(xe.animateCallback(!1),delete xe.animateCallback),Se=Ee.clientHeight,ke=Ee.scrollHeight-Se,Te=Math.min(Math.max(Ae-Se/4,0),ke),function e(){var be=Ee.scrollTop;be=Te-be;3<Math.abs(be)?(Ee.scrollTop+=be/3,xe.animateCallback=we,xe.animateTimeout=setTimeout(e,50)):(we&&we(!0),Ee.scrollTop=Te,delete xe.animateTimeout,delete xe.animateCallback)}()):we&&we(!1)},xe._createFrame=function(){var Ae=this||be,we=((this||be).frame=document.createElement("div"),(this||be).frame.className="jsoneditor jsoneditor-mode-"+(this||be).options.mode,(this||be).container.appendChild((this||be).frame),(this||be).contentOuter=document.createElement("div"),(this||be).contentOuter.className="jsoneditor-outer",this||be);function n(be){we._onEvent&&we._onEvent(be)}var xe,Se,ke,Ee={target:(this||be).frame,onFocus:(this||be).options.onFocus||null,onBlur:(this||be).options.onBlur||null};(this||be).frameFocusTracker=new Te.$(Ee),(this||be).frame.onclick=function(be){var Ae=be.target;n(be),"BUTTON"===Ae.nodeName&&be.preventDefault()},(this||be).frame.oninput=n,(this||be).frame.onchange=n,(this||be).frame.onkeydown=n,(this||be).frame.onkeyup=n,(this||be).frame.oncut=n,(this||be).frame.onpaste=n,(this||be).frame.onmousedown=n,(this||be).frame.onmouseup=n,(this||be).frame.onmouseover=n,(this||be).frame.onmouseout=n,(0,Me.addEventListener)((this||be).frame,"focus",n,!0),(0,Me.addEventListener)((this||be).frame,"blur",n,!0),(this||be).frame.onfocusin=n,(this||be).frame.onfocusout=n,(this||be).options.mainMenuBar&&((0,Me.addClassName)((this||be).contentOuter,"has-main-menu-bar"),(this||be).menu=document.createElement("div"),(this||be).menu.className="jsoneditor-menu",(this||be).frame.appendChild((this||be).menu),(Ee=document.createElement("button")).type="button",Ee.className="jsoneditor-expand-all",Ee.title=(0,Re.Tl)("expandAll"),Ee.onclick=function(){we.expandAll(),"function"==typeof Ae.options.onExpand&&Ae.options.onExpand({path:[],isExpand:!0,recursive:!0})},(this||be).menu.appendChild(Ee),(Ee=document.createElement("button")).type="button",Ee.title=(0,Re.Tl)("collapseAll"),Ee.className="jsoneditor-collapse-all",Ee.onclick=function(){we.collapseAll(),"function"==typeof Ae.options.onExpand&&Ae.options.onExpand({path:[],isExpand:!1,recursive:!0})},(this||be).menu.appendChild(Ee),(this||be).options.enableSort&&((Ee=document.createElement("button")).type="button",Ee.className="jsoneditor-sort",Ee.title=(0,Re.Tl)("sortTitleShort"),Ee.onclick=function(){we.node.showSortModal()},(this||be).menu.appendChild(Ee)),(this||be).options.enableTransform&&((Ee=document.createElement("button")).type="button",Ee.title=(0,Re.Tl)("transformTitleShort"),Ee.className="jsoneditor-transform",Ee.onclick=function(){we.node.showTransformModal()},(this||be).menu.appendChild(Ee)),(this||be).history&&((xe=document.createElement("button")).type="button",xe.className="jsoneditor-undo jsoneditor-separator",xe.title=(0,Re.Tl)("undo"),xe.onclick=function(){we._onUndo()},(this||be).menu.appendChild(xe),(this||be).dom.undo=xe,(Se=document.createElement("button")).type="button",Se.className="jsoneditor-redo",Se.title=(0,Re.Tl)("redo"),Se.onclick=function(){we._onRedo()},(this||be).menu.appendChild(Se),(this||be).dom.redo=Se,(this||be).history.onChange=function(){xe.disabled=!we.history.canUndo(),Se.disabled=!we.history.canRedo()},(this||be).history.onChange()),(this||be).options&&(this||be).options.modes&&(this||be).options.modes.length&&((ke=this||be).modeSwitcher=new $e.n((this||be).menu,(this||be).options.modes,(this||be).options.mode,(function(be){try{ke.setMode(be),ke.modeSwitcher.focus()}catch(be){ke._onError(be)}}))),(this||be).options.search)&&((this||be).searchBox=new Ze(this||be,(this||be).menu)),(this||be).options.navigationBar&&((this||be).navBar=document.createElement("div"),(this||be).navBar.className="jsoneditor-navigation-bar nav-bar-empty",(this||be).frame.appendChild((this||be).navBar),(this||be).treePath=new De((this||be).navBar,this.getPopupAnchor()),(this||be).treePath.onSectionSelected((this||be)._onTreePathSectionSelected.bind(this||be)),(this||be).treePath.onContextMenuItemSelected((this||be)._onTreePathMenuItemSelected.bind(this||be)))},xe._onUndo=function(){(this||be).history&&((this||be).history.undo(),this._onChange())},xe._onRedo=function(){(this||be).history&&((this||be).history.redo(),this._onChange())},xe._onEvent=function(Ae){if(!He.targetIsColorPicker(Ae.target)){var we,xe=He.getNodeFromTarget(Ae.target);if("keydown"===Ae.type&&this._onKeyDown(Ae),xe&&"focus"===Ae.type&&((this||be).focusTarget=Ae.target,(this||be).options.autocomplete)&&"focus"===(this||be).options.autocomplete.trigger&&this._showAutoComplete(Ae.target),"mousedown"===Ae.type&&this._startDragDistance(Ae),"mousemove"!==Ae.type&&"mouseup"!==Ae.type&&"click"!==Ae.type||this._updateDragDistance(Ae),xe&&(this||be).options&&(this||be).options.navigationBar&&xe&&("keydown"===Ae.type||"mousedown"===Ae.type)&&(we=this||be,setTimeout((function(){we._updateTreePath(xe.getNodePath())}))),xe&&xe.selected){if("click"===Ae.type){if(Ae.target===xe.dom.menu)return void this.showContextMenu(Ae.target);Ae.hasMoved||this.deselect()}"mousedown"===Ae.type&&He.onDragStart((this||be).multiselection.nodes,Ae)}else"mousedown"===Ae.type&&(0,Me.hasParentNode)(Ae.target,(this||be).content)&&(this.deselect(),xe&&Ae.target===xe.dom.drag?He.onDragStart(xe,Ae):xe&&(Ae.target===xe.dom.field||Ae.target===xe.dom.value||Ae.target===xe.dom.select)||this._onMultiSelectStart(Ae));xe&&xe.onEvent(Ae)}},xe._updateTreePath=function(Ae){var we;function i(be){return be.parent?"array"===be.parent.type?be.index:be.field:be.field||be.type}Ae&&Ae.length?((0,Me.removeClassName)((this||be).navBar,"nav-bar-empty"),we=[],Ae.forEach((function(be){var Ae={name:i(be),node:be,children:[]};be.childs&&be.childs.length&&be.childs.forEach((function(be){Ae.children.push({name:i(be),node:be})})),we.push(Ae)})),(this||be).treePath.setPath(we)):(0,Me.addClassName)((this||be).navBar,"nav-bar-empty")},xe._onTreePathSectionSelected=function(be){be&&be.node&&(be.node.expandTo(),be.node.focus())},xe._onTreePathMenuItemSelected=function(be,Ae){be&&be.children.length&&(be=be.children.find((function(be){return be.name===Ae})))&&be.node&&(this._updateTreePath(be.node.getNodePath()),be.node.expandTo(),be.node.focus())},xe._startDragDistance=function(Ae){(this||be).dragDistanceEvent={initialTarget:Ae.target,initialPageX:Ae.pageX,initialPageY:Ae.pageY,dragDistance:0,hasMoved:!1}},xe._updateDragDistance=function(Ae){(this||be).dragDistanceEvent||this._startDragDistance(Ae);var we=Ae.pageX-(this||be).dragDistanceEvent.initialPageX,xe=Ae.pageY-(this||be).dragDistanceEvent.initialPageY;return(this||be).dragDistanceEvent.dragDistance=Math.sqrt(we*we+xe*xe),(this||be).dragDistanceEvent.hasMoved=(this||be).dragDistanceEvent.hasMoved||10<(this||be).dragDistanceEvent.dragDistance,Ae.dragDistance=(this||be).dragDistanceEvent.dragDistance,Ae.hasMoved=(this||be).dragDistanceEvent.hasMoved,Ae.dragDistance},xe._onMultiSelectStart=function(Ae){var we,xe=He.getNodeFromTarget(Ae.target);"tree"===(this||be).options.mode&&void 0===(this||be).options.onEditable&&((this||be).multiselection={start:xe||null,end:null,nodes:[]},this._startDragDistance(Ae),(we=this||be).mousemove||((this||be).mousemove=(0,Me.addEventListener)(Ae.view,"mousemove",(function(be){we._onMultiSelect(be)}))),(this||be).mouseup||((this||be).mouseup=(0,Me.addEventListener)(Ae.view,"mouseup",(function(be){we._onMultiSelectEnd(be)}))),Ae.preventDefault())},xe._onMultiSelect=function(Ae){var we;Ae.preventDefault(),this._updateDragDistance(Ae),Ae.hasMoved&&((Ae=He.getNodeFromTarget(Ae.target))&&(null==(this||be).multiselection.start&&((this||be).multiselection.start=Ae),(this||be).multiselection.end=Ae),this.deselect(),Ae=(this||be).multiselection.start,we=(this||be).multiselection.end||(this||be).multiselection.start,Ae)&&we&&((this||be).multiselection.nodes=this._findTopLevelNodes(Ae,we),(this||be).multiselection.nodes&&(this||be).multiselection.nodes.length&&(Ae=(this||be).multiselection.nodes[0],(this||be).multiselection.start===Ae||(this||be).multiselection.start.isDescendantOf(Ae)?(this||be).multiselection.direction="down":(this||be).multiselection.direction="up"),this.select((this||be).multiselection.nodes))},xe._onMultiSelectEnd=function(Ae){var we=(this||be).multiselection.nodes[0];we&&we.dom.menu&&we.dom.menu.focus(),(this||be).multiselection.start=null,(this||be).multiselection.end=null,(this||be).mousemove&&((0,Me.removeEventListener)(Ae.view,"mousemove",(this||be).mousemove),delete(this||be).mousemove),(this||be).mouseup&&((0,Me.removeEventListener)(Ae.view,"mouseup",(this||be).mouseup),delete(this||be).mouseup)},xe.deselect=function(Ae){var we=!!(this||be).multiselection.nodes.length;(this||be).multiselection.nodes.forEach((function(be){be.setSelected(!1)})),(this||be).multiselection.nodes=[],Ae&&((this||be).multiselection.start=null,(this||be).multiselection.end=null),we&&(this||be)._selectionChangedHandler&&this._selectionChangedHandler()},xe.select=function(Ae){if(!Array.isArray(Ae))return this.select([Ae]);var we;Ae&&(this.deselect(),(this||be).multiselection.nodes=Ae.slice(0),we=Ae[0],Ae.forEach((function(be){be.expandPathToNode(),be.setSelected(!0,be===we)})),(this||be)._selectionChangedHandler)&&(Ae=this.getSelection(),this._selectionChangedHandler(Ae.start,Ae.end))},xe._findTopLevelNodes=function(be,Ae){for(var we=be.getNodePath(),xe=Ae.getNodePath(),Se=0;Se<we.length&&we[Se]===xe[Se];)Se++;be=we[Se-1],Ae=we[Se];var ke,Te=xe[Se];return Ae&&Te||(be.parent?be=(Te=Ae=be).parent:(Ae=be.childs[0],Te=be.childs[be.childs.length-1])),be&&Ae&&Te?(Ae=be.childs.indexOf(Ae),Te=be.childs.indexOf(Te),ke=Math.min(Ae,Te),Ae=Math.max(Ae,Te),be.childs.slice(ke,Ae+1)):[]},xe._showAutoComplete=function(Ae){var we,xe=He.getNodeFromTarget(Ae),Se="";0<=Ae.className.indexOf("jsoneditor-value")&&(Se="value"),""!==(Se=0<=Ae.className.indexOf("jsoneditor-field")?"field":Se)&&(we=this||be,setTimeout((function(){var be;xe&&("focus"===we.options.autocomplete.trigger||0<Ae.innerText.length)&&null!==(be=we.options.autocomplete.getOptions(Ae.innerText,xe.getPath(),Se,xe.editor))?"function"==typeof be.then?be.then((function(be){null===be?we.autocomplete.hideDropDown():be.options?we.autocomplete.show(Ae,be.startFrom,be.options):we.autocomplete.show(Ae,0,be)})).catch((function(be){console.error(be)})):be.options?we.autocomplete.show(Ae,be.startFrom,be.options):we.autocomplete.show(Ae,0,be):we.autocomplete.hideDropDown()}),50))},xe._onKeyDown=function(Ae){var we,xe=Ae.which||Ae.keyCode,Se=Ae.altKey,ke=Ae.ctrlKey,Te=Ae.metaKey,Ee=Ae.shiftKey,Re=!1,_e=(this||be).focusTarget;9===xe&&(we=this||be,setTimeout((function(){we.focusTarget!==_e&&(0,Me.selectContentEditable)(we.focusTarget)}),0)),(this||be).searchBox&&(ke&&70===xe?((this||be).searchBox.dom.search.focus(),(this||be).searchBox.dom.search.select(),Re=!0):(114===xe||ke&&71===xe)&&(Ee?(this||be).searchBox.previous(!0):(this||be).searchBox.next(!0),Re=!0)),(this||be).history&&(ke&&!Ee&&90===xe?(this._onUndo(),Re=!0):ke&&Ee&&90===xe&&(this._onRedo(),Re=!0)),!(this||be).options.autocomplete||Re||ke||Se||Te||1!==Ae.key.length&&8!==xe&&46!==xe||(Re=!1,this._showAutoComplete(Ae.target)),Re&&(Ae.preventDefault(),Ae.stopPropagation())},xe._createTable=function(){var Ae;(this||be).options.navigationBar&&(0,Me.addClassName)((this||be).contentOuter,"has-nav-bar"),(this||be).scrollableContent=document.createElement("div"),(this||be).scrollableContent.className="jsoneditor-tree",(this||be).contentOuter.appendChild((this||be).scrollableContent),(this||be).content=document.createElement("div"),(this||be).content.className="jsoneditor-tree-inner",(this||be).scrollableContent.appendChild((this||be).content),(this||be).table=document.createElement("table"),(this||be).table.className="jsoneditor-tree",(this||be).content.appendChild((this||be).table),(this||be).colgroupContent=document.createElement("colgroup"),"tree"===(this||be).options.mode&&((Ae=document.createElement("col")).width="24px",(this||be).colgroupContent.appendChild(Ae)),(Ae=document.createElement("col")).width="24px",(this||be).colgroupContent.appendChild(Ae),Ae=document.createElement("col"),(this||be).colgroupContent.appendChild(Ae),(this||be).table.appendChild((this||be).colgroupContent),(this||be).tbody=document.createElement("tbody"),(this||be).table.appendChild((this||be).tbody),(this||be).frame.appendChild((this||be).contentOuter)},xe.showContextMenu=function(Ae,we){var xe,Se=[],Te=(this||be).multiselection.nodes.slice();Se.push({text:(0,Re.Tl)("duplicateText"),title:(0,Re.Tl)("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){He.onDuplicate(Te)}}),Se.push({text:(0,Re.Tl)("remove"),title:(0,Re.Tl)("removeTitle"),className:"jsoneditor-remove",click:function(){He.onRemove(Te)}}),(this||be).options.onCreateMenu&&(xe=Te.map((function(be){return be.getPath()})),Se=(this||be).options.onCreateMenu(Se,{type:"multiple",path:xe[0],paths:xe})),new ke.t(Se,{close:we}).show(Ae,this.getPopupAnchor())},xe.getPopupAnchor=function(){return(this||be).options.popupAnchor||(this||be).frame},xe.getSelection=function(){var Ae,we,xe={start:null,end:null};return(this||be).multiselection.nodes&&(this||be).multiselection.nodes.length&&(this||be).multiselection.nodes.length&&(Ae=(this||be).multiselection.nodes[0],we=(this||be).multiselection.nodes[(this||be).multiselection.nodes.length-1],"down"===(this||be).multiselection.direction?(xe.start=Ae.serialize(),xe.end=we.serialize()):(xe.start=we.serialize(),xe.end=Ae.serialize())),xe},xe.onSelectionChange=function(Ae){"function"==typeof Ae&&((this||be)._selectionChangedHandler=(0,Me.debounce)(Ae,(this||be).DEBOUNCE_INTERVAL))},xe.setSelection=function(be,Ae){be&&be.dom&&be.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(be));be=this._getNodeInstancesByRange(be,Ae);be.forEach((function(be){be.expandTo()})),this.select(be)},xe._getNodeInstancesByRange=function(Ae,we){Ae&&Ae.path&&(xe=(this||be).node.findNodeByPath(Ae.path),we)&&we.path&&(Se=(this||be).node.findNodeByPath(we.path));var xe,Se,ke=[];if(xe instanceof He)if(Se instanceof He&&Se!==xe)if(xe.parent===Se.parent){we=xe.getIndex()<Se.getIndex()?(Ae=xe,Se):(Ae=Se,xe);var Te=Ae;for(ke.push(Te);Te=Te.nextSibling(),ke.push(Te),Te&&Te!==we;);}else ke=this._findTopLevelNodes(xe,Se);else ke.push(xe);return ke},xe.getNodesByRange=function(be,Ae){be=this._getNodeInstancesByRange(be,Ae);var we=[];return be.forEach((function(be){we.push(be.serialize())})),we},[{mode:"tree",mixin:xe,data:"json"},{mode:"view",mixin:xe,data:"json"},{mode:"form",mixin:xe,data:"json"}])},2870:function(be,Ae,we){Ae.tryRequireAjv=function(){try{return we(2229)}catch(be){}}},5467:function(be,Ae,we){Ae.J=function(){try{we(9762)}catch(be){console.error(be)}}},6237:function(Ae,we,xe){xe.r(we),xe.d(we,{addClassName:function(){return G},addEventListener:function(){return X},asyncExec:function(){return Ie},clear:function(){return C},compileJSONPointer:function(){return _},contains:function(){return Ce},debounce:function(){return ne},escapeUnicodeChars:function(){return p},extend:function(){return f},findUniqueName:function(){return ce},formatSize:function(){return me},get:function(){return N},getAbsoluteLeft:function(){return P},getAbsoluteTop:function(){return H},getChildPaths:function(){return he},getColorCSS:function(){return L},getIndexForPosition:function(){return re},getInnerText:function(){return k},getInputSelection:function(){return oe},getInternetExplorerVersion:function(){return z},getPositionForPath:function(){return se},getSelection:function(){return S},getSelectionOffset:function(){return D},getType:function(){return y},getWindow:function(){return A},hasParentNode:function(){return K},improveSchemaError:function(){return Q},insideRect:function(){return te},isArray:function(){return b},isChildOf:function(){return J},isFirefox:function(){return R},isObject:function(){return M},isPromise:function(){return q},isTimestamp:function(){return pe},isUrl:function(){return I},isValidColor:function(){return ae},isValidValidationError:function(){return ee},isValidationErrorChanged:function(){return ye},limitCharacters:function(){return fe},makeFieldTooltip:function(){return le},parse:function(){return u},parsePath:function(){return $},parseString:function(){return ge},removeAllClassNames:function(){return F},removeClassName:function(){return O},removeEventListener:function(){return Y},removeReturnsAndSurroundingWhitespace:function(){return T},selectContentEditable:function(){return Z},setEndOfContentEditable:function(){return V},setSelection:function(){return x},setSelectionOffset:function(){return j},sort:function(){return de},sortObjectKeys:function(){return ue},stringifyPath:function(){return U},stripFormatting:function(){return w},textDiff:function(){return ie},tryJsonRepair:function(){return g},uniqueMergeArrays:function(){return ve},validate:function(){return m}});xe(1081);we=xe(1342);var Se=xe.n(we),ke=xe(9857),Te=xe(5736),Ee=xe(3094),Re=xe(3057);function a(be){return function(be){if(Array.isArray(be))return l(be)}(be)||function(be){if("undefined"!=typeof Symbol&&null!=be[Symbol.iterator]||null!=be["@@iterator"])return Array.from(be)}(be)||function(be,Ae){var we;if(be)return"string"==typeof be?l(be,Ae):"Map"===(we="Object"===(we=Object.prototype.toString.call(be).slice(8,-1))&&be.constructor?be.constructor.name:we)||"Set"===we?Array.from(be):"Arguments"===we||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we)?l(be,Ae):void 0}(be)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(be,Ae){(null==Ae||Ae>be.length)&&(Ae=be.length);for(var we=0,xe=new Array(Ae);we<Ae;we++)xe[we]=be[we];return xe}function c(be){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(be)}var _e=1e4,$e=9466848e5;function u(be){try{return JSON.parse(be)}catch(Ae){throw m(be),Ae}}function g(be){try{return(0,ke.m)(be)}catch(Ae){return be}}function p(be){return be.replace(/[\u007F-\uFFFF]/g,(function(be){return"\\u"+("0000"+be.charCodeAt(0).toString(16)).slice(-4)}))}function m(be){(void 0!==Te?Te:JSON).parse(be)}function f(be,Ae){for(var we in Ae)B(Ae,we)&&(be[we]=Ae[we]);return be}function C(be){for(var Ae in be)B(be,Ae)&&delete be[Ae];return be}function y(be){return null===be?"null":void 0===be?"undefined":be instanceof Number||"number"==typeof be?"number":be instanceof String||"string"==typeof be?"string":be instanceof Boolean||"boolean"==typeof be?"boolean":be instanceof RegExp?"regexp":b(be)?"array":"object"}var Le=/^https?:\/\/\S+$/;function I(be){return("string"==typeof be||be instanceof String)&&Le.test(be)}function b(be){return"[object Array]"===Object.prototype.toString.call(be)}function A(be){return be.ownerDocument.defaultView}function P(be){return be.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0}function H(be){return be.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0}function G(be,Ae){var we=be.className.split(" ");-1===we.indexOf(Ae)&&(we.push(Ae),be.className=we.join(" "))}function F(be){be.className=""}function O(be,Ae){var we=be.className.split(" ");Ae=we.indexOf(Ae);-1!==Ae&&(we.splice(Ae,1),be.className=we.join(" "))}function w(be){for(var Ae=be.childNodes,we=0,xe=Ae.length;we<xe;we++){var Se=Ae[we],ke=(Se.style&&Se.removeAttribute("style"),Se.attributes);if(ke)for(var Te=ke.length-1;0<=Te;Te--){var Ee=ke[Te];!0===Ee.specified&&Se.removeAttribute(Ee.name)}w(Se)}}function V(be){var Ae;document.createRange&&((Ae=document.createRange()).selectNodeContents(be),Ae.collapse(!1),(be=window.getSelection()).removeAllRanges(),be.addRange(Ae))}function Z(be){var Ae;be&&"DIV"===be.nodeName&&window.getSelection&&document.createRange&&((Ae=document.createRange()).selectNodeContents(be),(be=window.getSelection()).removeAllRanges(),be.addRange(Ae))}function S(){if(window.getSelection){var be=window.getSelection();if(be.getRangeAt&&be.rangeCount)return be.getRangeAt(0)}return null}function x(be){var Ae;be&&window.getSelection&&((Ae=window.getSelection()).removeAllRanges(),Ae.addRange(be))}function D(){var be=S();return be&&"startOffset"in be&&"endOffset"in be&&be.startContainer&&be.startContainer===be.endContainer?{startOffset:be.startOffset,endOffset:be.endOffset,container:be.startContainer.parentNode}:null}function j(be){var Ae;document.createRange&&window.getSelection&&window.getSelection()&&(Ae=document.createRange(),be.container.firstChild||be.container.appendChild(document.createTextNode("")),Ae.setStart(be.container.firstChild,be.startOffset),Ae.setEnd(be.container.firstChild,be.endOffset),x(Ae))}function k(Ae,we){var xe;if(void 0===we&&(we={_text:"",flush:function(){var Ae=(this||be)._text;return(this||be)._text="",Ae},set:function(Ae){(this||be)._text=Ae}}),Ae.nodeValue)return""!==(xe=T(Ae.nodeValue))?we.flush()+xe:"";if(Ae.hasChildNodes()){for(var Se=Ae.childNodes,ke="",Te=0,Ee=Se.length;Te<Ee;Te++){var Re,_e=Se[Te];"DIV"===_e.nodeName||"P"===_e.nodeName?((Re=(Re=Se[Te-1])?Re.nodeName:void 0)&&"DIV"!==Re&&"P"!==Re&&"BR"!==Re&&(""!==ke&&(ke+="\n"),we.flush()),ke+=k(_e,we),we.set("\n")):"BR"===_e.nodeName?(ke+=we.flush(),we.set("\n")):ke+=k(_e,we)}return ke}return""}function T(be){return be.replace(/(\b|^)\s*(\b|$)/g,(function(be){return/\n/.exec(be)?"":be}))}function K(be,Ae){for(var we=be?be.parentNode:void 0;we;){if(we===Ae)return!0;we=we.parentNode}return!1}function z(){var be;return-1===Ne&&(be=-1,"undefined"!=typeof navigator&&"Microsoft Internet Explorer"===navigator.appName&&null!=/MSIE ([0-9]+[.0-9]+)/.exec(navigator.userAgent)&&(be=parseFloat(RegExp.$1)),Ne=be),Ne}var Ne=-1;function R(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")}function X(be,Ae,we,xe){return be.addEventListener?(void 0===xe&&(xe=!1),"mousewheel"===Ae&&R()&&(Ae="DOMMouseScroll"),be.addEventListener(Ae,we,xe),we):be.attachEvent?(be.attachEvent("on"+Ae,xe=function(){return we.call(be,window.event)}),xe):void 0}function Y(be,Ae,we,xe){be.removeEventListener?(void 0===xe&&(xe=!1),"mousewheel"===Ae&&R()&&(Ae="DOMMouseScroll"),be.removeEventListener(Ae,we,xe)):be.detachEvent&&be.detachEvent("on"+Ae,we)}function J(be,Ae){for(var we=be.parentNode;we;){if(we===Ae)return!0;we=we.parentNode}return!1}function $(be){var Ae=[],we=0;function t(Ae){for(var xe="";void 0!==be[we]&&be[we]!==Ae;)xe+=be[we],we++;if(be[we]!==Ae)throw new Error("Invalid JSON path: unexpected end, character "+Ae+" expected");return xe}for(;void 0!==be[we];)if("."===be[we])we++,Ae.push(function(){for(var Ae="";void 0!==be[we]&&/[\w$]/.test(be[we]);)Ae+=be[we],we++;if(""===Ae)throw new Error("Invalid JSON path: property name expected at index "+we);return Ae}());else{if("["!==be[we])throw new Error('Invalid JSON path: unexpected character "'+be[we]+'" at index '+we);if("'"===be[++we]||'"'===be[we]){var xe=be[we];if(we++,Ae.push(t(xe)),be[we]!==xe)throw new Error("Invalid JSON path: closing quote ' expected at index "+we);we++}else{xe=t("]").trim();if(0===xe.length)throw new Error("Invalid JSON path: array value expected at index "+we);xe="*"===xe?xe:JSON.parse(xe),Ae.push(xe)}if("]"!==be[we])throw new Error("Invalid JSON path: closing bracket ] expected at index "+we);we++}return Ae}function U(be){return be.map((function(be){return"number"==typeof be?"["+be+"]":"string"==typeof be&&be.match(/^[A-Za-z0-9_$]+$/)?"."+be:'["'+be+'"]'})).join("")}function Q(be){var Ae,we;return"enum"===be.keyword&&Array.isArray(be.schema)&&(we=be.schema)&&(5<(we=we.map((function(be){return JSON.stringify(be)}))).length&&(Ae=["("+(we.length-5)+" more...)"],(we=we.slice(0,5)).push(Ae)),be.message="should be equal to one of: "+we.join(", ")),"additionalProperties"===be.keyword&&(be.message="should NOT have additional property: "+be.params.additionalProperty),be}function q(be){return be&&"function"==typeof be.then&&"function"==typeof be.catch}function ee(be){return"object"===c(be)&&Array.isArray(be.path)&&"string"==typeof be.message}function te(be,Ae,we){we=void 0!==we?we:0;return Ae.left-we>=be.left&&Ae.right+we<=be.right&&Ae.top-we>=be.top&&Ae.bottom+we<=be.bottom}function ne(Ae,we,xe){var Se;return function(){var ke=this||be,Te=arguments,Ee=xe&&!Se;clearTimeout(Se),Se=setTimeout((function(){Se=null,xe||Ae.apply(ke,Te)}),we),Ee&&Ae.apply(ke,Te)}}function ie(be,Ae){for(var we=Ae.length,xe=0,Se=be.length,ke=Ae.length;Ae.charAt(xe)===be.charAt(xe)&&xe<we;)xe++;for(;Ae.charAt(ke-1)===be.charAt(Se-1)&&xe<ke&&0<Se;)ke--,Se--;return{start:xe,end:ke}}function oe(be){var Ae,we,xe,Se,ke=0,Te=0;return"number"==typeof be.selectionStart&&"number"==typeof be.selectionEnd?(ke=be.selectionStart,Te=be.selectionEnd):(Se=document.selection.createRange())&&Se.parentElement()===be&&(xe=be.value.length,Ae=be.value.replace(/\r\n/g,"\n"),(we=be.createTextRange()).moveToBookmark(Se.getBookmark()),(Se=be.createTextRange()).collapse(!1),-1<we.compareEndPoints("StartToEnd",Se)?ke=Te=xe:(ke=-we.moveStart("character",-xe),ke+=Ae.slice(0,ke).split("\n").length-1,-1<we.compareEndPoints("EndToEnd",Se)?Te=xe:(Te=-we.moveEnd("character",-xe),Te+=Ae.slice(0,Te).split("\n").length-1))),{startIndex:ke,endIndex:Te,start:a(ke),end:a(Te)};function a(Ae){Ae=be.value.substring(0,Ae);return{row:(Ae.match(/\n/g)||[]).length+1,column:Ae.length-Ae.lastIndexOf("\n")}}}function re(be,Ae,we){be=be.value||"";return 0<Ae&&0<we?(be=be.split("\n",Ae),Ae=Math.min(be.length,Ae),we=Math.min(be[Ae-1].length,we-1),we=1===Ae?we:we+1,be.slice(0,Ae-1).join("\n").length+we):-1}function se(be,Ae){var we,xe=[];if(Ae&&Ae.length){try{we=Ee.parse(be)}catch(be){return xe}Ae.forEach((function(be){var Ae=_($(be));Ae=we.pointers[Ae];Ae&&xe.push({path:be,line:Ae.key?Ae.key.line:Ae.value?Ae.value.line:0,column:Ae.key?Ae.key.column:Ae.value?Ae.value.column:0})}))}return xe}function _(be){return be.map((function(be){return"/"+String(be).replace(/~/g,"~0").replace(/\//g,"~1")})).join("")}function L(be){var Ae=document.createElement("div");return Ae.style.color=be,Ae.style.color.split(/\s+/).join("").toLowerCase()||null}function ae(be){return!!L(be)}function le(be,Ae){var we;return be?(we="",be.title&&(we+=be.title),be.description&&(0<we.length&&(we+="\n"),we+=be.description),be.default&&(0<we.length&&(we+="\n\n"),we=(we+=(0,Re.Tl)("default",void 0,Ae)+"\n")+JSON.stringify(be.default,null,2)),Array.isArray(be.examples)&&0<be.examples.length&&(0<we.length&&(we+="\n\n"),we+=(0,Re.Tl)("examples",void 0,Ae)+"\n",be.examples.forEach((function(Ae,xe){we+=JSON.stringify(Ae,null,2),xe!==be.examples.length-1&&(we+="\n")}))),we):""}function N(be,Ae){for(var we=be,xe=0;xe<Ae.length&&null!=we;xe++)we=we[Ae[xe]];return we}function ce(be,Ae){for(var we=be.replace(/ \(copy( \d+)?\)$/,""),xe=we,Se=1;-1!==Ae.indexOf(xe);){xe=we+" (copy"+(1<Se?" "+Se:"")+")";Se++}return xe}function he(be,Ae){var we={};if(Array.isArray(be))for(var xe=Math.min(be.length,_e),Se=0;Se<xe;Se++)!function t(be,Ae,we,xe){(Array.isArray(be)||M(be))&&!xe||(Ae[we||""]=!0),M(be)&&Object.keys(be).forEach((function(Se){t(be[Se],Ae,we+"."+Se,xe)}))}(be[Se],we,"",Ae);else we[""]=!0;return Object.keys(we).sort()}function de(be,Ae,we){var xe=Ae&&"."!==Ae?$(Ae):[],Se="desc"===we?-1:1;Ae=be.slice();return Ae.sort((function(be,Ae){be=N(be,xe),Ae=N(Ae,xe);return Se*(Ae<be?1:be<Ae?-1:0)})),Ae}function ue(be,Ae){var we="desc"===Ae?-1:1,xe=(Ae=Object.keys(be).sort((function(be,Ae){return we*Se()(be,Ae)})),{});return Ae.forEach((function(Ae){xe[Ae]=be[Ae]})),xe}function ge(be){var Ae,we;return""===be?"":"null"===(Ae=be.toLowerCase())?null:"true"===Ae||"false"!==Ae&&(/^0\d+$/.test(be)||(Ae=Number(be),we=parseFloat(be),isNaN(Ae))||isNaN(we)?be:Ae)}function pe(be,Ae){return"number"==typeof Ae&&$e<Ae&&isFinite(Ae)&&Math.floor(Ae)===Ae&&!isNaN(new Date(Ae).valueOf())}function me(be){return be<900?be.toFixed()+" B":(be/=1e3)<900?be.toFixed(1)+" KB":(be/=1e3)<900?be.toFixed(1)+" MB":(be/=1e3)<900?be.toFixed(1)+" GB":(be/1e3).toFixed(1)+" TB"}function fe(be,Ae){return be.length<=Ae?be:be.slice(0,Ae)+"..."}function M(be){return"object"===c(be)&&null!==be&&!Array.isArray(be)}function Ce(be,Ae){return-1!==be.indexOf(Ae)}function ye(be,Ae){if(Ae||be){if(Ae&&!be||!Ae&&be)return!0;if(Ae.length!==be.length)return!0;for(var we,xe=0;xe<be.length;++xe)if(we=function(we){var xe="error"===be[we].type?Ae.find((function(Ae){return Ae.line===be[we].line})):Ae.find((function(Ae){return Ae.dataPath===be[we].dataPath&&Ae.schemaPath===be[we].schemaPath}));if(!xe)return{v:!0}}(xe))return we.v}return!1}function ve(be,Ae){be=null!=be&&be.length?be:[],Ae=null!=Ae&&Ae.length?Ae:[];return a(new Set(be.concat(Ae)))}function Ie(be){setTimeout(be)}function B(be,Ae){return Object.prototype.hasOwnProperty.call(be,Ae)}},1746:function(be,Ae,we){var xe;if(window.Picker)xe=window.Picker;else try{xe=we(7598)}catch(be){}be.exports=xe},6990:function(Ae,we,xe){function l(be,Ae){var we,xe;return Ae=$e(be,Ae),(be=Ee.modules[Ae])||("function"==typeof(be=Ee.payloads[Ae])&&(we={id:Ae,uri:"",exports:xe={},packaged:!0},xe=be((function(be,we){return Re(Ae,be,we)}),xe,we)||we.exports,Ee.modules[Ae]=xe,delete Ee.payloads[Ae]),be=Ee.modules[Ae]=xe||be),be}var Se,ke,Te,Ee,Re,_e,$e;Ae=xe.nmd(Ae),(Te=function(){return this||be}())||"undefined"==typeof window||(Te=window),(Ee=function(Ae,we,xe){"string"!=typeof Ae?Ee.original?Ee.original.apply(this||be,arguments):(console.error("dropping module because define wasn't a string."),console.trace()):(2==arguments.length&&(xe=we),Ee.modules[Ae]||(Ee.payloads[Ae]=xe,Ee.modules[Ae]=null))}).modules={},Ee.payloads={},Re=function(be,Ae,we){if("string"==typeof Ae){var xe=l(be,Ae);if(null!=xe)return we&&we(),xe}else if("[object Array]"===Object.prototype.toString.call(Ae)){for(var Se=[],ke=0,Te=Ae.length;ke<Te;++ke){var Ee=l(be,Ae[ke]);if(null==Ee&&_e.original)return;Se.push(Ee)}return we&&we.apply(null,Se)||!0}},_e=function(Ae,we){var xe=Re("",Ae,we);return null==xe&&_e.original?_e.original.apply(this||be,arguments):xe},$e=function(be,Ae){var we;if(-1!==Ae.indexOf("!"))return we=Ae.split("!"),$e(be,we[0])+"!"+$e(be,we[1]);if("."==Ae.charAt(0))for(Ae=be.split("/").slice(0,-1).join("/")+"/"+Ae;-1!==Ae.indexOf(".")&&xe!=Ae;){var xe=Ae;Ae=Ae.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return Ae},ke=Te,(Se="ace")&&(Te[Se]||(Te[Se]={}),ke=Te[Se]),ke.define&&ke.define.packaged||(Ee.original=ke.define,ke.define=Ee,ke.define.packaged=!0),ke.require&&ke.require.packaged||(_e.original=ke.require,ke.require=_e,ke.require.packaged=!0),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(Ae,we,xe){function i(be,Ae,we){Object.defineProperty(be,Ae,{value:we,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||i(String.prototype,"startsWith",(function(be,Ae){return this.lastIndexOf(be,Ae=Ae||0)===Ae})),String.prototype.endsWith||i(String.prototype,"endsWith",(function(Ae,we){(void 0===we||we>(this||be).length)&&(we=(this||be).length),we-=Ae.length;Ae=this.indexOf(Ae,we);return-1!==Ae&&Ae===we})),String.prototype.repeat||i(String.prototype,"repeat",(function(Ae){for(var we="",xe=this||be;0<Ae;)1&Ae&&(we+=xe),(Ae>>=1)&&(xe+=xe);return we})),String.prototype.includes||i(String.prototype,"includes",(function(be,Ae){return-1!=this.indexOf(be,Ae)})),Object.assign||(Object.assign=function(be){if(null==be)throw new TypeError("Cannot convert undefined or null to object");for(var Ae=Object(be),we=1;we<arguments.length;we++){var xe=arguments[we];null!=xe&&Object.keys(xe).forEach((function(be){Ae[be]=xe[be]}))}return Ae}),Object.values||(Object.values=function(be){return Object.keys(be).map((function(Ae){return be[Ae]}))}),Array.prototype.find||i(Array.prototype,"find",(function(Ae){for(var we=(this||be).length,xe=arguments[1],Se=0;Se<we;Se++){var ke=(this||be)[Se];if(Ae.call(xe,ke,Se,this||be))return ke}})),Array.prototype.findIndex||i(Array.prototype,"findIndex",(function(Ae){for(var we=(this||be).length,xe=arguments[1],Se=0;Se<we;Se++){var ke=(this||be)[Se];if(Ae.call(xe,ke,Se,this||be))return Se}})),Array.prototype.includes||i(Array.prototype,"includes",(function(be,Ae){return-1!=this.indexOf(be,Ae)})),Array.prototype.fill||i(Array.prototype,"fill",(function(Ae){for(var we=(this||be).length>>>0,xe=arguments[1]>>0,Se=xe<0?Math.max(we+xe,0):Math.min(xe,we),ke=(xe=arguments[2],xe=void 0===xe?we:xe>>0,xe<0?Math.max(we+xe,0):Math.min(xe,we));Se<ke;)(this||be)[Se]=Ae,Se++;return this||be})),Array.of||i(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(be,Ae,we){be("./es6-shim")})),ace.define("ace/lib/deep_copy",["require","exports","module"],(function(be,Ae,we){Ae.deepCopy=function e(be){if("object"!=typeof be||!be)return be;if(Array.isArray(be))for(var Ae=[],we=0;we<be.length;we++)Ae[we]=e(be[we]);else{if("[object Object]"!==Object.prototype.toString.call(be))return be;for(var we in Ae={},be)Ae[we]=e(be[we])}return Ae}})),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],(function(be,Ae,we){Ae.last=function(be){return be[be.length-1]},Ae.stringReverse=function(be){return be.split("").reverse().join("")},Ae.stringRepeat=function(be,Ae){for(var we="";0<Ae;)1&Ae&&(we+=be),(Ae>>=1)&&(be+=be);return we};var xe=/^\s\s*/,Se=/\s\s*$/;Ae.stringTrimLeft=function(be){return be.replace(xe,"")},Ae.stringTrimRight=function(be){return be.replace(Se,"")},Ae.copyObject=function(be){var Ae,we={};for(Ae in be)we[Ae]=be[Ae];return we},Ae.copyArray=function(be){for(var Ae=[],we=0,xe=be.length;we<xe;we++)be[we]&&"object"==typeof be[we]?Ae[we]=this.copyObject(be[we]):Ae[we]=be[we];return Ae},Ae.deepCopy=be("./deep_copy").deepCopy,Ae.arrayToMap=function(be){for(var Ae={},we=0;we<be.length;we++)Ae[be[we]]=1;return Ae},Ae.createMap=function(be){var Ae,we=Object.create(null);for(Ae in be)we[Ae]=be[Ae];return we},Ae.arrayRemove=function(be,Ae){for(var we=0;we<=be.length;we++)Ae===be[we]&&be.splice(we,1)},Ae.escapeRegExp=function(be){return be.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},Ae.escapeHTML=function(be){return(""+be).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},Ae.getMatchOffsets=function(be,Ae){var we=[];return be.replace(Ae,(function(be){we.push({offset:arguments[arguments.length-2],length:be.length})})),we},Ae.deferredCall=function(be){function t(){Ae=null,be()}function n(be){return n.cancel(),Ae=setTimeout(t,be||0),n}var Ae=null;return(n.schedule=n).call=function(){return this.cancel(),be(),n},n.cancel=function(){return clearTimeout(Ae),Ae=null,n},n.isPending=function(){return Ae},n},Ae.delayedCall=function(be,Ae){function n(){we=null,be()}function i(be){null==we&&(we=setTimeout(n,be||Ae))}var we=null;return i.delay=function(be){we&&clearTimeout(we),we=setTimeout(n,be||Ae)},(i.schedule=i).call=function(){this.cancel(),be()},i.cancel=function(){we&&clearTimeout(we),we=null},i.isPending=function(){return we},i},Ae.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(be){return!1}return!0},Ae.skipEmptyMatch=function(be,Ae,we){return we&&65535<be.codePointAt(Ae)?2:1}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(be,Ae,we){Ae.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},Ae.getOS=function(){return Ae.isMac?Ae.OS.MAC:Ae.isLinux?Ae.OS.LINUX:Ae.OS.WINDOWS};var xe="object"==typeof navigator?navigator:{},Se=(/mac|win|linux/i.exec(xe.platform)||["other"])[0].toLowerCase(),ke=xe.userAgent||"";xe=xe.appName||"";Ae.isWin="win"==Se,Ae.isMac="mac"==Se,Ae.isLinux="linux"==Se,Ae.isIE="Microsoft Internet Explorer"==xe||0<=xe.indexOf("MSAppHost")?parseFloat((ke.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((ke.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),Ae.isOldIE=Ae.isIE&&Ae.isIE<9,Ae.isGecko=Ae.isMozilla=ke.match(/ Gecko\/\d+/),Ae.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),Ae.isWebKit=parseFloat(ke.split("WebKit/")[1])||void 0,Ae.isChrome=parseFloat(ke.split(" Chrome/")[1])||void 0,Ae.isSafari=parseFloat(ke.split(" Safari/")[1])&&!Ae.isChrome||void 0,Ae.isEdge=parseFloat(ke.split(" Edge/")[1])||void 0,Ae.isAIR=0<=ke.indexOf("AdobeAIR"),Ae.isAndroid=0<=ke.indexOf("Android"),Ae.isChromeOS=0<=ke.indexOf(" CrOS "),Ae.isIOS=/iPad|iPhone|iPod/.test(ke)&&!window.MSStream,Ae.isIOS&&(Ae.isMac=!0),Ae.isMobile=Ae.isIOS||Ae.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(be,Ae,we){be=be("./useragent");var xe,Se,ke=(Ae.buildDom=function e(be,Ae,we){if("string"==typeof be&&be)return Re=document.createTextNode(be),Ae&&Ae.appendChild(Re),Re;if(!Array.isArray(be))return be&&be.appendChild&&Ae&&Ae.appendChild(be),be;if("string"!=typeof be[0]||!be[0]){for(var xe=[],Se=0;Se<be.length;Se++){var ke=e(be[Se],Ae,we);ke&&xe.push(ke)}return xe}var Te=document.createElement(be[0]),Ee=be[1],Re=1;for(Se=Re=Ee&&"object"==typeof Ee&&!Array.isArray(Ee)?2:Re;Se<be.length;Se++)e(be[Se],Te,we);return 2==Re&&Object.keys(Ee).forEach((function(be){var Ae=Ee[be];"class"===be?Te.className=Array.isArray(Ae)?Ae.join(" "):Ae:"function"==typeof Ae||"value"==be||"$"==be[0]?Te[be]=Ae:"ref"===be?we&&(we[Ae]=Te):"style"===be?"string"==typeof Ae&&(Te.style.cssText=Ae):null!=Ae&&Te.setAttribute(be,Ae)})),Ae&&Ae.appendChild(Te),Te},Ae.getDocumentHead=function(be){return(be=be||document).head||be.getElementsByTagName("head")[0]||be.documentElement},Ae.createElement=function(be,Ae){return document.createElementNS?document.createElementNS(Ae||"http://www.w3.org/1999/xhtml",be):document.createElement(be)},Ae.removeChildren=function(be){be.innerHTML=""},Ae.createTextNode=function(be,Ae){return(Ae?Ae.ownerDocument:document).createTextNode(be)},Ae.createFragment=function(be){return(be?be.ownerDocument:document).createDocumentFragment()},Ae.hasCssClass=function(be,Ae){return-1!==(be.className+"").split(/\s+/g).indexOf(Ae)},Ae.addCssClass=function(be,we){Ae.hasCssClass(be,we)||(be.className+=" "+we)},Ae.removeCssClass=function(be,Ae){for(var we=be.className.split(/\s+/g);;){var xe=we.indexOf(Ae);if(-1==xe)break;we.splice(xe,1)}be.className=we.join(" ")},Ae.toggleCssClass=function(be,Ae){for(var we=be.className.split(/\s+/g),xe=!0;;){var Se=we.indexOf(Ae);if(-1==Se)break;xe=!1,we.splice(Se,1)}return xe&&we.push(Ae),be.className=we.join(" "),xe},Ae.setCssClass=function(be,we,xe){xe?Ae.addCssClass(be,we):Ae.removeCssClass(be,we)},Ae.hasCssString=function(be,Ae){var we,xe=0;if(we=(Ae=Ae||document).querySelectorAll("style"))for(;xe<we.length;)if(we[xe++].id===be)return!0},Ae.removeElementById=function(be,Ae){(Ae=Ae||document).getElementById(be)&&Ae.getElementById(be).remove()},[]);function l(){var be=ke;ke=null,be&&be.forEach((function(be){i(be[0],be[1])}))}function i(be,we,Se){if("undefined"!=typeof document){if(ke)if(Se)l();else if(!1===Se)return ke.push([be,we]);if(!xe){var Te=Se;Se=(Te=Se&&Se.getRootNode&&(Te=Se.getRootNode())&&Te!=Se?Te:document).ownerDocument||Te;if(we&&Ae.hasCssString(we,Te))return null;we&&(be+="\n/*# sourceURL=ace/css/"+we+" */");var Ee=Ae.createElement("style");Ee.appendChild(Se.createTextNode(be)),we&&(Ee.id=we),(Te=Te==Se?Ae.getDocumentHead(Se):Te).insertBefore(Ee,Te.firstChild)}}}Ae.useStrictCSP=function(be){0==(xe=be)?l():ke=ke||[]},Ae.importCssString=i,Ae.importCssStylsheet=function(be,we){Ae.buildDom(["link",{rel:"stylesheet",href:be}],Ae.getDocumentHead(we))},Ae.scrollbarWidth=function(be){var we=Ae.createElement("ace_inner"),xe=(we.style.width="100%",we.style.minWidth="0px",we.style.height="200px",we.style.display="block",Ae.createElement("ace_outer")),Se=xe.style;be=(Se.position="absolute",Se.left="-10000px",Se.overflow="hidden",Se.width="200px",Se.minWidth="0px",Se.height="150px",Se.display="block",xe.appendChild(we),be&&be.documentElement||document&&document.documentElement);if(!be)return 0;be.appendChild(xe);var ke=we.offsetWidth;Se=(Se.overflow="scroll",we.offsetWidth);return ke===Se&&(Se=xe.clientWidth),be.removeChild(xe),ke-Se},Ae.computedStyle=function(be,Ae){return window.getComputedStyle(be,"")||{}},Ae.setStyle=function(be,Ae,we){be[Ae]!==we&&(be[Ae]=we)},Ae.HAS_CSS_ANIMATION=!1,Ae.HAS_CSS_TRANSFORMS=!1,Ae.HI_DPI=!be.isWin||"undefined"!=typeof window&&1.5<=window.devicePixelRatio,be.isChromeOS&&(Ae.HI_DPI=!1),"undefined"!=typeof document&&(Se=document.createElement("div"),Ae.HI_DPI&&void 0!==Se.style.transform&&(Ae.HAS_CSS_TRANSFORMS=!0),be.isEdge||void 0===Se.style.animationName||(Ae.HAS_CSS_ANIMATION=!0),Se=null),Ae.HAS_CSS_TRANSFORMS?Ae.translate=function(be,Ae,we){be.style.transform="translate("+Math.round(Ae)+"px, "+Math.round(we)+"px)"}:Ae.translate=function(be,Ae,we){be.style.top=Math.round(we)+"px",be.style.left=Math.round(Ae)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(be,Ae,we){var xe=be("./dom");Ae.get=function(be,Ae){var we=new XMLHttpRequest;we.open("GET",be,!0),we.onreadystatechange=function(){4===we.readyState&&Ae(we.responseText)},we.send(null)},Ae.loadScript=function(be,Ae){var we=xe.getDocumentHead(),Se=document.createElement("script");Se.src=be,we.appendChild(Se),Se.onload=Se.onreadystatechange=function(be,we){!we&&Se.readyState&&"loaded"!=Se.readyState&&"complete"!=Se.readyState||(Se=Se.onload=Se.onreadystatechange=null,we)||Ae()}},Ae.qualifyURL=function(be){var Ae=document.createElement("a");return Ae.href=be,Ae.href}})),ace.define("ace/lib/oop",["require","exports","module"],(function(be,Ae,we){Ae.inherits=function(be,Ae){be.super_=Ae,be.prototype=Object.create(Ae.prototype,{constructor:{value:be,enumerable:!1,writable:!0,configurable:!0}})},Ae.mixin=function(be,Ae){for(var we in Ae)be[we]=Ae[we];return be},Ae.implement=function(be,we){Ae.mixin(be,we)}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(Ae,we,xe){function r(){(this||be).propagationStopped=!0}function s(){(this||be).defaultPrevented=!0}var Se={};Se._emit=Se._dispatchEvent=function(Ae,we){(this||be)._eventRegistry||((this||be)._eventRegistry={}),(this||be)._defaultHandlers||((this||be)._defaultHandlers={});var xe=(this||be)._eventRegistry[Ae]||[],Se=(this||be)._defaultHandlers[Ae];if(xe.length||Se){(we="object"==typeof we&&we?we:{}).type||(we.type=Ae),we.stopPropagation||(we.stopPropagation=r),we.preventDefault||(we.preventDefault=s);xe=xe.slice();for(var ke=0;ke<xe.length&&(xe[ke](we,this||be),!we.propagationStopped);ke++);return Se&&!we.defaultPrevented?Se(we,this||be):void 0}},Se._signal=function(Ae,we){if(xe=((this||be)._eventRegistry||{})[Ae])for(var xe=xe.slice(),Se=0;Se<xe.length;Se++)xe[Se](we,this||be)},Se.once=function(Ae,we){var xe=this||be;if(this.on(Ae,(function e(){xe.off(Ae,e),we.apply(null,arguments)})),!we)return new Promise((function(be){we=be}))},Se.setDefaultHandler=function(Ae,we){var xe,Se,ke=(this||be)._defaultHandlers;(ke=ke||((this||be)._defaultHandlers={_disabled_:{}}))[Ae]&&(Se=ke[Ae],(xe=ke._disabled_[Ae])||(ke._disabled_[Ae]=xe=[]),xe.push(Se),-1!=(Se=xe.indexOf(we)))&&xe.splice(Se,1),ke[Ae]=we},Se.removeDefaultHandler=function(Ae,we){var xe,Se=(this||be)._defaultHandlers;Se&&(xe=Se._disabled_[Ae],Se[Ae]==we?xe&&this.setDefaultHandler(Ae,xe.pop()):xe&&-1!=(Se=xe.indexOf(we))&&xe.splice(Se,1))},Se.on=Se.addEventListener=function(Ae,we,xe){(this||be)._eventRegistry=(this||be)._eventRegistry||{};var Se=(this||be)._eventRegistry[Ae];return-1==(Se=Se||((this||be)._eventRegistry[Ae]=[])).indexOf(we)&&Se[xe?"unshift":"push"](we),we},Se.off=Se.removeListener=Se.removeEventListener=function(Ae,we){(this||be)._eventRegistry=(this||be)._eventRegistry||{};Ae=(this||be)._eventRegistry[Ae];Ae&&-1!==(we=Ae.indexOf(we))&&Ae.splice(we,1)},Se.removeAllListeners=function(Ae){Ae||((this||be)._eventRegistry=(this||be)._defaultHandlers=void 0),(this||be)._eventRegistry&&((this||be)._eventRegistry[Ae]=void 0),(this||be)._defaultHandlers&&((this||be)._defaultHandlers[Ae]=void 0)},we.EventEmitter=Se})),ace.define("ace/lib/report_error",["require","exports","module"],(function(be,Ae,we){Ae.reportError=function(be,Ae){var we=new Error(be);we.data=Ae,"object"==typeof console&&console.error&&console.error(we),setTimeout((function(){throw we}))}})),ace.define("ace/lib/default_english_messages",["require","exports","module"],(function(be,Ae,we){Ae.defaultEnglishMessages={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"}})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],(function(Ae,we,xe){var Se,ke=Ae("./oop"),Te=Ae("./event_emitter").EventEmitter,Ee=Ae("./report_error").reportError,Re=Ae("./default_english_messages").defaultEnglishMessages,_e={setOptions:function(Ae){Object.keys(Ae).forEach((function(be){this.setOption(be,Ae[be])}),this||be)},getOptions:function(Ae){var we,xe={};return Ae?Array.isArray(Ae)||(xe=Ae,Ae=Object.keys(xe)):(we=(this||be).$options,Ae=Object.keys(we).filter((function(be){return!we[be].hidden}))),Ae.forEach((function(be){xe[be]=this.getOption(be)}),this||be),xe},setOption:function(Ae,we){var xe;if((this||be)["$"+Ae]!==we)return(xe=(this||be).$options[Ae])?xe.forwardTo?(this||be)[xe.forwardTo]&&(this||be)[xe.forwardTo].setOption(Ae,we):(xe.handlesSet||((this||be)["$"+Ae]=we),void(xe&&xe.set&&xe.set.call(this||be,we))):c('misspelled option "'+Ae+'"')},getOption:function(Ae){var we=(this||be).$options[Ae];return we?we.forwardTo?(this||be)[we.forwardTo]&&(this||be)[we.forwardTo].getOption(Ae):we&&we.get?we.get.call(this||be):(this||be)["$"+Ae]:c('misspelled option "'+Ae+'"')}};function c(be){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}h.prototype.defineOptions=function(Ae,we,xe){return Ae.$options||((this||be).$defaultOptions[we]=Ae.$options={}),Object.keys(xe).forEach((function(be){var we=xe[be];(we="string"==typeof we?{forwardTo:we}:we).name||(we.name=be),"initialValue"in(Ae.$options[we.name]=we)&&(Ae["$"+we.name]=we.initialValue)})),ke.implement(Ae,_e),this||be},h.prototype.resetOptions=function(be){Object.keys(be.$options).forEach((function(Ae){var we=be.$options[Ae];"value"in we&&be.setOption(Ae,we.value)}))},h.prototype.setDefaultValue=function(Ae,we,xe){if(!Ae){for(Ae in(this||be).$defaultOptions)if((this||be).$defaultOptions[Ae][we])break;if(!(this||be).$defaultOptions[Ae][we])return!1}var Se=(this||be).$defaultOptions[Ae]||((this||be).$defaultOptions[Ae]={});Se[we]&&(Se.forwardTo?this.setDefaultValue(Se.forwardTo,we,xe):Se[we].value=xe)},h.prototype.setDefaultValues=function(Ae,we){Object.keys(we).forEach((function(be){this.setDefaultValue(Ae,be,we[be])}),this||be)},h.prototype.setMessages=function(be){Se=be},h.prototype.nls=function(be,Ae,we){Se[be]||(c("No message found for the key '"+be+"' in the provided messages, trying to find a translation for the default string '"+Ae+"'."),Se[Ae])||c("No message found for the default string '"+Ae+"' in the provided messages. Falling back to the default English message.");be=Se[be]||Se[Ae]||Ae;return we?be.replace(/\$(\$|[\d]+)/g,(function(be,Ae){return"$"==Ae?"$":we[Ae]})):be};Ae=h;function h(){(this||be).$defaultOptions={},Se=Re}Ae.prototype.warn=c,Ae.prototype.reportError=Ee,ke.implement(Ae.prototype,Te),we.AppConfig=Ae})),ace.define("ace/theme/textmate-css",["require","exports","module"],(function(be,Ae,we){we.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(be,Ae,we){Ae.isDark=!1,Ae.cssClass="ace-tm",Ae.cssText=be("./textmate-css"),Ae.$id="ace/theme/textmate",be("../lib/dom").importCssString(Ae.cssText,Ae.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(be,Ae,we){var xe,Se=be("./lib/lang"),ke=be("./lib/net"),Te=be("./lib/dom"),Ee=be("./lib/app_config").AppConfig,Re=(we.exports=Ae=new Ee,{packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null}),_e=(Ae.get=function(be){if(Re.hasOwnProperty(be))return Re[be];throw new Error("Unknown config key: "+be)},Ae.set=function(be,Ae){if(Re.hasOwnProperty(be))Re[be]=Ae;else if(0==this.setDefaultValue("",be,Ae))throw new Error("Unknown config key: "+be);"useStrictCSP"==be&&Te.useStrictCSP(Ae)},Ae.all=function(){return Se.copyObject(Re)},Ae.$modes={},Ae.moduleUrl=function(be,Ae){var we,xe,Se;return Re.$moduleUrls[be]||(be=be.split("/"),we="snippets"==(Ae=Ae||be[be.length-2]||"")?"/":"-",xe=be[be.length-1],"worker"==Ae&&"-"==we&&(Se=new RegExp("^"+Ae+"[\\-_]|[\\-_]"+Ae+"$","g"),xe=xe.replace(Se,"")),(!xe||xe==Ae)&&1<be.length&&(xe=be[be.length-2]),null==(Se=Re[Ae+"Path"])?Se=Re.basePath:"/"==we&&(Ae=we=""),Se&&"/"!=Se.slice(-1)&&(Se+="/"),Se+Ae+we+xe+this.get("suffix"))},Ae.setModuleUrl=function(be,Ae){return Re.$moduleUrls[be]=Ae},Ae.setLoader=function(be){xe=be},Ae.dynamicModules=Object.create(null),Ae.$loading={},Ae.$loaded={},Ae.loadModule=function(we,Se){function t(we){if(we&&!Ae.$loading[Re])return Se&&Se(we);if(Ae.$loading[Re]||(Ae.$loading[Re]=[]),Ae.$loading[Re].push(Se),!(1<Ae.$loading[Re].length)){function t(){var we,Se;Se=function(be,we){we&&(Ae.$loaded[Re]=we),Ae._emit("load.module",{name:Re,module:we});var xe=Ae.$loading[Re];Ae.$loading[Re]=null,xe.forEach((function(be){be&&be(we)}))},"ace/theme/textmate"===(we=Re)||"./theme/textmate"===we?Se(null,be("./theme/textmate")):xe?xe(we,Se):console.error("loader is not configured")}if(!Ae.get("packaged"))return t();ke.loadScript(Ae.moduleUrl(Re,Ee),t),_e()}}var Te,Ee,Re;Array.isArray(we)?(Ee=we[0],Re=we[1]):"string"==typeof we&&(Re=we);if(Ae.dynamicModules[Re])Ae.dynamicModules[Re]().then((function(be){be.default?t(be.default):t(be)}));else{try{Te=this.$require(Re)}catch(we){}t(Te||Ae.$loaded[Re])}},Ae.$require=function(be){if("function"==typeof we.require)return we.require(be)},Ae.setModuleLoader=function(be,we){Ae.dynamicModules[be]=we},function(){Re.basePath||Re.workerPath||Re.modePath||Re.themePath||Object.keys(Re.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),_e=function(){})});Ae.version="1.33.1"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(Ae,we,Se){Ae("./lib/fixoldbrowsers");var ke=Ae("./config"),Te=(ke.setLoader((function(be,we){Ae([be],(function(be){we(null,be)}))})),function(){return this||be||"undefined"!=typeof window&&window}());function t(be){if(Te&&Te.document){ke.set("packaged",be||Ae.packaged||Se.packaged||Te.define&&xe.amdD.packaged);for(var we,Ee={},Re="",_e=(be=document.currentScript||document._currentScript,be&&be.ownerDocument||document),$e=(be&&be.src&&(Re=be.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||""),_e.getElementsByTagName("script")),Le=0;Le<$e.length;Le++){var Ne=$e[Le],Me=Ne.src||Ne.getAttribute("src");if(Me){for(var Be=Ne.attributes,We=0,Pe=Be.length;We<Pe;We++){var He=Be[We];0===He.name.indexOf("data-ace-")&&(Ee[He.name.replace(/^data-ace-/,"").replace(/-(.)/g,(function(be,Ae){return Ae.toUpperCase()}))]=He.value)}Ne=Me.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);Ne&&(Re=Ne[1])}}for(we in Re&&(Ee.base=Ee.base||Re,Ee.packaged=!0),Ee.basePath=Ee.base,Ee.workerPath=Ee.workerPath||Ee.base,Ee.modePath=Ee.modePath||Ee.base,Ee.themePath=Ee.themePath||Ee.base,delete Ee.base,Ee)void 0!==Ee[we]&&ke.set(we,Ee[we])}}Se.exports=function(be){ke.init=t,ke.$require=Ae,be.require=Ae,be.define=xe.amdD},t(!0)})),ace.define("ace/range",["require","exports","module"],(function(Ae,we,xe){r.prototype.isEqual=function(Ae){return(this||be).start.row===Ae.start.row&&(this||be).end.row===Ae.end.row&&(this||be).start.column===Ae.start.column&&(this||be).end.column===Ae.end.column},r.prototype.toString=function(){return"Range: ["+(this||be).start.row+"/"+(this||be).start.column+"] -> ["+(this||be).end.row+"/"+(this||be).end.column+"]"},r.prototype.contains=function(be,Ae){return 0==this.compare(be,Ae)},r.prototype.compareRange=function(be){var Ae=be.end;be=be.start,Ae=this.compare(Ae.row,Ae.column);return 1==Ae?1==(Ae=this.compare(be.row,be.column))?2:0==Ae?1:0:-1==Ae?-2:-1==(Ae=this.compare(be.row,be.column))?-1:1==Ae?42:0},r.prototype.comparePoint=function(be){return this.compare(be.row,be.column)},r.prototype.containsRange=function(be){return 0==this.comparePoint(be.start)&&0==this.comparePoint(be.end)},r.prototype.intersects=function(be){be=this.compareRange(be);return-1==be||0==be||1==be},r.prototype.isEnd=function(Ae,we){return(this||be).end.row==Ae&&(this||be).end.column==we},r.prototype.isStart=function(Ae,we){return(this||be).start.row==Ae&&(this||be).start.column==we},r.prototype.setStart=function(Ae,we){"object"==typeof Ae?((this||be).start.column=Ae.column,(this||be).start.row=Ae.row):((this||be).start.row=Ae,(this||be).start.column=we)},r.prototype.setEnd=function(Ae,we){"object"==typeof Ae?((this||be).end.column=Ae.column,(this||be).end.row=Ae.row):((this||be).end.row=Ae,(this||be).end.column=we)},r.prototype.inside=function(be,Ae){return 0==this.compare(be,Ae)&&!this.isEnd(be,Ae)&&!this.isStart(be,Ae)},r.prototype.insideStart=function(be,Ae){return 0==this.compare(be,Ae)&&!this.isEnd(be,Ae)},r.prototype.insideEnd=function(be,Ae){return 0==this.compare(be,Ae)&&!this.isStart(be,Ae)},r.prototype.compare=function(Ae,we){return this.isMultiLine()||Ae!==(this||be).start.row?Ae<(this||be).start.row?-1:Ae>(this||be).end.row?1:(this||be).start.row===Ae?we>=(this||be).start.column?0:-1:(this||be).end.row!==Ae||we<=(this||be).end.column?0:1:we<(this||be).start.column?-1:we>(this||be).end.column?1:0},r.prototype.compareStart=function(Ae,we){return(this||be).start.row==Ae&&(this||be).start.column==we?-1:this.compare(Ae,we)},r.prototype.compareEnd=function(Ae,we){return(this||be).end.row==Ae&&(this||be).end.column==we?1:this.compare(Ae,we)},r.prototype.compareInside=function(Ae,we){return(this||be).end.row==Ae&&(this||be).end.column==we?1:(this||be).start.row==Ae&&(this||be).start.column==we?-1:this.compare(Ae,we)},r.prototype.clipRows=function(Ae,we){var xe,Se;return(this||be).end.row>we?xe={row:we+1,column:0}:(this||be).end.row<Ae&&(xe={row:Ae,column:0}),(this||be).start.row>we?Se={row:we+1,column:0}:(this||be).start.row<Ae&&(Se={row:Ae,column:0}),r.fromPoints(Se||(this||be).start,xe||(this||be).end)},r.prototype.extend=function(Ae,we){var xe,Se,ke=this.compare(Ae,we);return 0==ke?this||be:(-1==ke?xe={row:Ae,column:we}:Se={row:Ae,column:we},r.fromPoints(xe||(this||be).start,Se||(this||be).end))},r.prototype.isEmpty=function(){return(this||be).start.row===(this||be).end.row&&(this||be).start.column===(this||be).end.column},r.prototype.isMultiLine=function(){return(this||be).start.row!==(this||be).end.row},r.prototype.clone=function(){return r.fromPoints((this||be).start,(this||be).end)},r.prototype.collapseRows=function(){return 0==(this||be).end.column?new r((this||be).start.row,0,Math.max((this||be).start.row,(this||be).end.row-1),0):new r((this||be).start.row,0,(this||be).end.row,0)},r.prototype.toScreenRange=function(Ae){var we=Ae.documentToScreenPosition((this||be).start);Ae=Ae.documentToScreenPosition((this||be).end);return new r(we.row,we.column,Ae.row,Ae.column)},r.prototype.moveBy=function(Ae,we){(this||be).start.row+=Ae,(this||be).start.column+=we,(this||be).end.row+=Ae,(this||be).end.column+=we};var Se=r;function r(Ae,we,xe,Se){(this||be).start={row:Ae,column:we},(this||be).end={row:xe,column:Se}}Se.fromPoints=function(be,Ae){return new Se(be.row,be.column,Ae.row,Ae.column)},Se.comparePoints=function(be,Ae){return be.row-Ae.row||be.column-Ae.column},we.Range=Se})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(be,Ae,we){var xe=be("./oop"),Se=function(){var be,Ae,we={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(Ae in we.PRINTABLE_KEYS[173]="-",we.FUNCTION_KEYS)be=we.FUNCTION_KEYS[Ae].toLowerCase(),we[be]=parseInt(Ae,10);for(Ae in we.PRINTABLE_KEYS)be=we.PRINTABLE_KEYS[Ae].toLowerCase(),we[be]=parseInt(Ae,10);xe.mixin(we,we.MODIFIER_KEYS),xe.mixin(we,we.PRINTABLE_KEYS),xe.mixin(we,we.FUNCTION_KEYS),we.enter=we.return,we.escape=we.esc,we.del=we.delete;for(var Se=["cmd","ctrl","alt","shift"],ke=Math.pow(2,Se.length);ke--;)we.KEY_MODS[ke]=Se.filter((function(be){return ke&we.KEY_MODS[be]})).join("-")+"-";return we.KEY_MODS[0]="",we.KEY_MODS[-1]="input-",we}();xe.mixin(Ae,Se),(Ae.default=Ae).keyCodeToString=function(be){var Ae=Se[be];return(Ae="string"!=typeof Ae?String.fromCharCode(be):Ae).toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(Ae,we,xe){var Se,ke=Ae("./keys"),Te=Ae("./useragent"),Ee=null,Re=0;function o(){if(null==Se){Se=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return Se={passive:!1},!0}})}catch(be){}}return Se}function l(Ae,we,xe){(this||be).elem=Ae,(this||be).type=we,(this||be).callback=xe}l.prototype.destroy=function(){Le((this||be).elem,(this||be).type,(this||be).callback),(this||be).elem=(this||be).type=(this||be).callback=void 0};var _e,$e=we.addListener=function(be,Ae,we,xe){be.addEventListener(Ae,we,o()),xe&&xe.$toDestroy.push(new l(be,Ae,we))},Le=we.removeListener=function(be,Ae,we){be.removeEventListener(Ae,we,o())};function p(be){return 0|(be.ctrlKey?1:0)|(be.altKey?2:0)|(be.shiftKey?4:0)|(be.metaKey?8:0)}function m(){Ee=Object.create(null)}we.stopEvent=function(be){return we.stopPropagation(be),we.preventDefault(be),!1},we.stopPropagation=function(be){be.stopPropagation&&be.stopPropagation()},we.preventDefault=function(be){be.preventDefault&&be.preventDefault()},we.getButton=function(be){return"dblclick"==be.type?0:"contextmenu"==be.type||Te.isMac&&be.ctrlKey&&!be.altKey&&!be.shiftKey?2:be.button},we.capture=function(be,Ae,we){var xe=be&&be.ownerDocument||document;function o(be){Ae&&Ae(be),we&&we(be),Le(xe,"mousemove",Ae),Le(xe,"mouseup",o),Le(xe,"dragstart",o)}return $e(xe,"mousemove",Ae),$e(xe,"mouseup",o),$e(xe,"dragstart",o),o},we.addMouseWheelListener=function(be,Ae,we){$e(be,"wheel",(function(be){var we=be.deltaX||0,xe=be.deltaY||0;switch(be.deltaMode){case be.DOM_DELTA_PIXEL:be.wheelX=.15*we,be.wheelY=.15*xe;break;case be.DOM_DELTA_LINE:be.wheelX=15*we,be.wheelY=15*xe;break;case be.DOM_DELTA_PAGE:be.wheelX=150*we,be.wheelY=150*xe}Ae(be)}),we)},we.addMultiMouseDownListener=function(be,Ae,xe,Se,ke){var Ee,Re,_e,Le=0,Ne={2:"dblclick",3:"tripleclick",4:"quadclick"};function h(be){var ke;if(0!==we.getButton(be)?Le=0:1<be.detail&&!(4<++Le)||(Le=1),Te.isIE&&(ke=5<Math.abs(be.clientX-Ee)||5<Math.abs(be.clientY-Re),_e&&!ke||(Le=1),_e&&clearTimeout(_e),_e=setTimeout((function(){_e=null}),Ae[Le-1]||600),1==Le)&&(Ee=be.clientX,Re=be.clientY),be._clicks=Le,xe[Se]("mousedown",be),4<Le)Le=0;else if(1<Le)return xe[Se](Ne[Le],be)}(be=Array.isArray(be)?be:[be]).forEach((function(be){$e(be,"mousedown",h,ke)}))},we.getModifierString=function(be){return ke.KEY_MODS[p(be)]},we.addCommandKeyListener=function(be,Ae,xe){var Se=null;$e(be,"keydown",(function(be){Ee[be.keyCode]=(Ee[be.keyCode]||0)+1;var we=function(be,Ae,we){var xe,Se=p(Ae);if(!Te.isMac&&Ee){if(Ae.getModifierState&&(Ae.getModifierState("OS")||Ae.getModifierState("Win"))&&(Se|=8),Ee.altGr){if(3==(3&Se))return;Ee.altGr=0}18!==we&&17!==we||(xe=Ae.location,17===we&&1===xe?1==Ee[we]&&(Re=Ae.timeStamp):18===we&&3===Se&&2===xe&&Ae.timeStamp-Re<50&&(Ee.altGr=!0))}if(we in ke.MODIFIER_KEYS&&(we=-1),Se||13!==we||3!==Ae.location||(be(Ae,Se,-we),!Ae.defaultPrevented)){if(Te.isChromeOS&&8&Se){if(be(Ae,Se,we),Ae.defaultPrevented)return;Se&=-9}return!!(Se||we in ke.FUNCTION_KEYS||we in ke.PRINTABLE_KEYS)&&be(Ae,Se,we)}}(Ae,be,be.keyCode);return Se=be.defaultPrevented,we}),xe),$e(be,"keypress",(function(be){Se&&(be.ctrlKey||be.altKey||be.shiftKey||be.metaKey)&&(we.stopEvent(be),Se=null)}),xe),$e(be,"keyup",(function(be){Ee[be.keyCode]=null}),xe),Ee||(m(),$e(window,"focus",m))},"object"==typeof window&&window.postMessage&&!Te.isOldIE&&(_e=1,we.nextTick=function(be,Ae){Ae=Ae||window;function i(Se){Se.data==xe&&(we.stopPropagation(Se),Le(Ae,"message",i),be())}var xe="zero-timeout-message-"+_e++;$e(Ae,"message",i),Ae.postMessage(xe,"*")}),we.$idleBlocked=!1,we.onIdle=function(be,Ae){return setTimeout((function e(){we.$idleBlocked?setTimeout(e,100):be()}),Ae)},we.$idleBlockId=null,we.blockIdle=function(be){we.$idleBlockId&&clearTimeout(we.$idleBlockId),we.$idleBlocked=!0,we.$idleBlockId=setTimeout((function(){we.$idleBlocked=!1}),be||100)},we.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),we.nextFrame?we.nextFrame=we.nextFrame.bind(window):we.nextFrame=function(be){setTimeout(be,17)}})),ace.define("ace/clipboard",["require","exports","module"],(function(be,Ae,we){var xe;we.exports={lineMode:!1,pasteCancelled:function(){return!!(xe&&xe>Date.now()-50)||(xe=!1)},cancel:function(){xe=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(Ae,we,xe){var Se=Ae("../lib/event"),ke=Ae("../config").nls,Te=Ae("../lib/useragent"),Ee=Ae("../lib/dom"),Re=Ae("../lib/lang"),_e=Ae("../clipboard"),$e=Te.isChrome<18,Le=Te.isIE,Ne=63<Te.isChrome,Me=Ae("../lib/keys"),Be=Me.KEY_MODS,We=Te.isIOS,Pe=We?/\s/:/\n/,He=Te.isMobile;we.TextInput=function(Ae,we){var xe=Ee.createElement("textarea"),Ge=(xe.className="ace_text-input",xe.setAttribute("wrap","off"),xe.setAttribute("autocorrect","off"),xe.setAttribute("autocapitalize","off"),xe.setAttribute("spellcheck","false"),xe.style.opacity="0",Ae.insertBefore(xe,Ae.firstChild),!1),Fe=!1,Oe=!1,Ve=!1,Ze="",De=(He||(xe.style.fontSize="1px"),!1),je=!1,Ke="",ze=0,Xe=0,Ye=0,Je=Number.MAX_SAFE_INTEGER,Ue=Number.MIN_SAFE_INTEGER,Qe=0;try{var qe=document.activeElement===xe}catch(Ae){}(this||be).setNumberOfExtraLines=function(be){Je=Number.MAX_SAFE_INTEGER,Ue=Number.MIN_SAFE_INTEGER,Qe=be<0?0:be},(this||be).setAriaOptions=function(be){be.activeDescendant?(xe.setAttribute("aria-haspopup","true"),xe.setAttribute("aria-autocomplete",be.inline?"both":"list"),xe.setAttribute("aria-activedescendant",be.activeDescendant)):(xe.setAttribute("aria-haspopup","false"),xe.setAttribute("aria-autocomplete","both"),xe.removeAttribute("aria-activedescendant")),be.role&&xe.setAttribute("role",be.role),be.setLabel&&(xe.setAttribute("aria-roledescription",ke("text-input.aria-roledescription","editor")),we.session)&&(be=we.session.selection.cursor.row,xe.setAttribute("aria-label",ke("text-input.aria-label","Cursor at row $0",[be+1])))},this.setAriaOptions({role:"textbox"}),Se.addListener(xe,"blur",(function(be){je||(we.onBlur(be),qe=!1)}),we),Se.addListener(xe,"focus",(function(be){if(!je){if(qe=!0,Te.isEdge)try{if(!document.hasFocus())return}catch(be){}we.onFocus(be),Te.isEdge?setTimeout(et):et()}}),we),(this||be).$focusScroll=!1,(this||be).focus=function(){if(this.setAriaOptions({setLabel:we.renderer.enableKeyboardAccessibility}),Ze||Ne||"browser"==(this||be).$focusScroll)return xe.focus({preventScroll:!0});var Ae=xe.style.top;xe.style.position="fixed",xe.style.top="0px";try{var Se=0!=xe.getBoundingClientRect().top}catch(Ae){return}var ke=[];if(Se)for(var Te=xe.parentElement;Te&&1==Te.nodeType;)ke.push(Te),Te.setAttribute("ace_nocontext","true"),Te=!Te.parentElement&&Te.getRootNode?Te.getRootNode().host:Te.parentElement;xe.focus({preventScroll:!0}),Se&&ke.forEach((function(be){be.removeAttribute("ace_nocontext")})),setTimeout((function(){xe.style.position="","0px"==xe.style.top&&(xe.style.top=Ae)}),0)},(this||be).blur=function(){xe.blur()},(this||be).isFocused=function(){return qe},we.on("beforeEndOperation",(function(){var be=we.curOp,Ae=be&&be.command&&be.command.name;"insertstring"!=Ae&&(Ae=Ae&&(be.docChanged||be.selectionChanged),Oe&&Ae&&(Ke=xe.value="",G()),et())}));function A(be,Ae){for(var xe=Ae,Se=1;Se<=be-Je&&Se<2*Qe+1;Se++)xe+=we.session.getLine(be-Se).length+1;return xe}function n(be){H(be,!0)}function i(be){H(be,!1)}function o(be){var Ae=k(be);_e.pasteCancelled()||("string"==typeof Ae?(Ae&&we.onPaste(Ae,be),Te.isIE&&setTimeout(et),Se.preventDefault(be)):(xe.value="",Fe=!0))}var et=We?function(be){var Ae;!qe||Ge&&!be||Ve||((Ae="\n ab"+(be=be||"")+"cde fg\n")!=xe.value&&(xe.value=Ke=Ae),Ae=4+(be.length||(we.selection.isEmpty()?0:1)),4==ze&&Xe==Ae||xe.setSelectionRange(4,Ae),ze=4,Xe=Ae)}:function(){if(!Oe&&!Ve&&(qe||it)){Oe=!0;var be=0,Ae=0,Se="";if(we.session){for(var ke,Te=we.selection,Ee=Te.getRange(),Re=(Te=Te.cursor.row,Te===Ue+1?Ue=(Je=Ue+1)+2*Qe:Te===Je-1?Je=(Ue=Je-1)-2*Qe:(Te<Je-1||Ue+1<Te)&&(Je=Qe<Te?Te-Qe:0,Ue=Qe<Te?Te+Qe:2*Qe),[]),_e=Je;_e<=Ue;_e++)Re.push(we.session.getLine(_e));Se=Re.join("\n"),be=A(Ee.start.row,Ee.start.column),Ae=A(Ee.end.row,Ee.end.column),Ee.start.row<Je?(ke=we.session.getLine(Je-1),be=Ee.start.row<Je-1?0:be,Ae+=ke.length+1,Se=ke+"\n"+Se):Ee.end.row>Ue?(ke=we.session.getLine(Ue+1),Ae=Ee.end.row>Ue+1?ke.length:Ee.end.column,Ae+=Se.length+1,Se=Se+"\n"+ke):He&&0<Te&&(Se="\n"+Se,Ae+=1,be+=1),400<Se.length&&(be<400&&Ae<400?Se=Se.slice(0,400):(Se="\n",be==Ae?be=Ae=0:(be=0,Ae=1)));Ee=Se+"\n\n";Ee!=Ke&&(xe.value=Ke=Ee,ze=Xe=Ee.length)}if(it&&(ze=xe.selectionStart,Xe=xe.selectionEnd),Xe!=Ae||ze!=be||xe.selectionEnd!=Xe)try{xe.setSelectionRange(be,Ae),ze=be,Xe=Ae}catch(be){}Oe=!1}},tt=((this||be).resetSelection=et,qe&&we.onFocus(),function(be){return 0===be.selectionStart&&be.selectionEnd>=Ke.length&&be.value===Ke&&Ke&&be.selectionEnd!==Xe}),nt=null,it=((this||be).setInputHandler=function(be){nt=be},!((this||be).getInputHandler=function(){return nt})),x=function(be,Ae){if(it=it&&!1,Fe)return et(),be&&we.onPaste(be),Fe=!1,"";for(var Se=xe.selectionStart,ke=xe.selectionEnd,Ee=ze,Re=Ke.length-Xe,_e=be,$e=be.length-Se,Le=be.length-ke,Ne=0;0<Ee&&Ke[Ne]==be[Ne];)Ne++,Ee--;for(_e=_e.slice(Ne),Ne=1;0<Re&&Ke.length-Ne>ze-1&&Ke[Ke.length-Ne]==be[be.length-Ne];)Ne++,Re--;$e-=Ne-1,Le-=Ne-1;var Me=_e.length-Ne+1;return Me<0&&(Ee=-Me,Me=0),_e=_e.slice(0,Me),Ae||_e||$e||Ee||Re||Le?(Me=!(Ve=!0),Te.isAndroid&&". "==_e&&(_e="  ",Me=!0),_e&&!Ee&&!Re&&!$e&&!Le||De?we.onTextInput(_e):we.onTextInput(_e,{extendLeft:Ee,extendRight:Re,restoreStart:$e,restoreEnd:Le}),Ve=!1,Ke=be,ze=Se,Xe=ke,Ye=Le,Me?"\n":_e):""},P=function(be){if(Oe)return ot();if(be&&be.inputType){if("historyUndo"==be.inputType)return we.execCommand("undo");if("historyRedo"==be.inputType)return we.execCommand("redo")}be=xe.value;var Ae=x(be,!0);(500<be.length||Pe.test(Ae)||He&&ze<1&&ze==Xe)&&et()},k=function(be,Ae,we){var xe=be.clipboardData||window.clipboardData;if(xe&&!$e){var Se=Le||we?"Text":"text/plain";try{return Ae?!1!==xe.setData(Se,Ae):xe.getData(Se)}catch(be){if(!we)return k(be,Ae,!0)}}},H=function(be,Ae){var ke=we.getCopyText();if(!ke)return Se.preventDefault(be);k(be,ke)?(We&&(et(ke),Ge=ke,setTimeout((function(){Ge=!1}),10)),Ae?we.onCut():we.onCopy(),Se.preventDefault(be)):(Ge=!0,xe.value=ke,xe.select(),setTimeout((function(){Ge=!1,et(),Ae?we.onCut():we.onCopy()})))},ot=(Se.addCommandKeyListener(xe,(function(be,Ae,xe){if(!Oe)return we.onCommandKey(be,Ae,xe)}),we),Se.addListener(xe,"select",(function(be){Oe||(Ge?Ge=!1:tt(xe)?(we.selectAll(),et()):He&&xe.selectionStart!=ze&&et())}),we),Se.addListener(xe,"input",P,we),Se.addListener(xe,"cut",n,we),Se.addListener(xe,"copy",i,we),Se.addListener(xe,"paste",o,we),"oncut"in xe&&"oncopy"in xe&&"onpaste"in xe||Se.addListener(Ae,"keydown",(function(be){if((!Te.isMac||be.metaKey)&&be.ctrlKey)switch(be.keyCode){case 67:i(be);break;case 86:o(be);break;case 88:n(be)}}),we),function(){var be;if(Oe&&we.onCompositionUpdate&&!we.$readOnly)return De?E():void(Oe.useTextareaForIME?we.onCompositionUpdate(xe.value):(be=xe.value,x(be),Oe.markerRange&&(Oe.context&&(Oe.markerRange.start.column=Oe.selectionStart=Oe.context.compositionStartOffset),Oe.markerRange.end.column=Oe.markerRange.start.column+Xe-Oe.selectionStart+Ye)))}),G=function(be){we.onCompositionEnd&&!we.$readOnly&&(Oe=!1,we.onCompositionEnd(),we.off("mousedown",E),be)&&P()};function E(){je=!0,xe.blur(),xe.focus(),je=!1}var rt,st=Re.delayedCall(ot,50).schedule.bind(null,null);function $(){clearTimeout(rt),rt=setTimeout((function(){Ze&&(xe.style.cssText=Ze,Ze=""),we.renderer.$isMousePressed=!1,we.renderer.$keepTextAreaAtCursor&&we.renderer.$moveTextAreaToCursor()}),0)}Se.addListener(xe,"compositionstart",(function(be){Oe||!we.onCompositionStart||we.$readOnly||(Oe={},De)||(be.data&&(Oe.useTextareaForIME=!1),setTimeout(ot,0),we._signal("compositionStart"),we.on("mousedown",E),(be=we.getSelectionRange()).end.row=be.start.row,be.end.column=be.start.column,Oe.markerRange=be,Oe.selectionStart=ze,we.onCompositionStart(Oe),Oe.useTextareaForIME?(Ke=xe.value="",Xe=ze=0):(xe.msGetInputContext&&(Oe.context=xe.msGetInputContext()),xe.getInputContext&&(Oe.context=xe.getInputContext())))}),we),Se.addListener(xe,"compositionupdate",ot,we),Se.addListener(xe,"keyup",(function(be){27==be.keyCode&&xe.value.length<xe.selectionStart&&(Oe||(Ke=xe.value),ze=Xe=-1,et()),st()}),we),Se.addListener(xe,"keydown",st,we),Se.addListener(xe,"compositionend",G,we),(this||be).getElement=function(){return xe},(this||be).setCommandMode=function(be){De=be,xe.readOnly=!1},(this||be).setReadOnly=function(be){De||(xe.readOnly=be)},(this||be).setCopyWithEmptySelection=function(be){},(this||be).onContextMenu=function(be){it=!0,et(),we._emit("nativecontextmenu",{target:we,domEvent:be}),this.moveToMouse(be,!0)},(this||be).moveToMouse=function(be,Ae){Ze=Ze||xe.style.cssText,xe.style.cssText=(Ae?"z-index:100000;":"")+(Te.isIE?"opacity:0.1;":"")+"text-indent: -"+(ze+Xe)*we.renderer.characterWidth*.5+"px;";function n(be){Ee.translate(xe,be.clientX-_e-2,Math.min(be.clientY-Re-2,$e))}Ae=we.container.getBoundingClientRect();var ke=Ee.computedStyle(we.container),Re=Ae.top+(parseInt(ke.borderTopWidth)||0),_e=Ae.left+(parseInt(Ae.borderLeftWidth)||0),$e=Ae.bottom-Re-xe.clientHeight-2;n(be),"mousedown"==be.type&&(we.renderer.$isMousePressed=!0,clearTimeout(rt),Te.isWin)&&Se.capture(we.container,n,$)},(this||be).onContextMenuClose=$;function _(be){we.textInput.onContextMenu(be),$()}if(Se.addListener(xe,"mouseup",_,we),Se.addListener(xe,"mousedown",(function(be){be.preventDefault(),$()}),we),Se.addListener(we.renderer.scroller,"contextmenu",_,we),Se.addListener(xe,"contextmenu",_,we),We){var at=we,lt=xe;function O(be){var Ae,we,xe,Se;document.activeElement!==lt||ht||Oe||at.$mouseHandler.isMousePressed||Ge||(Ae=lt.selectionStart,we=lt.selectionEnd,xe=null,(Se=0)==Ae?xe=Me.up:1==Ae?xe=Me.home:Xe<we&&"\n"==Ke[we]?xe=Me.end:Ae<ze&&" "==Ke[Ae-1]?(xe=Me.left,Se=Be.option):Ae<ze||Ae==ze&&Xe!=ze&&Ae==we?xe=Me.left:Xe<we&&2<Ke.slice(0,we).split("\n").length?xe=Me.down:Xe<we&&" "==Ke[we-1]?(xe=Me.right,Se=Be.option):(Xe<we||we==Xe&&Xe!=ze&&Ae==we)&&(xe=Me.right),Ae!==we&&(Se|=Be.shift),xe&&(!at.onCommandKey({},Se,xe)&&at.commands&&(xe=Me.keyCodeToString(xe),Se=at.commands.findKeyCommand(Se,xe))&&at.execCommand(Se),ze=Ae,Xe=we,et("")))}var ct=null,ht=!1;lt.addEventListener("keydown",(function(be){ct&&clearTimeout(ct),ht=!0}),!0),lt.addEventListener("keyup",(function(be){ct=setTimeout((function(){ht=!1}),100)}),!0),document.addEventListener("selectionchange",O),at.on("destroy",(function(){document.removeEventListener("selectionchange",O)}))}(this||be).destroy=function(){xe.parentElement&&xe.parentElement.removeChild(xe)}},we.$setUserAgentForTests=function(be,Ae){He=be,We=Ae}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(Ae,we,xe){var Se=Ae("../lib/useragent");Ae=(i.prototype.onMouseDown=function(Ae){var we=Ae.inSelection(),xe=Ae.getDocumentPosition(),ke=((this||be).mousedownEvent=Ae,(this||be).editor),Te=Ae.getButton();if(0!==Te)!ke.getSelectionRange().isEmpty()&&1!=Te||ke.selection.moveToPosition(xe),2==Te&&(ke.textInput.onContextMenu(Ae.domEvent),Se.isMozilla||Ae.preventDefault());else{if((this||be).mousedownEvent.time=Date.now(),!we||ke.isFocused()||(ke.focus(),!(this||be).$focusTimeout)||(this||be).$clickSelection||ke.inMultiSelectMode)return this.captureMouse(Ae),this.startSelect(xe,1<Ae.domEvent._clicks),Ae.preventDefault();this.setState("focusWait"),this.captureMouse(Ae)}},i.prototype.startSelect=function(Ae,we){Ae=Ae||(this||be).editor.renderer.screenToTextCoordinates((this||be).x,(this||be).y);var xe=(this||be).editor;(this||be).mousedownEvent&&((this||be).mousedownEvent.getShiftKey()?xe.selection.selectToPosition(Ae):we||xe.selection.moveToPosition(Ae),we||this.select(),xe.setStyle("ace_selecting"),this.setState("select"))},i.prototype.select=function(){var Ae,we=(this||be).editor,xe=we.renderer.screenToTextCoordinates((this||be).x,(this||be).y);(this||be).$clickSelection&&(Ae=-1==(Ae=(this||be).$clickSelection.comparePoint(xe))?(this||be).$clickSelection.end:1==Ae?(this||be).$clickSelection.start:(xe=(Ae=s((this||be).$clickSelection,xe)).cursor,Ae.anchor),we.selection.setSelectionAnchor(Ae.row,Ae.column)),we.selection.selectToPosition(xe),we.renderer.scrollCursorIntoView()},i.prototype.extendSelectionBy=function(Ae){var we,xe,Se,ke=(this||be).editor,Te=ke.renderer.screenToTextCoordinates((this||be).x,(this||be).y);Ae=ke.selection[Ae](Te.row,Te.column);(this||be).$clickSelection&&(xe=(this||be).$clickSelection.comparePoint(Ae.start),we=(this||be).$clickSelection.comparePoint(Ae.end),-1==xe&&we<=0?(Se=(this||be).$clickSelection.end,Ae.end.row==Te.row&&Ae.end.column==Te.column||(Te=Ae.start)):1==we&&0<=xe?(Se=(this||be).$clickSelection.start,Ae.start.row==Te.row&&Ae.start.column==Te.column||(Te=Ae.end)):Se=-1==xe&&1==we?(Te=Ae.end,Ae.start):(Te=(xe=s((this||be).$clickSelection,Te)).cursor,xe.anchor),ke.selection.setSelectionAnchor(Se.row,Se.column)),ke.selection.selectToPosition(Te),ke.renderer.scrollCursorIntoView()},i.prototype.selectByLinesEnd=function(){(this||be).$clickSelection=null,(this||be).editor.unsetStyle("ace_selecting")},i.prototype.focusWait=function(){Se=(this||be).mousedownEvent.x,Ae=(this||be).mousedownEvent.y,xe=(this||be).x,we=(this||be).y;var Ae,we,xe=Math.sqrt(Math.pow(xe-Se,2)+Math.pow(we-Ae,2)),Se=Date.now();(0<xe||Se-(this||be).mousedownEvent.time>(this||be).$focusTimeout)&&this.startSelect((this||be).mousedownEvent.getDocumentPosition())},i.prototype.onDoubleClick=function(Ae){Ae=Ae.getDocumentPosition();var we=(this||be).editor,xe=we.session.getBracketRange(Ae);xe?(xe.isEmpty()&&(xe.start.column--,xe.end.column++),this.setState("select")):(xe=we.selection.getWordRange(Ae.row,Ae.column),this.setState("selectByWords")),(this||be).$clickSelection=xe,this.select()},i.prototype.onTripleClick=function(Ae){Ae=Ae.getDocumentPosition();var we=(this||be).editor,xe=(this.setState("selectByLines"),we.getSelectionRange());xe.isMultiLine()&&xe.contains(Ae.row,Ae.column)?((this||be).$clickSelection=we.selection.getLineRange(xe.start.row),(this||be).$clickSelection.end=we.selection.getLineRange(xe.end.row).end):(this||be).$clickSelection=we.selection.getLineRange(Ae.row),this.select()},i.prototype.onQuadClick=function(Ae){var we=(this||be).editor;we.selectAll(),(this||be).$clickSelection=we.getSelectionRange(),this.setState("selectAll")},i.prototype.onMouseWheel=function(Ae){var we,xe,Se,ke,Te,Ee,Re;if(!Ae.getAccelKey())return Ae.getShiftKey()&&Ae.wheelY&&!Ae.wheelX&&(Ae.wheelX=Ae.wheelY,Ae.wheelY=0),we=(this||be).editor,(this||be).$lastScroll||((this||be).$lastScroll={t:0,vx:0,vy:0,allowed:0}),xe=(this||be).$lastScroll,ke=(Re=(Se=Ae.domEvent.timeStamp)-xe.t)?Ae.wheelX/Re:xe.vx,Te=Re?Ae.wheelY/Re:xe.vy,Re<550&&(ke=(ke+xe.vx)/2,Te=(Te+xe.vy)/2),Re=!1,1<=(Ee=Math.abs(ke/Te))&&we.renderer.isScrollableBy(Ae.wheelX*Ae.speed,0)&&(Re=!0),(Re=!!(Ee<=1&&we.renderer.isScrollableBy(0,Ae.wheelY*Ae.speed))||Re)?xe.allowed=Se:Se-xe.allowed<550&&(Math.abs(ke)<=1.5*Math.abs(xe.vx)&&Math.abs(Te)<=1.5*Math.abs(xe.vy)?(Re=!0,xe.allowed=Se):xe.allowed=0),xe.t=Se,xe.vx=ke,xe.vy=Te,Re?(we.renderer.scrollBy(Ae.wheelX*Ae.speed,Ae.wheelY*Ae.speed),Ae.stop()):void 0},i);function i(Ae){Ae.$clickSelection=null;var we=Ae.editor;we.setDefaultHandler("mousedown",(this||be).onMouseDown.bind(Ae)),we.setDefaultHandler("dblclick",(this||be).onDoubleClick.bind(Ae)),we.setDefaultHandler("tripleclick",(this||be).onTripleClick.bind(Ae)),we.setDefaultHandler("quadclick",(this||be).onQuadClick.bind(Ae)),we.setDefaultHandler("mousewheel",(this||be).onMouseWheel.bind(Ae));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(we){Ae[we]=(this||be)[we]}),this||be),Ae.selectByLines=(this||be).extendSelectionBy.bind(Ae,"getLineRange"),Ae.selectByWords=(this||be).extendSelectionBy.bind(Ae,"getWordRange")}function s(be,Ae){return(be.start.row==be.end.row?2*Ae.column-be.start.column-be.end.column:be.start.row!=be.end.row-1||be.start.column||be.end.column?2*Ae.row-be.start.row-be.end.row:Ae.column-4)<0?{cursor:be.start,anchor:be.end}:{cursor:be.end,anchor:be.start}}Ae.prototype.selectEnd=Ae.prototype.selectByLinesEnd,Ae.prototype.selectAllEnd=Ae.prototype.selectByLinesEnd,Ae.prototype.selectByWordsEnd=Ae.prototype.selectByLinesEnd,we.DefaultHandlers=Ae})),ace.define("ace/lib/scroll",["require","exports","module"],(function(be,Ae,we){Ae.preventParentScroll=function(be){be.stopPropagation();var Ae=be.currentTarget;Ae.scrollHeight>Ae.clientHeight||be.preventDefault()}})),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],(function(Ae,we,xe){var Se,ke=(this||be)&&(this||be).__extends||(Se=function(be,Ae){return(Se=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,Ae){be.__proto__=Ae}:function(be,Ae){for(var we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(be[we]=Ae[we])}))(be,Ae)},function(Ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function n(){(this||be).constructor=Ae}Se(Ae,we),Ae.prototype=null===we?Object.create(we):(n.prototype=we.prototype,new n)}),Te=(this||be)&&(this||be).__values||function(be){var Ae="function"==typeof Symbol&&Symbol.iterator,we=Ae&&be[Ae],xe=0;if(we)return we.call(be);if(be&&"number"==typeof be.length)return{next:function(){return{value:(be=be&&xe>=be.length?void 0:be)&&be[xe++],done:!be}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")},Ee=Ae("./lib/dom"),Re=(Ae("./lib/event"),Ae("./range").Range),_e=Ae("./lib/scroll").preventParentScroll,$e="ace_tooltip";Ae=(c.prototype.$init=function(){return(this||be).$element=Ee.createElement("div"),(this||be).$element.className=$e,(this||be).$element.style.display="none",(this||be).$parentNode.appendChild((this||be).$element),(this||be).$element},c.prototype.getElement=function(){return(this||be).$element||this.$init()},c.prototype.setText=function(be){this.getElement().textContent=be},c.prototype.setHtml=function(be){this.getElement().innerHTML=be},c.prototype.setPosition=function(be,Ae){this.getElement().style.left=be+"px",this.getElement().style.top=Ae+"px"},c.prototype.setClassName=function(be){Ee.addCssClass(this.getElement(),be)},c.prototype.setTheme=function(Ae){(this||be).$element.className=$e+" "+(Ae.isDark?"ace_dark ":"")+(Ae.cssClass||"")},c.prototype.show=function(Ae,we,xe){null!=Ae&&this.setText(Ae),null!=we&&null!=xe&&this.setPosition(we,xe),(this||be).isOpen||(this.getElement().style.display="block",(this||be).isOpen=!0)},c.prototype.hide=function(Ae){(this||be).isOpen&&(this.getElement().style.display="none",this.getElement().className=$e,(this||be).isOpen=!1)},c.prototype.getHeight=function(){return this.getElement().offsetHeight},c.prototype.getWidth=function(){return this.getElement().offsetWidth},c.prototype.destroy=function(){(this||be).isOpen=!1,(this||be).$element&&(this||be).$element.parentNode&&(this||be).$element.parentNode.removeChild((this||be).$element)},c);function c(Ae){(this||be).isOpen=!1,(this||be).$element=null,(this||be).$parentNode=Ae}function h(){(this||be).popups=[]}h.prototype.addPopup=function(Ae){(this||be).popups.push(Ae),this.updatePopups()},h.prototype.removePopup=function(Ae){Ae=(this||be).popups.indexOf(Ae);-1!==Ae&&((this||be).popups.splice(Ae,1),this.updatePopups())},h.prototype.updatePopups=function(){(this||be).popups.sort((function(be,Ae){return Ae.priority-be.priority}));var Ae,we,xe,Se,ke=[];try{for(var Ee=Te((this||be).popups),Re=Ee.next();!Re.done;Re=Ee.next()){var _e=Re.value,$e=!0;try{xe=void 0;for(var Le=Te(ke),Ne=Le.next();!Ne.done;Ne=Le.next()){var Me=Ne.value;if(this.doPopupsOverlap(Me,_e)){$e=!1;break}}}catch(we){xe={error:we}}finally{try{Ne&&!Ne.done&&(Se=Le.return)&&Se.call(Le)}finally{if(xe)throw xe.error}}$e?ke.push(_e):_e.hide()}}catch(we){Ae={error:we}}finally{try{Re&&!Re.done&&(we=Ee.return)&&we.call(Ee)}finally{if(Ae)throw Ae.error}}},h.prototype.doPopupsOverlap=function(be,Ae){be=be.getElement().getBoundingClientRect(),Ae=Ae.getElement().getBoundingClientRect();return be.left<Ae.right&&be.right>Ae.left&&be.top<Ae.bottom&&be.bottom>Ae.top};var Le,Ne=new h;ke=(we.popupManager=Ne,we.Tooltip=Ae,ke(p,Le=Ae),p.prototype.addToEditor=function(Ae){Ae.on("mousemove",(this||be).onMouseMove),Ae.on("mousedown",(this||be).hide),Ae.renderer.getMouseEventTarget().addEventListener("mouseout",(this||be).onMouseOut,!0)},p.prototype.removeFromEditor=function(Ae){Ae.off("mousemove",(this||be).onMouseMove),Ae.off("mousedown",(this||be).hide),Ae.renderer.getMouseEventTarget().removeEventListener("mouseout",(this||be).onMouseOut,!0),(this||be).timeout&&(clearTimeout((this||be).timeout),(this||be).timeout=null)},p.prototype.onMouseMove=function(Ae,we){(this||be).lastEvent=Ae,(this||be).lastT=Date.now();var xe;we=we.$mouseHandler.isMousePressed;(this||be).isOpen&&(xe=(this||be).lastEvent&&(this||be).lastEvent.getDocumentPosition(),(this||be).range&&(this||be).range.contains(xe.row,xe.column)&&!we&&!this.isOutsideOfText((this||be).lastEvent)||this.hide()),(this||be).timeout||we||((this||be).lastEvent=Ae,(this||be).timeout=setTimeout((this||be).waitForHover,(this||be).idleTime))},p.prototype.waitForHover=function(){(this||be).timeout&&clearTimeout((this||be).timeout);var Ae=Date.now()-(this||be).lastT;10<(this||be).idleTime-Ae?(this||be).timeout=setTimeout((this||be).waitForHover,(this||be).idleTime-Ae):((this||be).timeout=null,(this||be).lastEvent&&!this.isOutsideOfText((this||be).lastEvent)&&this.$gatherData((this||be).lastEvent,(this||be).lastEvent.editor))},p.prototype.isOutsideOfText=function(be){var Ae=be.editor,we=be.getDocumentPosition(),xe=Ae.session.getLine(we.row);if(we.column==xe.length){xe=Ae.renderer.pixelToScreenCoordinates(be.clientX,be.clientY),be=Ae.session.documentToScreenPosition(we.row,we.column);if(be.column!=xe.column||be.row!=xe.row)return!0}return!1},p.prototype.setDataProvider=function(Ae){(this||be).$gatherData=Ae},p.prototype.showForRange=function(Ae,we,xe,Se){var ke,Te,Ee;Se&&Se!=(this||be).lastEvent||(this||be).isOpen&&document.activeElement==this.getElement()||(Se=Ae.renderer,(this||be).isOpen||(Ne.addPopup(this||be),this.$registerCloseEvents(),this.setTheme(Se.theme)),(this||be).isOpen=!0,this.addMarker(we,Ae.session),(this||be).range=Re.fromPoints(we.start,we.end),Ae=Se.textToScreenCoordinates(we.start.row,we.start.column),we=Se.scroller.getBoundingClientRect(),Ae.pageX<we.left&&(Ae.pageX=we.left),(we=this.getElement()).innerHTML="",we.appendChild(xe),we.style.maxHeight="",we.style.display="block",xe=we.clientHeight,ke=we.clientWidth,Te=window.innerHeight-Ae.pageY-Se.lineHeight,Ee=!0,Ae.pageY-xe<0&&Ae.pageY<Te&&(Ee=!1),we.style.maxHeight=(Ee?Ae.pageY:Te)-10+"px",we.style.top=Ee?"":Ae.pageY+Se.lineHeight+"px",we.style.bottom=Ee?window.innerHeight-Ae.pageY+"px":"",we.style.left=Math.min(Ae.pageX,window.innerWidth-ke-10)+"px")},p.prototype.addMarker=function(Ae,we){(this||be).marker&&(this||be).$markerSession.removeMarker((this||be).marker),(this||be).$markerSession=we,(this||be).marker=we&&we.addMarker(Ae,"ace_highlight-marker","text")},p.prototype.hide=function(Ae){!Ae&&document.activeElement==this.getElement()||Ae&&Ae.target&&("keydown"!=Ae.type||Ae.ctrlKey||Ae.metaKey)&&(this||be).$element.contains(Ae.target)||((this||be).lastEvent=null,(this||be).timeout&&clearTimeout((this||be).timeout),(this||be).timeout=null,this.addMarker(null),(this||be).isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",(this||be).isOpen=!1,Ne.removePopup(this||be)))},p.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",(this||be).hide,!0),window.addEventListener("wheel",(this||be).hide,!0),window.addEventListener("mousedown",(this||be).hide,!0)},p.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",(this||be).hide,!0),window.removeEventListener("wheel",(this||be).hide,!0),window.removeEventListener("mousedown",(this||be).hide,!0)},p.prototype.onMouseOut=function(Ae){(this||be).timeout&&(clearTimeout((this||be).timeout),(this||be).timeout=null),(this||be).lastEvent=null,!(this||be).isOpen||!Ae.relatedTarget||this.getElement().contains(Ae.relatedTarget)||Ae&&Ae.currentTarget.contains(Ae.relatedTarget)||Ae.relatedTarget.classList.contains("ace_content")||this.hide()},p);function p(Ae){void 0===Ae&&(Ae=document.body);Ae=Le.call(this||be,Ae)||this||be;var we=(Ae.timeout=void 0,Ae.lastT=0,Ae.idleTime=350,Ae.lastEvent=void 0,Ae.onMouseOut=Ae.onMouseOut.bind(Ae),Ae.onMouseMove=Ae.onMouseMove.bind(Ae),Ae.waitForHover=Ae.waitForHover.bind(Ae),Ae.hide=Ae.hide.bind(Ae),Ae.getElement());return we.style.whiteSpace="pre-wrap",we.style.pointerEvents="auto",we.addEventListener("mouseout",Ae.onMouseOut),we.tabIndex=-1,we.addEventListener("blur",function(){we.contains(document.activeElement)||this.hide()}.bind(Ae)),we.addEventListener("wheel",_e),Ae}we.HoverTooltip=ke})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],(function(Ae,we,xe){var Se,ke=(this||be)&&(this||be).__extends||(Se=function(be,Ae){return(Se=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,Ae){be.__proto__=Ae}:function(be,Ae){for(var we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(be[we]=Ae[we])}))(be,Ae)},function(Ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function n(){(this||be).constructor=Ae}Se(Ae,we),Ae.prototype=null===we?Object.create(we):(n.prototype=we.prototype,new n)}),Te=(this||be)&&(this||be).__values||function(be){var Ae="function"==typeof Symbol&&Symbol.iterator,we=Ae&&be[Ae],xe=0;if(we)return we.call(be);if(be&&"number"==typeof be.length)return{next:function(){return{value:(be=be&&xe>=be.length?void 0:be)&&be[xe++],done:!be}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")},Ee=Ae("../lib/dom"),Re=Ae("../lib/event"),_e=Ae("../tooltip").Tooltip,$e=Ae("../config").nls;we.GutterHandler=function(be){var Ae,we,xe=be.editor,Se=xe.renderer.$gutterLayer,ke=new Ne(xe);function c(){Ae=Ae&&clearTimeout(Ae),ke.isOpen&&(ke.hideTooltip(),xe.off("mousewheel",c))}function h(be){ke.setPosition(be.x,be.y)}be.editor.setDefaultHandler("guttermousedown",(function(Ae){if(xe.isFocused()&&0==Ae.getButton()){var we=Se.getRegion(Ae);if("foldWidgets"!=we){we=Ae.getDocumentPosition().row;var ke=xe.session.selection;if(Ae.getShiftKey())ke.selectTo(we,0);else{if(2==Ae.domEvent.detail)return xe.selectAll(),Ae.preventDefault();be.$clickSelection=xe.selection.getLineRange(we)}return be.setState("selectByLines"),be.captureMouse(Ae),Ae.preventDefault()}}})),be.editor.setDefaultHandler("guttermousemove",(function(Te){var Re=Te.domEvent.target||Te.domEvent.srcElement;if(Ee.hasCssClass(Re,"ace_fold-widget"))return c();ke.isOpen&&be.$tooltipFollowsMouse&&h(Te),we=Te,Ae=Ae||setTimeout((function(){if(Ae=null,we&&!be.isMousePressed){var Te=we.getDocumentPosition().row;if(Te==xe.session.getLength()){var Ee=xe.renderer.pixelToScreenCoordinates(0,we.y).row,Re=we.$pos;if(Ee>xe.session.documentToScreenRow(Re.row,Re.column))return void c()}ke.showTooltip(Te),ke.isOpen&&(xe.on("mousewheel",c),!be.$tooltipFollowsMouse&&(Ee=we.getGutterRow(),Re=Se.$lines.get(Ee))?(Te=Re.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),(Ee=ke.getElement().style).left=Te.right+"px",Ee.top=Te.bottom+"px"):h(we))}else c()}),50)})),Re.addListener(xe.renderer.$gutter,"mouseout",(function(be){we=null,ke.isOpen&&(Ae=Ae||setTimeout((function(){Ae=null,c()}),50))}),xe),xe.on("changeSession",c),xe.on("input",c)};ke(p,Le=_e),p.prototype.setPosition=function(Ae,we){var xe=window.innerWidth||document.documentElement.clientWidth,Se=window.innerHeight||document.documentElement.clientHeight,ke=this.getWidth(),Te=this.getHeight();xe<(Ae+=15)+ke&&(Ae-=Ae+ke-xe),Se<(we+=15)+Te&&(we-=20+Te),_e.prototype.setPosition.call(this||be,Ae,we)},Object.defineProperty(p,"annotationLabels",{get:function(){return{error:{singular:$e("gutter-tooltip.aria-label.error.singular","error"),plural:$e("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:$e("gutter-tooltip.aria-label.warning.singular","warning"),plural:$e("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:$e("gutter-tooltip.aria-label.info.singular","information message"),plural:$e("gutter-tooltip.aria-label.info.plural","information messages")}}},enumerable:!1,configurable:!0}),p.prototype.showTooltip=function(Ae){var we=(this||be).editor.renderer.$gutterLayer,xe=we.$annotations[Ae],Se=xe?{text:Array.from(xe.text),type:Array.from(xe.type)}:{text:[],type:[]},ke=we.session.getFoldLine(Ae);if(ke&&we.$showFoldedAnnotations){for(var Te,Ee={error:[],warning:[],info:[]},Re=Ae+1;Re<=ke.end.row;Re++)if(we.$annotations[Re])for(var _e=0;_e<we.$annotations[Re].text.length;_e++){var $e=we.$annotations[Re].type[_e];Ee[$e].push(we.$annotations[Re].text[_e]),"error"===$e?Te="error_fold":"warning"===$e&&(Te="warning_fold")}"error_fold"!==Te&&"warning_fold"!==Te||(xe="".concat(p.annotationsToSummaryString(Ee)," in folded code."),Se.text.push(xe),Se.type.push(Te))}if(0===Se.text.length)return this.hide();var Le={error:[],warning:[],info:[]},Ne=we.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(Re=0;Re<Se.text.length;Re++){var Me="<span class='ace_".concat(Se.type[Re]," ").concat(Ne,"' aria-label='").concat(p.annotationLabels[Se.type[Re].replace("_fold","")].singular,"' role=img> </span> ").concat(Se.text[Re]);Le[Se.type[Re].replace("_fold","")].push(Me)}Ae=[].concat(Le.error,Le.warning,Le.info).join("<br>");this.setHtml(Ae),(this||be).$element.setAttribute("aria-live","polite"),(this||be).isOpen||(this.setTheme((this||be).editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),(this||be).editor._signal("showGutterTooltip",this||be)},p.prototype.hideTooltip=function(){(this||be).$element.removeAttribute("aria-live"),this.hide(),(this||be).editor._signal("hideGutterTooltip",this||be)},p.annotationsToSummaryString=function(be){var Ae,we,xe=[];try{for(var Se=Te(["error","warning","info"]),ke=Se.next();!ke.done;ke=Se.next()){var Ee,Re=ke.value;be[Re].length&&(Ee=1===be[Re].length?p.annotationLabels[Re].singular:p.annotationLabels[Re].plural,xe.push("".concat(be[Re].length," ").concat(Ee)))}}catch(be){Ae={error:be}}finally{try{ke&&!ke.done&&(we=Se.return)&&we.call(Se)}finally{if(Ae)throw Ae.error}}return xe.join(", ")};var Le,Ne=p;function p(Ae){var we=Le.call(this||be,Ae.container)||this||be;return we.editor=Ae,we}we.GutterTooltip=Ne})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(Ae,we,xe){var Se=Ae("../lib/event"),ke=Ae("../lib/useragent");function r(Ae,we){(this||be).speed,(this||be).wheelX,(this||be).wheelY,(this||be).domEvent=Ae,(this||be).editor=we,(this||be).x=(this||be).clientX=Ae.clientX,(this||be).y=(this||be).clientY=Ae.clientY,(this||be).$pos=null,(this||be).$inSelection=null,(this||be).propagationStopped=!1,(this||be).defaultPrevented=!1}r.prototype.stopPropagation=function(){Se.stopPropagation((this||be).domEvent),(this||be).propagationStopped=!0},r.prototype.preventDefault=function(){Se.preventDefault((this||be).domEvent),(this||be).defaultPrevented=!0},r.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},r.prototype.getDocumentPosition=function(){return(this||be).$pos||((this||be).$pos=(this||be).editor.renderer.screenToTextCoordinates((this||be).clientX,(this||be).clientY)),(this||be).$pos},r.prototype.getGutterRow=function(){var Ae=this.getDocumentPosition().row;return(this||be).editor.session.documentToScreenRow(Ae,0)-(this||be).editor.session.documentToScreenRow((this||be).editor.renderer.$gutterLayer.$lines.get(0).row,0)},r.prototype.inSelection=function(){var Ae,we;return null===(this||be).$inSelection&&((Ae=(this||be).editor.getSelectionRange()).isEmpty()?(this||be).$inSelection=!1:(we=this.getDocumentPosition(),(this||be).$inSelection=Ae.contains(we.row,we.column))),(this||be).$inSelection},r.prototype.getButton=function(){return Se.getButton((this||be).domEvent)},r.prototype.getShiftKey=function(){return(this||be).domEvent.shiftKey},r.prototype.getAccelKey=function(){return ke.isMac?(this||be).domEvent.metaKey:(this||be).domEvent.ctrlKey},we.MouseEvent=r})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(Ae,we,xe){var Se=Ae("../lib/dom"),ke=Ae("../lib/event"),Te=Ae("../lib/useragent");function i(Ae){var we,xe,Ee,Re,_e,$e,Le,Ne,Me,Be,We,Pe=Ae.editor,He=Se.createElement("div"),Ge=(He.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",He.textContent=" ",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(we){Ae[we]=(this||be)[we]}),this||be),Pe.on("mousedown",(this||be).onMouseDown.bind(Ae)),Pe.container),Fe=0;function f(){var be,Ae,we,Se,ke,Te,Re,_e,Le=$e;$e=Pe.renderer.screenToTextCoordinates(xe,Ee),we=$e,Ae=Le,Se=Date.now(),be=!Ae||we.row!=Ae.row,Ae=!Ae||we.column!=Ae.column,!Be||be||Ae?(Pe.moveCursorToPosition(we),Be=Se,We={x:xe,y:Ee}):5<k(We.x,We.y,xe,Ee)?Be=null:200<=Se-Be&&(Pe.renderer.scrollCursorIntoView(),Be=null),be=$e,Ae=Le,we=Date.now(),Se=Pe.renderer.layerConfig.lineHeight,Le=Pe.renderer.layerConfig.characterWidth,ke=Pe.renderer.scroller.getBoundingClientRect(),ke={x:{left:xe-ke.left,right:ke.right-xe},y:{top:Ee-ke.top,bottom:ke.bottom-Ee}},Te=Math.min(ke.x.left,ke.x.right),Re=Math.min(ke.y.top,ke.y.bottom),_e={row:be.row,column:be.column},Te/Le<=2&&(_e.column+=ke.x.left<ke.x.right?-3:2),Re/Se<=1&&(_e.row+=ke.y.top<ke.y.bottom?-1:1),Te=be.row!=_e.row,Le=be.column!=_e.column,Re=!Ae||be.row!=Ae.row,Te||Le&&!Re?Me?200<=we-Me&&Pe.renderer.scrollCursorIntoView(_e):Me=we:Me=null}function C(){_e=Pe.selection.toOrientedRange(),we=Pe.session.addMarker(_e,"ace_selection",Pe.getSelectionStyle()),Pe.clearSelection(),Pe.isFocused()&&Pe.renderer.$cursorLayer.setBlinking(!1),clearInterval(Re),f(),Re=setInterval(f,20),Fe=0,ke.addListener(document,"mousemove",I)}function y(){clearInterval(Re),Pe.session.removeMarker(we),we=null,Pe.selection.fromOrientedRange(_e),Pe.isFocused()&&!Ne&&Pe.$resetCursorStyle(),Fe=0,Be=Me=$e=_e=null,ke.removeListener(document,"mousemove",I)}(this||be).onDragStart=function(Ae){var we;if((this||be).cancelDrag||!Ge.draggable)return we=this||be,setTimeout((function(){we.startSelect(),we.captureMouse(Ae)}),0),Ae.preventDefault();_e=Pe.getSelectionRange();var xe=Ae.dataTransfer;xe.effectAllowed=Pe.getReadOnly()?"copy":"copyMove",Pe.container.appendChild(He),xe.setDragImage&&xe.setDragImage(He,0,0),setTimeout((function(){Pe.container.removeChild(He)})),xe.clearData(),xe.setData("Text",Pe.session.getTextRange()),Ne=!0,this.setState("drag")},(this||be).onDragEnd=function(Ae){Ge.draggable=!1,Ne=!1,this.setState(null),Pe.getReadOnly()||(Ae=Ae.dataTransfer.dropEffect,Le||"move"!=Ae||Pe.session.remove(Pe.getSelectionRange()),Pe.$resetCursorStyle()),(this||be).editor.unsetStyle("ace_dragging"),(this||be).editor.renderer.setCursorStyle("")},(this||be).onDragEnter=function(be){if(!Pe.getReadOnly()&&b(be.dataTransfer))return xe=be.clientX,Ee=be.clientY,we||C(),Fe++,be.dataTransfer.dropEffect=Le=A(be),ke.preventDefault(be)},(this||be).onDragOver=function(be){if(!Pe.getReadOnly()&&b(be.dataTransfer))return xe=be.clientX,Ee=be.clientY,we||(C(),Fe++),null!==Oe&&(Oe=null),be.dataTransfer.dropEffect=Le=A(be),ke.preventDefault(be)},(this||be).onDragLeave=function(be){if(--Fe<=0&&we)return y(),Le=null,ke.preventDefault(be)},(this||be).onDrop=function(be){if($e){var Ae=be.dataTransfer;if(Ne)switch(Le){case"move":_e=_e.contains($e.row,$e.column)?{start:$e,end:$e}:Pe.moveText(_e,$e);break;case"copy":_e=Pe.moveText(_e,$e,!0)}else{Ae=Ae.getData("Text");_e={start:$e,end:Pe.session.insert($e,Ae)},Pe.focus(),Le=null}return y(),ke.preventDefault(be)}},ke.addListener(Ge,"dragstart",(this||be).onDragStart.bind(Ae),Pe),ke.addListener(Ge,"dragend",(this||be).onDragEnd.bind(Ae),Pe),ke.addListener(Ge,"dragenter",(this||be).onDragEnter.bind(Ae),Pe),ke.addListener(Ge,"dragover",(this||be).onDragOver.bind(Ae),Pe),ke.addListener(Ge,"dragleave",(this||be).onDragLeave.bind(Ae),Pe),ke.addListener(Ge,"drop",(this||be).onDrop.bind(Ae),Pe);var Oe=null;function I(){null==Oe&&(Oe=setTimeout((function(){null!=Oe&&we&&y()}),20))}function b(be){be=be.types;return!be||Array.prototype.some.call(be,(function(be){return"text/plain"==be||"Text"==be}))}function A(be){var Ae=["copy","copymove","all","uninitialized"],we=Te.isMac?be.altKey:be.ctrlKey,xe="uninitialized";try{xe=be.dataTransfer.effectAllowed.toLowerCase()}catch(be){}var Se="none";return we&&0<=Ae.indexOf(xe)?Se="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(xe)?Se="move":0<=Ae.indexOf(xe)&&(Se="copy"),Se}}function k(be,Ae,we,xe){return Math.sqrt(Math.pow(we-be,2)+Math.pow(xe-Ae,2))}!function(){(this||be).dragWait=function(){Date.now()-(this||be).mousedownEvent.time>(this||be).editor.getDragDelay()&&this.startDrag()},(this||be).dragWaitEnd=function(){(this||be).editor.container.draggable=!1,this.startSelect((this||be).mousedownEvent.getDocumentPosition()),this.selectEnd()},(this||be).dragReadyEnd=function(Ae){(this||be).editor.$resetCursorStyle(),(this||be).editor.unsetStyle("ace_dragging"),(this||be).editor.renderer.setCursorStyle(""),this.dragWaitEnd()},(this||be).startDrag=function(){(this||be).cancelDrag=!1;var Ae=(this||be).editor,we=(Ae.container.draggable=!0,Ae.renderer.$cursorLayer.setBlinking(!1),Ae.setStyle("ace_dragging"),Te.isWin?"default":"move");Ae.renderer.setCursorStyle(we),this.setState("dragReady")},(this||be).onMouseDrag=function(Ae){var we=(this||be).editor.container;Te.isIE&&"dragReady"==(this||be).state&&3<k((this||be).mousedownEvent.x,(this||be).mousedownEvent.y,(this||be).x,(this||be).y)&&we.dragDrop(),"dragWait"===(this||be).state&&0<k((this||be).mousedownEvent.x,(this||be).mousedownEvent.y,(this||be).x,(this||be).y)&&(we.draggable=!1,this.startSelect((this||be).mousedownEvent.getDocumentPosition()))},(this||be).onMouseDown=function(Ae){var we,xe,Se;(this||be).$dragEnabled&&((this||be).mousedownEvent=Ae,we=(this||be).editor,xe=Ae.inSelection(),Se=Ae.getButton(),1!==(Ae.domEvent.detail||1)||0!==Se||!xe||Ae.editor.inMultiSelectMode&&(Ae.getAccelKey()||Ae.getShiftKey())||((this||be).mousedownEvent.time=Date.now(),"unselectable"in(Se=Ae.domEvent.target||Ae.domEvent.srcElement)&&(Se.unselectable="on"),we.getDragDelay()?(Te.isWebKit&&((this||be).cancelDrag=!0,we.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(Ae,(this||be).onMouseDrag.bind(this||be)),Ae.defaultPrevented=!0))}}.call(i.prototype),we.DragdropHandler=i})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(be,Ae,we){var xe=be("./mouse_event").MouseEvent,Se=be("../lib/event"),ke=be("../lib/dom");Ae.addTouchListeners=function(be,Ae){var we,Te,Ee,Re,_e,$e,Le,Ne,Me,Be="scroll",We=0,Pe=0,He=0,Ge=0;function o(){function t(xe){var Se,Te=xe.target.getAttribute("action");"more"!=Te&&we?("paste"==Te?be.readText().then((function(be){Ae.execCommand(Te,be)})):Te&&("cut"!=Te&&"copy"!=Te||(be?be.writeText(Ae.getCopyText()):document.execCommand("copy")),Ae.execCommand(Te)),Me.firstChild.style.display="none",we=!1,"openCommandPalette"!=Te&&Ae.focus()):(we=!we,xe=Ae.getCopyText(),Se=Ae.session.getUndoManager().hasUndo(),Me.replaceChild(ke.buildDom(we?["span",!xe&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],xe&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],xe&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],be&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],Se&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),Me.firstChild))}var be=window.navigator&&window.navigator.clipboard,we=!1;Me=ke.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(be){Be="menu",be.stopPropagation(),be.preventDefault(),Ae.textInput.focus()},ontouchend:function(be){be.stopPropagation(),be.preventDefault(),t(be)},onclick:t},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],Ae.container)}function n(){Me||o();var be=Ae.selection.cursor,we=(be=Ae.renderer.textToScreenCoordinates(be.row,be.column),Ae.renderer.textToScreenCoordinates(0,0).pageX),xe=Ae.renderer.scrollLeft,Se=Ae.container.getBoundingClientRect();Me.style.top=be.pageY-Se.top-3+"px",be.pageX-Se.left<Se.width-70?(Me.style.left="",Me.style.right="10px"):(Me.style.right="",Me.style.left=we+xe-Se.left+"px"),Me.style.display="",Me.firstChild.style.display="none",Ae.on("input",s)}function s(be){Me&&(Me.style.display="none"),Ae.off("input",s)}function w(){_e=null,clearTimeout(_e);var be=Ae.selection.getRange(),we=be.contains(Le.row,Le.column);!be.isEmpty()&&we||(Ae.selection.moveToPosition(Le),Ae.selection.selectWord()),Be="wait",n()}Se.addListener(be,"contextmenu",(function(be){Ne&&Ae.textInput.getElement().focus()}),Ae),Se.addListener(be,"touchstart",(function(be){var Se=be.touches;if(_e||1<Se.length)clearTimeout(_e),_e=null,Ee=-1,Be="zoom";else{Ne=Ae.$mouseHandler.isMousePressed=!0;var ke=Ae.renderer.layerConfig.lineHeight,$e=Ae.renderer.layerConfig.lineHeight,Me=be.timeStamp,Fe=(Re=Me,Se[0]),Oe=Fe.clientX;Fe=Fe.clientY,Oe=(Math.abs(we-Oe)+Math.abs(Te-Fe)>ke&&(Ee=-1),we=be.clientX=Oe,Te=be.clientY=Fe,He=Ge=0,new xe(be,Ae));if(Le=Oe.getDocumentPosition(),Me-Ee<500&&1==Se.length&&!We)Pe++,be.preventDefault(),be.button=0,_e=null,clearTimeout(_e),Ae.selection.moveToPosition(Le),(Fe=2<=Pe?Ae.selection.getLineRange(Le.row):Ae.session.getBracketRange(Le))&&!Fe.isEmpty()?Ae.selection.setRange(Fe):Ae.selection.selectWord(),Be="wait";else{Pe=0;Oe=Ae.selection.cursor,Se=Ae.selection.isEmpty()?Oe:Ae.selection.anchor,Fe=Ae.renderer.$cursorLayer.getPixelPosition(Oe,!0),Oe=Ae.renderer.$cursorLayer.getPixelPosition(Se,!0),Se=Ae.renderer.scroller.getBoundingClientRect();var Ve=Ae.renderer.layerConfig.offset,Ze=Ae.renderer.scrollLeft,c=function(be,Ae){return(be/=$e)*be+(Ae=Ae/ke-.75)*Ae};if(be.clientX<Se.left)return void(Be="zoom");Fe=c(be.clientX-Se.left-Fe.left+Ze,be.clientY-Se.top-Fe.top+Ve),c=c(be.clientX-Se.left-Oe.left+Ze,be.clientY-Se.top-Oe.top+Ve);Fe<3.5&&c<3.5&&(Be=c<Fe?"cursor":"anchor"),Be=c<3.5?"anchor":Fe<3.5?"cursor":"scroll",_e=setTimeout(w,450)}Ee=Me}}),Ae),Se.addListener(be,"touchend",(function(be){Ne=Ae.$mouseHandler.isMousePressed=!1,$e&&clearInterval($e),"zoom"==Be?(Be="",We=0):(_e?(Ae.selection.moveToPosition(Le),We=0,n):"scroll"==Be?(We+=60,$e=setInterval((function(){We--<=0&&(clearInterval($e),$e=null),Math.abs(He)<.01&&(He=0),Math.abs(Ge)<.01&&(Ge=0),We<20&&(He*=.9),We<20&&(Ge*=.9);var be=Ae.session.getScrollTop();Ae.renderer.scrollBy(10*He,10*Ge),be==Ae.session.getScrollTop()&&(We=0)}),10),s):n)(),clearTimeout(_e),_e=null}),Ae),Se.addListener(be,"touchmove",(function(be){_e&&(clearTimeout(_e),_e=null);var Se=be.touches;if(!(1<Se.length||"zoom"==Be)){Se=Se[0];var ke=we-Se.clientX,Ee=Te-Se.clientY;if("wait"==Be){if(!(4<ke*ke+Ee*Ee))return be.preventDefault();Be="cursor"}we=Se.clientX,Te=Se.clientY,be.clientX=Se.clientX,be.clientY=Se.clientY;Se=be.timeStamp;var $e=Se-Re;Re=Se,"scroll"==Be?((Se=new xe(be,Ae)).speed=1,Se.wheelX=ke,Se.wheelY=Ee,10*Math.abs(ke)<Math.abs(Ee)&&(ke=0),10*Math.abs(Ee)<Math.abs(ke)&&(Ee=0),0!=$e&&(He=ke/$e,Ge=Ee/$e),Ae._emit("mousewheel",Se),Se.propagationStopped||(He=Ge=0)):(ke=new xe(be,Ae).getDocumentPosition(),"cursor"==Be?Ae.selection.moveCursorToPosition(ke):"anchor"==Be&&Ae.selection.setSelectionAnchor(ke.row,ke.column),Ae.renderer.scrollCursorIntoView(ke),be.preventDefault())}}),Ae)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(Ae,we,xe){var Se=Ae("../lib/event"),ke=Ae("../lib/useragent"),Te=Ae("./default_handlers").DefaultHandlers,Ee=Ae("./default_gutter_handler").GutterHandler,Re=Ae("./mouse_event").MouseEvent,_e=Ae("./dragdrop_handler").DragdropHandler,$e=Ae("./touch_handler").addTouchListeners,Le=(Ae=Ae("../config"),o.prototype.onMouseEvent=function(Ae,we){(this||be).editor.session&&(this||be).editor._emit(Ae,new Re(we,(this||be).editor))},o.prototype.onMouseMove=function(Ae,we){var xe=(this||be).editor._eventRegistry&&(this||be).editor._eventRegistry.mousemove;xe&&xe.length&&(this||be).editor._emit(Ae,new Re(we,(this||be).editor))},o.prototype.onMouseWheel=function(Ae,we){var xe=new Re(we,(this||be).editor);xe.speed=2*(this||be).$scrollSpeed,xe.wheelX=we.wheelX,xe.wheelY=we.wheelY,(this||be).editor._emit(Ae,xe)},o.prototype.setState=function(Ae){(this||be).state=Ae},o.prototype.captureMouse=function(Ae,we){(this||be).x=Ae.x,(this||be).y=Ae.y,(this||be).isMousePressed=!0;function n(be){if(be){if(ke.isWebKit&&!be.which&&Ee.releaseMouse)return Ee.releaseMouse();Ee.x=be.clientX,Ee.y=be.clientY,we&&we(be),Ee.mouseEvent=new Re(be,Ee.editor),Ee.$mouseMoved=!0}}function i(be){xe.off("beforeEndOperation",l),clearInterval(_e),xe.session&&o(),Ee[Ee.state+"End"]&&Ee[Ee.state+"End"](be),Ee.state="",Ee.isMousePressed=Te.$isMousePressed=!1,Te.$keepTextAreaAtCursor&&Te.$moveTextAreaToCursor(),Ee.$onCaptureMouseMove=Ee.releaseMouse=null,be&&Ee.onMouseEvent("mouseup",be),xe.endOperation()}function o(){Ee[Ee.state]&&Ee[Ee.state](),Ee.$mouseMoved=!1}var xe=(this||be).editor,Te=(this||be).editor.renderer,Ee=(Te.$isMousePressed=!0,this||be);if(ke.isOldIE&&"dblclick"==Ae.domEvent.type)return setTimeout((function(){i(Ae)}));var l=function(be){Ee.releaseMouse&&xe.curOp.command.name&&xe.curOp.selectionChanged&&(Ee[Ee.state+"End"]&&Ee[Ee.state+"End"](),Ee.state="",Ee.releaseMouse())},_e=(xe.on("beforeEndOperation",l),xe.startOperation({command:{name:"mouse"}}),Ee.$onCaptureMouseMove=n,Ee.releaseMouse=Se.capture((this||be).editor.container,n,i),setInterval(o,20))},o.prototype.cancelContextMenu=function(){var Ae=function(we){we&&we.domEvent&&"contextmenu"!=we.domEvent.type||((this||be).editor.off("nativecontextmenu",Ae),we&&we.domEvent&&Se.stopEvent(we.domEvent))}.bind(this||be);setTimeout(Ae,10),(this||be).editor.on("nativecontextmenu",Ae)},o.prototype.destroy=function(){(this||be).releaseMouse&&this.releaseMouse()},o);function o(Ae){(this||be).$dragDelay,(this||be).$dragEnabled,(this||be).$mouseMoved,(this||be).mouseEvent,(this||be).$focusTimeout;function e(be){document.hasFocus&&document.hasFocus()&&(Ae.isFocused()||document.activeElement!=(Ae.textInput&&Ae.textInput.getElement()))||window.focus(),Ae.focus(),setTimeout((function(){Ae.isFocused()||Ae.focus()}))}var we=this||be,xe=((this||be).editor=Ae,new Te(this||be),new Ee(this||be),new _e(this||be),Ae.renderer.getMouseEventTarget()),Re=(Se.addListener(xe,"click",(this||be).onMouseEvent.bind(this||be,"click"),Ae),Se.addListener(xe,"mousemove",(this||be).onMouseMove.bind(this||be,"mousemove"),Ae),Se.addMultiMouseDownListener([xe,Ae.renderer.scrollBarV&&Ae.renderer.scrollBarV.inner,Ae.renderer.scrollBarH&&Ae.renderer.scrollBarH.inner,Ae.textInput&&Ae.textInput.getElement()].filter(Boolean),[400,300,250],this||be,"onMouseEvent",Ae),Se.addMouseWheelListener(Ae.container,(this||be).onMouseWheel.bind(this||be,"mousewheel"),Ae),$e(Ae.container,Ae),Ae.renderer.$gutter);Se.addListener(Re,"mousedown",(this||be).onMouseEvent.bind(this||be,"guttermousedown"),Ae),Se.addListener(Re,"click",(this||be).onMouseEvent.bind(this||be,"gutterclick"),Ae),Se.addListener(Re,"dblclick",(this||be).onMouseEvent.bind(this||be,"gutterdblclick"),Ae),Se.addListener(Re,"mousemove",(this||be).onMouseEvent.bind(this||be,"guttermousemove"),Ae),Se.addListener(xe,"mousedown",e,Ae),Se.addListener(Re,"mousedown",e,Ae),ke.isIE&&Ae.renderer.scrollBarV&&(Se.addListener(Ae.renderer.scrollBarV.element,"mousedown",e,Ae),Se.addListener(Ae.renderer.scrollBarH.element,"mousedown",e,Ae)),Ae.on("mousemove",(function(be){var xe,Se;we.state||we.$dragDelay||!we.$dragEnabled||(be=Ae.renderer.screenToTextCoordinates(be.x,be.y),xe=Ae.session.selection.getRange(),Se=Ae.renderer,!xe.isEmpty()&&xe.insideStart(be.row,be.column)?Se.setCursorStyle("default"):Se.setCursorStyle(""))}),Ae)}Le.prototype.releaseMouse=null,Ae.defineOptions(Le.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:ke.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),we.MouseHandler=Le})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(be,Ae,we){var xe=be("../lib/dom");Ae.FoldHandler=function(be){be.on("click",(function(Ae){var we=Ae.getDocumentPosition(),Se=be.session;we=Se.getFoldAt(we.row,we.column,1),we=(we&&(Ae.getAccelKey()?Se.removeFold(we):Se.expandFold(we),Ae.stop()),Ae.domEvent&&Ae.domEvent.target);we&&xe.hasCssClass(we,"ace_inline_button")&&xe.hasCssClass(we,"ace_toggle_wrap")&&(Se.setOption("wrap",!Se.getUseWrapMode()),be.renderer.scrollCursorIntoView())})),be.on("gutterclick",(function(Ae){var we,xe;"foldWidgets"==be.renderer.$gutterLayer.getRegion(Ae)&&(we=Ae.getDocumentPosition().row,(xe=be.session).foldWidgets&&xe.foldWidgets[we]&&be.session.onFoldWidgetClick(we,Ae),be.isFocused()||be.focus(),Ae.stop())})),be.on("gutterdblclick",(function(Ae){var we,xe,Se;"foldWidgets"==be.renderer.$gutterLayer.getRegion(Ae)&&(Se=Ae.getDocumentPosition().row,(xe=(xe=(we=be.session).getParentFoldRangeData(Se,!0)).range||xe.firstRange)&&(Se=xe.start.row,(Se=we.getFoldAt(Se,we.getLine(Se).length,1))?we.removeFold(Se):(we.addFold("...",xe),be.renderer.scrollCursorIntoView({row:xe.start.row,column:0}))),Ae.stop())}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(Ae,we,xe){var Se=Ae("../lib/keys"),ke=Ae("../lib/event");function i(Ae){(this||be).$editor=Ae,(this||be).$data={editor:Ae},(this||be).$handlers=[],this.setDefaultHandler(Ae.commands)}i.prototype.setDefaultHandler=function(Ae){this.removeKeyboardHandler((this||be).$defaultHandler),(this||be).$defaultHandler=Ae,this.addKeyboardHandler(Ae,0)},i.prototype.setKeyboardHandler=function(Ae){var we=(this||be).$handlers;if(we[we.length-1]!=Ae){for(;we[we.length-1]&&we[we.length-1]!=(this||be).$defaultHandler;)this.removeKeyboardHandler(we[we.length-1]);this.addKeyboardHandler(Ae,1)}},i.prototype.addKeyboardHandler=function(Ae,we){var xe;Ae&&("function"!=typeof Ae||Ae.handleKeyboard||(Ae.handleKeyboard=Ae),-1!=(xe=(this||be).$handlers.indexOf(Ae))&&(this||be).$handlers.splice(xe,1),null==we?(this||be).$handlers.push(Ae):(this||be).$handlers.splice(we,0,Ae),-1==xe)&&Ae.attach&&Ae.attach((this||be).$editor)},i.prototype.removeKeyboardHandler=function(Ae){var we=(this||be).$handlers.indexOf(Ae);return-1!=we&&((this||be).$handlers.splice(we,1),Ae.detach&&Ae.detach((this||be).$editor),!0)},i.prototype.getKeyboardHandler=function(){return(this||be).$handlers[(this||be).$handlers.length-1]},i.prototype.getStatusText=function(){var Ae=(this||be).$data,we=Ae.editor;return(this||be).$handlers.map((function(be){return be.getStatusText&&be.getStatusText(we,Ae)||""})).filter(Boolean).join(" ")},i.prototype.$callKeyboardHandlers=function(Ae,we,xe,Se){for(var Te,Ee=!1,Re=(this||be).$editor.commands,_e=(this||be).$handlers.length;_e--&&!((Te=(this||be).$handlers[_e].handleKeyboard((this||be).$data,Ae,we,xe,Se))&&Te.command&&((Ee="null"==Te.command||Re.exec(Te.command,(this||be).$editor,Te.args,Se))&&Se&&-1!=Ae&&1!=Te.passEvent&&1!=Te.command.passEvent&&ke.stopEvent(Se),Ee)););return Ee||-1!=Ae||(Te={command:"insertstring"},Ee=Re.exec("insertstring",(this||be).$editor,we)),Ee&&(this||be).$editor._signal&&(this||be).$editor._signal("keyboardActivity",Te),Ee},i.prototype.onCommandKey=function(be,Ae,we){var xe=Se.keyCodeToString(we);return this.$callKeyboardHandlers(Ae,xe,we,be)},i.prototype.onTextInput=function(be){return this.$callKeyboardHandlers(-1,be)},we.KeyBinding=i})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(be,Ae,we){var xe=0,Se=0,ke=!1,Te=!1,Ee=!1,Re=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],$e=0,Le=1,Ne=2,Me=3,Be=4,We=5,Pe=6,He=7,Ge=8,Fe=9,Oe=10,Ve=11,Ze=12,De=13,je=14,Ke=15,ze=16,Xe=17,Ye=18,Je=[Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Pe,We,Pe,Ge,We,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,We,We,We,Pe,Ge,Be,Be,Ve,Ve,Ve,Be,Be,Be,Be,Be,Oe,Fe,Oe,Fe,Fe,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Ne,Fe,Be,Be,Be,Be,Be,Be,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,Be,Be,Be,Be,Be,Be,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,$e,Be,Be,Be,Be,Ye,Ye,Ye,Ye,Ye,Ye,We,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Fe,Be,Ve,Ve,Ve,Ve,Be,Be,Be,Be,$e,Be,Be,Ye,Be,Be,Ve,Ve,Ne,Ne,Be,$e,Be,Be,Be,Ne,$e,Be,Be,Be,Be,Be],Ue=[Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ge,Ye,Ye,Ye,$e,Le,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Ge,We,De,je,Ke,ze,Xe,Fe,Ve,Ve,Ve,Ve,Ve,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Fe,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Ge];function c(be,Ae,we,Je){var Ue,Qe,qe,et=xe?_e:Re,tt=0,nt=-1,it=null,ot=null,rt=[];if(!Je)for(it=0,Je=[];it<we;it++)Je[it]=F(be[it]);for(Se=xe,Ee=Te=ke=!1,ot=0;ot<we;ot++){if(qe=tt,rt[ot]=Ue=function(be,Ae,we,Se){var Re,_e,Je,Ue=Ae[Se];switch(Ue){case $e:case Le:ke=!1;case Be:case Me:return Ue;case Ne:return ke?Me:Ne;case He:return ke=!0,Le;case Ge:return Be;case Fe:return Se<1||Se+1>=Ae.length||(Re=we[Se-1])!=Ne&&Re!=Me||(Qe=Ae[Se+1])!=Ne&&Qe!=Me?Be:(Qe=ke?Me:Qe)==Re?Qe:Be;case Oe:return(Re=0<Se?we[Se-1]:We)==Ne&&Se+1<Ae.length&&Ae[Se+1]==Ne?Ne:Be;case Ve:if(0<Se&&we[Se-1]==Ne)return Ne;if(ke)return Be;for(Je=Se+1,_e=Ae.length;Je<_e&&Ae[Je]==Ve;)Je++;return Je<_e&&Ae[Je]==Ne?Ne:Be;case Ze:for(_e=Ae.length,Je=Se+1;Je<_e&&Ae[Je]==Ze;)Je++;if(Je<_e){var Qe=be[Se];Qe=1425<=Qe&&Qe<=2303||64286==Qe;if(Re=Ae[Je],Qe&&(Re==Le||Re==He))return Le}return Se<1||(Re=Ae[Se-1])==We?Be:we[Se-1];case We:return Te=!(ke=!1),xe;case Pe:return Ee=!0,Be;case De:case je:case ze:case Xe:case Ke:ke=!1;case Ye:return Be}}(be,Je,rt,ot),qe=240&(tt=et[qe][Ue]),tt&=15,Ae[ot]=Qe=et[tt][5],0<qe){if(16==qe)for(it=nt;it<ot;it++)Ae[it]=1;nt=-1}if(et[tt][6])-1==nt&&(nt=ot);else if(-1<nt){for(it=nt;it<ot;it++)Ae[it]=Qe;nt=-1}Je[ot]==We&&(Ae[ot]=0),Se|=Qe}if(Ee)for(it=0;it<we;it++)if(Je[it]==Pe){Ae[it]=xe;for(var st=it-1;0<=st&&Je[st]==Ge;st--)Ae[st]=xe}}function h(be,Ae,we){if(!(Se<be))if(1!=be||1!=xe||Te)for(var ke,Ee,Re,_e,$e=we.length,Le=0;Le<$e;){if(Ae[Le]>=be){for(ke=Le+1;ke<$e&&Ae[ke]>=be;)ke++;for(Ee=Le,Re=ke-1;Ee<Re;Ee++,Re--)_e=we[Ee],we[Ee]=we[Re],we[Re]=_e;Le=ke}Le++}else we.reverse()}function F(be){var Ae=be.charCodeAt(0),we=Ae>>8;return 0==we?191<Ae?$e:Je[Ae]:5==we?/[\u0591-\u05f4]/.test(be)?Le:$e:6==we?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(be)?Ze:/[\u0660-\u0669\u066b-\u066c]/.test(be)?Me:1642==Ae?Ve:/[\u06f0-\u06f9]/.test(be)?Ne:He:32==we&&Ae<=8287?Ue[255&Ae]:254==we&&65136<=Ae?He:Be}Ae.L=$e,Ae.R=Le,Ae.EN=Ne,Ae.ON_R=3,Ae.AN=4,Ae.R_H=5,Ae.B=6,Ae.RLE=7,Ae.DOT="·",Ae.doBidiReorder=function(be,we,Se){if(be.length<2)return{};var ke=be.split(""),Te=new Array(ke.length),Ee=new Array(ke.length),Re=[];xe=Se?1:0,c(ke,Re,ke.length,we);for(var _e=0;_e<Te.length;Te[_e]=_e,_e++);h(2,Re,Te),h(1,Re,Te);for(_e=0;_e<Te.length-1;_e++)we[_e]===Me?Re[_e]=Ae.AN:Re[_e]===Le&&(we[_e]>He&&we[_e]<De||we[_e]===Be||we[_e]===Ye)?Re[_e]=Ae.ON_R:0<_e&&"ل"===ke[_e-1]&&/\u0622|\u0623|\u0625|\u0627/.test(ke[_e])&&(Re[_e-1]=Re[_e]=Ae.R_H,_e++);ke[ke.length-1]===Ae.DOT&&(Re[ke.length-1]=Ae.B),"‫"===ke[0]&&(Re[0]=Ae.RLE);for(_e=0;_e<Te.length;_e++)Ee[_e]=Re[Te[_e]];return{logicalFromVisual:Te,bidiLevels:Ee}},Ae.hasBidiCharacters=function(be,Ae){for(var we=!1,xe=0;xe<be.length;xe++)Ae[xe]=F(be.charAt(xe)),we||Ae[xe]!=Le&&Ae[xe]!=He&&Ae[xe]!=Me||(we=!0);return we},Ae.getVisualFromLogicalIdx=function(be,Ae){for(var we=0;we<Ae.logicalFromVisual.length;we++)if(Ae.logicalFromVisual[we]==be)return we;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(Ae,we,xe){var Se=Ae("./lib/bidiutil"),ke=Ae("./lib/lang"),Te=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;function o(Ae){(this||be).session=Ae,(this||be).bidiMap={},(this||be).currentRow=null,(this||be).bidiUtil=Se,(this||be).charWidths=[],(this||be).EOL="¬",(this||be).showInvisibles=!0,(this||be).isRtlDir=!1,(this||be).$isRtl=!1,(this||be).line="",(this||be).wrapIndent=0,(this||be).EOF="¶",(this||be).RLE="‫",(this||be).contentWidth=0,(this||be).fontMetrics=null,(this||be).rtlLineOffset=0,(this||be).wrapOffset=0,(this||be).isMoveLeftOperation=!1,(this||be).seenBidi=Te.test(Ae.getValue())}o.prototype.isBidiRow=function(Ae,we,xe){return!!(this||be).seenBidi&&(Ae!==(this||be).currentRow&&((this||be).currentRow=Ae,this.updateRowLine(we,xe),this.updateBidiMap()),(this||be).bidiMap.bidiLevels)},o.prototype.onChange=function(Ae){(this||be).seenBidi?(this||be).currentRow=null:"insert"==Ae.action&&Te.test(Ae.lines.join("\n"))&&((this||be).seenBidi=!0,(this||be).currentRow=null)},o.prototype.getDocumentRow=function(){var Ae=0,we=(this||be).session.$screenRowCache;return we.length&&0<=(we=(this||be).session.$getRowCacheIndex(we,(this||be).currentRow))?(this||be).session.$docRowCache[we]:Ae},o.prototype.getSplitIndex=function(){var Ae=0,we=(this||be).session.$screenRowCache;if(we.length)for(var xe,Se=(this||be).session.$getRowCacheIndex(we,(this||be).currentRow);0<(this||be).currentRow-Ae&&(xe=(this||be).session.$getRowCacheIndex(we,(this||be).currentRow-Ae-1))===Se;)Se=xe,Ae++;else Ae=(this||be).currentRow;return Ae},o.prototype.updateRowLine=function(Ae,we){var xe,Te=(Ae=void 0===Ae?this.getDocumentRow():Ae)===(this||be).session.getLength()-1?(this||be).EOF:(this||be).EOL,Ee=((this||be).wrapIndent=0,(this||be).line=(this||be).session.getLine(Ae),(this||be).isRtlDir=(this||be).$isRtl||(this||be).line.charAt(0)===(this||be).RLE,(!(this||be).session.$useWrapMode||(Ae=(this||be).session.$wrapData[Ae])&&(0<(we=void 0===we?this.getSplitIndex():we)&&Ae.length?((this||be).wrapIndent=Ae.indent,(this||be).wrapOffset=(this||be).wrapIndent*(this||be).charWidths[Se.L],(this||be).line=we<Ae.length?(this||be).line.substring(Ae[we-1],Ae[we]):(this||be).line.substring(Ae[Ae.length-1])):(this||be).line=(this||be).line.substring(0,Ae[we]),we==Ae.length))&&((this||be).line+=(this||be).showInvisibles?Te:Se.DOT),(this||be).session),Re=0;(this||be).line=(this||be).line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(be,Ae){return"\t"===be||Ee.isFullWidth(be.charCodeAt(0))?(xe="\t"===be?Ee.getScreenTabSize(Ae+Re):2,Re+=xe-1,ke.stringRepeat(Se.DOT,xe)):be})),(this||be).isRtlDir&&((this||be).fontMetrics.$main.textContent=(this||be).line.charAt((this||be).line.length-1)==Se.DOT?(this||be).line.substr(0,(this||be).line.length-1):(this||be).line,(this||be).rtlLineOffset=(this||be).contentWidth-(this||be).fontMetrics.$main.getBoundingClientRect().width)},o.prototype.updateBidiMap=function(){var Ae=[];Se.hasBidiCharacters((this||be).line,Ae)||(this||be).isRtlDir?(this||be).bidiMap=Se.doBidiReorder((this||be).line,Ae,(this||be).isRtlDir):(this||be).bidiMap={}},o.prototype.markAsDirty=function(){(this||be).currentRow=null},o.prototype.updateCharacterWidths=function(Ae){var we;(this||be).characterWidth!==Ae.$characterSize.width&&((this||be).fontMetrics=Ae,we=(this||be).characterWidth=Ae.$characterSize.width,Ae=Ae.$measureCharWidth("ה"),(this||be).charWidths[Se.L]=(this||be).charWidths[Se.EN]=(this||be).charWidths[Se.ON_R]=we,(this||be).charWidths[Se.R]=(this||be).charWidths[Se.AN]=Ae,(this||be).charWidths[Se.R_H]=.45*Ae,(this||be).charWidths[Se.B]=(this||be).charWidths[Se.RLE]=0,(this||be).currentRow=null)},o.prototype.setShowInvisibles=function(Ae){(this||be).showInvisibles=Ae,(this||be).currentRow=null},o.prototype.setEolChar=function(Ae){(this||be).EOL=Ae},o.prototype.setContentWidth=function(Ae){(this||be).contentWidth=Ae},o.prototype.isRtlLine=function(Ae){return!!(this||be).$isRtl||(null!=Ae?(this||be).session.getLine(Ae).charAt(0)==(this||be).RLE:(this||be).isRtlDir)},o.prototype.setRtlDirection=function(be,Ae){for(var we=be.getCursorPosition(),xe=be.selection.getSelectionAnchor().row;xe<=we.row;xe++)Ae||be.session.getLine(xe).charAt(0)!==be.session.$bidiHandler.RLE?Ae&&be.session.getLine(xe).charAt(0)!==be.session.$bidiHandler.RLE&&be.session.doc.insert({column:0,row:xe},be.session.$bidiHandler.RLE):be.session.doc.removeInLine(xe,0,1)},o.prototype.getPosLeft=function(Ae){Ae-=(this||be).wrapIndent;var we=(this||be).line.charAt(0)===(this||be).RLE?1:0,xe=we<Ae?(this||be).session.getOverwrite()?Ae:Ae-1:we,ke=Se.getVisualFromLogicalIdx(xe,(this||be).bidiMap),Te=(this||be).bidiMap.bidiLevels,Ee=0;!(this||be).session.getOverwrite()&&Ae<=we&&Te[ke]%2!=0&&ke++;for(var Re=0;Re<ke;Re++)Ee+=(this||be).charWidths[Te[Re]];return!(this||be).session.getOverwrite()&&we<Ae&&Te[ke]%2==0&&(Ee+=(this||be).charWidths[Te[ke]]),(this||be).wrapIndent&&(Ee+=(this||be).isRtlDir?-1*(this||be).wrapOffset:(this||be).wrapOffset),(this||be).isRtlDir&&(Ee+=(this||be).rtlLineOffset),Ee},o.prototype.getSelections=function(Ae,we){var xe,Se=(this||be).bidiMap,ke=Se.bidiLevels,Te=[],Ee=0,Re=Math.min(Ae,we)-(this||be).wrapIndent,_e=Math.max(Ae,we)-(this||be).wrapIndent,$e=!1,Le=!1,Ne=0;(this||be).wrapIndent&&(Ee+=(this||be).isRtlDir?-1*(this||be).wrapOffset:(this||be).wrapOffset);for(var Me,Be=0;Be<ke.length;Be++)Me=Se.logicalFromVisual[Be],xe=ke[Be],($e=Re<=Me&&Me<_e)&&!Le?Ne=Ee:!$e&&Le&&Te.push({left:Ne,width:Ee-Ne}),Ee+=(this||be).charWidths[xe],Le=$e;if($e&&Be===ke.length&&Te.push({left:Ne,width:Ee-Ne}),(this||be).isRtlDir)for(var We=0;We<Te.length;We++)Te[We].left+=(this||be).rtlLineOffset;return Te},o.prototype.offsetToCol=function(Ae){(this||be).isRtlDir&&(Ae-=(this||be).rtlLineOffset);var we=0,xe=(Ae=Math.max(Ae,0),0),Se=0,ke=(this||be).bidiMap.bidiLevels,Te=(this||be).charWidths[ke[Se]];for((this||be).wrapIndent&&(Ae-=(this||be).isRtlDir?-1*(this||be).wrapOffset:(this||be).wrapOffset);xe+Te/2<Ae;){if(xe+=Te,Se===ke.length-1){Te=0;break}Te=(this||be).charWidths[ke[++Se]]}return 0===(we=0<Se&&ke[Se-1]%2!=0&&ke[Se]%2==0?(Ae<xe&&Se--,(this||be).bidiMap.logicalFromVisual[Se]):0<Se&&ke[Se-1]%2==0&&ke[Se]%2!=0?1+(xe<Ae?(this||be).bidiMap.logicalFromVisual[Se]:(this||be).bidiMap.logicalFromVisual[Se-1]):(this||be).isRtlDir&&Se===ke.length-1&&0===Te&&ke[Se-1]%2==0||!(this||be).isRtlDir&&0===Se&&ke[Se]%2!=0?1+(this||be).bidiMap.logicalFromVisual[Se]:(0<Se&&ke[Se-1]%2!=0&&0!==Te&&Se--,(this||be).bidiMap.logicalFromVisual[Se]))&&(this||be).isRtlDir&&we++,we+(this||be).wrapIndent},we.BidiHandler=o})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(Ae,we,xe){var Se=Ae("./lib/oop"),ke=Ae("./lib/lang"),Te=Ae("./lib/event_emitter").EventEmitter,Ee=Ae("./range").Range;Ae=(a.prototype.isEmpty=function(){return(this||be).$isEmpty||(this||be).anchor.row==(this||be).lead.row&&(this||be).anchor.column==(this||be).lead.column},a.prototype.isMultiLine=function(){return!(this||be).$isEmpty&&(this||be).anchor.row!=(this||be).cursor.row},a.prototype.getCursor=function(){return(this||be).lead.getPosition()},a.prototype.setAnchor=function(Ae,we){(this||be).$isEmpty=!1,(this||be).anchor.setPosition(Ae,we)},a.prototype.getAnchor=function(){return(this||be).$isEmpty?this.getSelectionLead():(this||be).anchor.getPosition()},a.prototype.getSelectionLead=function(){return(this||be).lead.getPosition()},a.prototype.isBackwards=function(){var Ae=(this||be).anchor,we=(this||be).lead;return Ae.row>we.row||Ae.row==we.row&&Ae.column>we.column},a.prototype.getRange=function(){var Ae=(this||be).anchor,we=(this||be).lead;return(this||be).$isEmpty?Ee.fromPoints(we,we):this.isBackwards()?Ee.fromPoints(we,Ae):Ee.fromPoints(Ae,we)},a.prototype.clearSelection=function(){(this||be).$isEmpty||((this||be).$isEmpty=!0,this._emit("changeSelection"))},a.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},a.prototype.setRange=function(be,Ae){var we=Ae?be.end:be.start;Ae=Ae?be.start:be.end;this.$setSelection(we.row,we.column,Ae.row,Ae.column)},a.prototype.$setSelection=function(Ae,we,xe,Se){var ke,Te;!(this||be).$silent&&(ke=(this||be).$isEmpty,Te=(this||be).inMultiSelectMode,(this||be).$silent=!0,(this||be).$cursorChanged=(this||be).$anchorChanged=!1,(this||be).anchor.setPosition(Ae,we),(this||be).cursor.setPosition(xe,Se),(this||be).$isEmpty=!Ee.comparePoints((this||be).anchor,(this||be).cursor),(this||be).$silent=!1,(this||be).$cursorChanged&&this._emit("changeCursor"),(this||be).$cursorChanged||(this||be).$anchorChanged||ke!=(this||be).$isEmpty||Te)&&this._emit("changeSelection")},a.prototype.$moveSelection=function(Ae){var we=(this||be).lead;(this||be).$isEmpty&&this.setSelectionAnchor(we.row,we.column),Ae.call(this||be)},a.prototype.selectTo=function(be,Ae){this.$moveSelection((function(){this.moveCursorTo(be,Ae)}))},a.prototype.selectToPosition=function(be){this.$moveSelection((function(){this.moveCursorToPosition(be)}))},a.prototype.moveTo=function(be,Ae){this.clearSelection(),this.moveCursorTo(be,Ae)},a.prototype.moveToPosition=function(be){this.clearSelection(),this.moveCursorToPosition(be)},a.prototype.selectUp=function(){this.$moveSelection((this||be).moveCursorUp)},a.prototype.selectDown=function(){this.$moveSelection((this||be).moveCursorDown)},a.prototype.selectRight=function(){this.$moveSelection((this||be).moveCursorRight)},a.prototype.selectLeft=function(){this.$moveSelection((this||be).moveCursorLeft)},a.prototype.selectLineStart=function(){this.$moveSelection((this||be).moveCursorLineStart)},a.prototype.selectLineEnd=function(){this.$moveSelection((this||be).moveCursorLineEnd)},a.prototype.selectFileEnd=function(){this.$moveSelection((this||be).moveCursorFileEnd)},a.prototype.selectFileStart=function(){this.$moveSelection((this||be).moveCursorFileStart)},a.prototype.selectWordRight=function(){this.$moveSelection((this||be).moveCursorWordRight)},a.prototype.selectWordLeft=function(){this.$moveSelection((this||be).moveCursorWordLeft)},a.prototype.getWordRange=function(Ae,we){var xe;return void 0===we&&(Ae=(xe=Ae||(this||be).lead).row,we=xe.column),(this||be).session.getWordRange(Ae,we)},a.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},a.prototype.selectAWord=function(){var Ae=this.getCursor();Ae=(this||be).session.getAWordRange(Ae.row,Ae.column);this.setSelectionRange(Ae)},a.prototype.getLineRange=function(Ae,we){Ae="number"==typeof Ae?Ae:(this||be).lead.row;var xe=(this||be).session.getFoldLine(Ae);xe=xe?(Ae=xe.start.row,xe.end.row):Ae;return!0===we?new Ee(Ae,0,xe,(this||be).session.getLine(xe).length):new Ee(Ae,0,xe+1,0)},a.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},a.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},a.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},a.prototype.wouldMoveIntoSoftTab=function(Ae,we,xe){var Se=Ae.column,ke=Ae.column+we;return xe<0&&(Se=Ae.column-we,ke=Ae.column),(this||be).session.isTabStop(Ae)&&(this||be).doc.getLine(Ae.row).slice(Se,ke).split(" ").length-1==we},a.prototype.moveCursorLeft=function(){var Ae,we=(this||be).lead.getPosition();(Ae=(this||be).session.getFoldAt(we.row,we.column,-1))?this.moveCursorTo(Ae.start.row,Ae.start.column):0===we.column?0<we.row&&this.moveCursorTo(we.row-1,(this||be).doc.getLine(we.row-1).length):(Ae=(this||be).session.getTabSize(),this.wouldMoveIntoSoftTab(we,Ae,-1)&&!(this||be).session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-Ae):this.moveCursorBy(0,-1))},a.prototype.moveCursorRight=function(){var Ae,we=(this||be).lead.getPosition();(Ae=(this||be).session.getFoldAt(we.row,we.column,1))?this.moveCursorTo(Ae.end.row,Ae.end.column):(this||be).lead.column==(this||be).doc.getLine((this||be).lead.row).length?(this||be).lead.row<(this||be).doc.getLength()-1&&this.moveCursorTo((this||be).lead.row+1,0):(Ae=(this||be).session.getTabSize(),we=(this||be).lead,this.wouldMoveIntoSoftTab(we,Ae,1)&&!(this||be).session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,Ae):this.moveCursorBy(0,1))},a.prototype.moveCursorLineStart=function(){var Ae=(this||be).lead.row,we=(this||be).lead.column,xe=(this||be).session.documentToScreenRow(Ae,we);xe=(this||be).session.screenToDocumentPosition(xe,0),Ae=(this||be).session.getDisplayLine(Ae,null,xe.row,xe.column).match(/^\s*/);Ae[0].length==we||(this||be).session.$useEmacsStyleLineStart||(xe.column+=Ae[0].length),this.moveCursorToPosition(xe)},a.prototype.moveCursorLineEnd=function(){var Ae,we=(this||be).lead;we=(this||be).session.getDocumentLastRowColumnPosition(we.row,we.column);(this||be).lead.column==we.column&&(Ae=(this||be).session.getLine(we.row),we.column==Ae.length)&&0<(Ae=Ae.search(/\s+$/))&&(we.column=Ae),this.moveCursorTo(we.row,we.column)},a.prototype.moveCursorFileEnd=function(){var Ae=(this||be).doc.getLength()-1,we=(this||be).doc.getLine(Ae).length;this.moveCursorTo(Ae,we)},a.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},a.prototype.moveCursorLongWordRight=function(){var Ae=(this||be).lead.row,we=(this||be).lead.column,xe=(this||be).doc.getLine(Ae),Se=xe.substring(we),ke=((this||be).session.nonTokenRe.lastIndex=0,(this||be).session.tokenRe.lastIndex=0,(this||be).session.getFoldAt(Ae,we,1));ke?this.moveCursorTo(ke.end.row,ke.end.column):((this||be).session.nonTokenRe.exec(Se)&&(we+=(this||be).session.nonTokenRe.lastIndex,(this||be).session.nonTokenRe.lastIndex=0,Se=xe.substring(we)),we>=xe.length?(this.moveCursorTo(Ae,xe.length),this.moveCursorRight(),Ae<(this||be).doc.getLength()-1&&this.moveCursorWordRight()):((this||be).session.tokenRe.exec(Se)&&(we+=(this||be).session.tokenRe.lastIndex,(this||be).session.tokenRe.lastIndex=0),this.moveCursorTo(Ae,we)))},a.prototype.moveCursorLongWordLeft=function(){var Ae,we=(this||be).lead.row,xe=(this||be).lead.column;(Ae=(this||be).session.getFoldAt(we,xe,-1))?this.moveCursorTo(Ae.start.row,Ae.start.column):(null==(Ae=(this||be).session.getFoldStringAt(we,xe,-1))&&(Ae=(this||be).doc.getLine(we).substring(0,xe)),Ae=ke.stringReverse(Ae),(this||be).session.nonTokenRe.lastIndex=0,(this||be).session.tokenRe.lastIndex=0,(this||be).session.nonTokenRe.exec(Ae)&&(xe-=(this||be).session.nonTokenRe.lastIndex,Ae=Ae.slice((this||be).session.nonTokenRe.lastIndex),(this||be).session.nonTokenRe.lastIndex=0),xe<=0?(this.moveCursorTo(we,0),this.moveCursorLeft(),0<we&&this.moveCursorWordLeft()):((this||be).session.tokenRe.exec(Ae)&&(xe-=(this||be).session.tokenRe.lastIndex,(this||be).session.tokenRe.lastIndex=0),this.moveCursorTo(we,xe)))},a.prototype.$shortWordEndIndex=function(Ae){var we,xe=0,Se=/\s/,ke=(this||be).session.tokenRe;if(ke.lastIndex=0,(this||be).session.tokenRe.exec(Ae))xe=(this||be).session.tokenRe.lastIndex;else{for(;(we=Ae[xe])&&Se.test(we);)xe++;if(xe<1)for(ke.lastIndex=0;(we=Ae[xe])&&!ke.test(we);)if(ke.lastIndex=0,xe++,Se.test(we)){if(2<xe){xe--;break}for(;(we=Ae[xe])&&Se.test(we);)xe++;if(2<xe)break}}return ke.lastIndex=0,xe},a.prototype.moveCursorShortWordRight=function(){var Ae=(this||be).lead.row,we=(this||be).lead.column,xe=(this||be).doc.getLine(Ae),Se=xe.substring(we),ke=(this||be).session.getFoldAt(Ae,we,1);if(ke)return this.moveCursorTo(ke.end.row,ke.end.column);if(we==xe.length){for(var Te=(this||be).doc.getLength();Se=(this||be).doc.getLine(++Ae),Ae<Te&&/^\s*$/.test(Se););/^\s+/.test(Se)||(Se=""),we=0}ke=this.$shortWordEndIndex(Se);this.moveCursorTo(Ae,we+ke)},a.prototype.moveCursorShortWordLeft=function(){var Ae=(this||be).lead.row,we=(this||be).lead.column;if(Se=(this||be).session.getFoldAt(Ae,we,-1))return this.moveCursorTo(Se.start.row,Se.start.column);var xe=(this||be).session.getLine(Ae).substring(0,we);if(0===we){for(;xe=(this||be).doc.getLine(--Ae),0<Ae&&/^\s*$/.test(xe););we=xe.length,/\s+$/.test(xe)||(xe="")}var Se=ke.stringReverse(xe);Se=this.$shortWordEndIndex(Se);return this.moveCursorTo(Ae,we-Se)},a.prototype.moveCursorWordRight=function(){(this||be).session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},a.prototype.moveCursorWordLeft=function(){(this||be).session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},a.prototype.moveCursorBy=function(Ae,we){var xe,Se=(this||be).session.documentToScreenPosition((this||be).lead.row,(this||be).lead.column),ke=(0===we&&(0!==Ae&&((this||be).session.$bidiHandler.isBidiRow(Se.row,(this||be).lead.row)?(xe=(this||be).session.$bidiHandler.getPosLeft(Se.column),Se.column=Math.round(xe/(this||be).session.$bidiHandler.charWidths[0])):xe=Se.column*(this||be).session.$bidiHandler.charWidths[0]),(this||be).$desiredColumn?Se.column=(this||be).$desiredColumn:(this||be).$desiredColumn=Se.column),0!=Ae&&(this||be).session.lineWidgets&&(this||be).session.lineWidgets[(this||be).lead.row]&&(ke=(this||be).session.lineWidgets[(this||be).lead.row],Ae<0?Ae-=ke.rowsAbove||0:0<Ae&&(Ae+=ke.rowCount-(ke.rowsAbove||0))),(this||be).session.screenToDocumentPosition(Se.row+Ae,Se.column,xe));0!==Ae&&0===we&&ke.row===(this||be).lead.row&&(ke.column,(this||be).lead.column),this.moveCursorTo(ke.row,ke.column+we,0===we)},a.prototype.moveCursorToPosition=function(be){this.moveCursorTo(be.row,be.column)},a.prototype.moveCursorTo=function(Ae,we,xe){var Se=(this||be).session.getFoldAt(Ae,we,1);Se=(Se&&(Ae=Se.start.row,we=Se.start.column),(this||be).$keepDesiredColumnOnChange=!0,(this||be).session.getLine(Ae));/[\uDC00-\uDFFF]/.test(Se.charAt(we))&&Se.charAt(we-1)&&((this||be).lead.row==Ae&&(this||be).lead.column==we+1?we-=1:we+=1),(this||be).lead.setPosition(Ae,we),(this||be).$keepDesiredColumnOnChange=!1,xe||((this||be).$desiredColumn=null)},a.prototype.moveCursorToScreen=function(Ae,we,xe){Ae=(this||be).session.screenToDocumentPosition(Ae,we);this.moveCursorTo(Ae.row,Ae.column,xe)},a.prototype.detach=function(){(this||be).lead.detach(),(this||be).anchor.detach()},a.prototype.fromOrientedRange=function(Ae){this.setSelectionRange(Ae,Ae.cursor==Ae.start),(this||be).$desiredColumn=Ae.desiredColumn||(this||be).$desiredColumn},a.prototype.toOrientedRange=function(Ae){var we=this.getRange();return Ae?(Ae.start.column=we.start.column,Ae.start.row=we.start.row,Ae.end.column=we.end.column,Ae.end.row=we.end.row):Ae=we,Ae.cursor=this.isBackwards()?Ae.start:Ae.end,Ae.desiredColumn=(this||be).$desiredColumn,Ae},a.prototype.getRangeOfMovements=function(Ae){var we=this.getCursor();try{Ae(this||be);var xe=this.getCursor();return Ee.fromPoints(we,xe)}catch(Ae){return Ee.fromPoints(we,we)}finally{this.moveCursorToPosition(we)}},a.prototype.toJSON=function(){var Ae;return(this||be).rangeCount?Ae=(this||be).ranges.map((function(be){var Ae=be.clone();return Ae.isBackwards=be.cursor==be.start,Ae})):(Ae=this.getRange()).isBackwards=this.isBackwards(),Ae},a.prototype.fromJSON=function(Ae){if(null==Ae.start){if((this||be).rangeList&&1<Ae.length){this.toSingleRange(Ae[0]);for(var we=Ae.length;we--;){var xe=Ee.fromPoints(Ae[we].start,Ae[we].end);Ae[we].isBackwards&&(xe.cursor=xe.start),this.addRange(xe,!0)}return}Ae=Ae[0]}(this||be).rangeList&&this.toSingleRange(Ae),this.setSelectionRange(Ae,Ae.isBackwards)},a.prototype.isEqual=function(Ae){if((Ae.length||(this||be).rangeCount)&&Ae.length!=(this||be).rangeCount)return!1;if(!Ae.length||!(this||be).ranges)return this.getRange().isEqual(Ae);for(var we=(this||be).ranges.length;we--;)if(!(this||be).ranges[we].isEqual(Ae[we]))return!1;return!0},a);function a(Ae){(this||be).session=Ae,(this||be).doc=Ae.getDocument(),this.clearSelection(),(this||be).cursor=(this||be).lead=(this||be).doc.createAnchor(0,0),(this||be).anchor=(this||be).doc.createAnchor(0,0),(this||be).$silent=!1;var we=this||be;(this||be).cursor.on("change",(function(be){we.$cursorChanged=!0,we.$silent||we._emit("changeCursor"),we.$isEmpty||we.$silent||we._emit("changeSelection"),we.$keepDesiredColumnOnChange||be.old.column==be.value.column||(we.$desiredColumn=null)})),(this||be).anchor.on("change",(function(){we.$anchorChanged=!0,we.$isEmpty||we.$silent||we._emit("changeSelection")}))}Ae.prototype.setSelectionAnchor=Ae.prototype.setAnchor,Ae.prototype.getSelectionAnchor=Ae.prototype.getAnchor,Ae.prototype.setSelectionRange=Ae.prototype.setRange,Se.implement(Ae.prototype,Te),we.Selection=Ae})),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],(function(Ae,we,xe){Ae=Ae("./lib/report_error").reportError;var Se=2e3,ke=(o.prototype.$setMaxTokenCount=function(be){Se=0|be},o.prototype.$applyToken=function(Ae){var we=(this||be).splitRegex.exec(Ae).slice(1),xe=(this||be).token.apply(this||be,we);if("string"==typeof xe)return[{type:xe,value:Ae}];for(var Se=[],ke=0,Te=xe.length;ke<Te;ke++)we[ke]&&(Se[Se.length]={type:xe[ke],value:we[ke]});return Se},o.prototype.$arrayTokens=function(Ae){if(!Ae)return[];var we=(this||be).splitRegex.exec(Ae);if(!we)return"text";for(var xe=[],Se=(this||be).tokenArray,ke=0,Te=Se.length;ke<Te;ke++)we[ke+1]&&(xe[xe.length]={type:Se[ke],value:we[ke+1]});return xe},o.prototype.removeCapturingGroups=function(be){return be.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(be,Ae){return Ae?"(?:":be}))},o.prototype.createSplitterRegexp=function(be,Ae){var we,xe,Se;return"$"!=(be="^"!=(be=-1!=be.indexOf("(?=")&&(we=0,xe=!1,Se={},be.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(be,Ae,ke,Te,Ee,Re){return xe?xe="]"!=Ee:Ee?xe=!0:Te?(we==Se.stack&&(Se.end=Re+1,Se.stack=-1),we--):ke&&(we++,1!=ke.length)&&(Se.stack=we,Se.start=Re),be})),null!=Se.end)&&/^\)*$/.test(be.substr(Se.end))?be.substring(0,Se.start)+be.substr(Se.end):be).charAt(0)?"^"+be:be).charAt(be.length-1)&&(be+="$"),new RegExp(be,(Ae||"").replace("g",""))},o.prototype.getLineTokens=function(Ae,we){we&&"string"!=typeof we?"#tmp"===(we=(xe=we.slice(0))[0])&&(xe.shift(),we=xe.shift()):xe=[];for(var xe,ke,Te=we||"start",Ee=(Ee=(this||be).states[Te])||(this||be).states[Te="start"],Re=(this||be).matchMappings[Te],_e=(this||be).regExps[Te],$e=[],Le=_e.lastIndex=0,Ne=0,Me={type:null,value:""};ke=_e.exec(Ae);){var Be,We=Re.defaultToken,Pe=null,He=ke[0],Ge=_e.lastIndex;Ge-He.length>Le&&(Be=Ae.substring(Le,Ge-He.length),Me.type==We?Me.value+=Be:(Me.type&&$e.push(Me),Me={type:We,value:Be}));for(var Fe=0;Fe<ke.length-2;Fe++)if(void 0!==ke[Fe+1]){We=(Pe=Ee[Re[Fe]]).onMatch?Pe.onMatch(He,Te,xe,Ae):Pe.token,Pe.next&&(Te="string"==typeof Pe.next?Pe.next:Pe.next(Te,xe),(Ee=(this||be).states[Te])||(this.reportError("state doesn't exist",Te),Ee=(this||be).states[Te="start"]),Re=(this||be).matchMappings[Te],(_e=(this||be).regExps[Te]).lastIndex=Le=Ge),Pe.consumeLineEnd&&(Le=Ge);break}if(He)if("string"==typeof We)Pe&&!1===Pe.merge||Me.type!==We?(Me.type&&$e.push(Me),Me={type:We,value:He}):Me.value+=He;else if(We){Me.type&&$e.push(Me);for(Me={type:null,value:""},Fe=0;Fe<We.length;Fe++)$e.push(We[Fe])}if(Le==Ae.length)break;if(Le=Ge,Ne++>Se){for(Ne>2*Ae.length&&this.reportError("infinite loop with in ace tokenizer",{startState:we,line:Ae});Le<Ae.length;)Me.type&&$e.push(Me),Me={value:Ae.substring(Le,Le+=500),type:"overflow"};Te="start",xe=[];break}}return Me.type&&$e.push(Me),1<xe.length&&xe[0]!==Te&&xe.unshift("#tmp",Te),{tokens:$e,state:xe.length?xe:Te}},o);function o(Ae){for(var we in(this||be).splitRegex,(this||be).states=Ae,(this||be).regExps={},(this||be).matchMappings={},(this||be).states){for(var xe=(this||be).states[we],Se=[],ke=0,Te=(this||be).matchMappings[we]={defaultToken:"text"},Ee="g",Re=[],_e=0;_e<xe.length;_e++){var $e,Le,Ne=xe[_e];Ne.defaultToken&&(Te.defaultToken=Ne.defaultToken),Ne.caseInsensitive&&-1===Ee.indexOf("i")&&(Ee+="i"),Ne.unicode&&-1===Ee.indexOf("u")&&(Ee+="u"),null==Ne.regex||(Ne.regex instanceof RegExp&&(Ne.regex=Ne.regex.toString().slice(1,-1)),$e=Ne.regex,Le=new RegExp("(?:("+$e+")|(.))").exec("a").length-2,Array.isArray(Ne.token)?1==Ne.token.length||1==Le?Ne.token=Ne.token[0]:Le-1!=Ne.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:Ne,groupCount:Le-1}),Ne.token=Ne.token[0]):(Ne.tokenArray=Ne.token,Ne.token=null,Ne.onMatch=(this||be).$arrayTokens):"function"!=typeof Ne.token||Ne.onMatch||(Ne.onMatch=1<Le?(this||be).$applyToken:Ne.token),1<Le&&($e=/\\\d/.test(Ne.regex)?Ne.regex.replace(/\\([0-9]+)/g,(function(be,Ae){return"\\"+(parseInt(Ae,10)+ke+1)})):(Le=1,this.removeCapturingGroups(Ne.regex)),Ne.splitRegex||"string"==typeof Ne.token||Re.push(Ne)),Te[ke]=_e,ke+=Le,Se.push($e),Ne.onMatch)||(Ne.onMatch=null)}Se.length||(Te[0]=0,Se.push("$")),Re.forEach((function(be){be.splitRegex=this.createSplitterRegexp(be.regex,Ee)}),this||be),(this||be).regExps[we]=new RegExp("("+Se.join(")|(")+")|($)",Ee)}}ke.prototype.reportError=Ae,we.Tokenizer=ke})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],(function(Ae,we,xe){var Se=Ae("../lib/deep_copy").deepCopy;Ae=function(){(this||be).$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};!function(){(this||be).addRules=function(Ae,we){if(we)for(var xe in Ae){for(var Se=Ae[xe],ke=0;ke<Se.length;ke++){var Te=Se[ke];(Te.next||Te.onMatch)&&("string"==typeof Te.next&&0!==Te.next.indexOf(we)&&(Te.next=we+Te.next),Te.nextState)&&0!==Te.nextState.indexOf(we)&&(Te.nextState=we+Te.nextState)}(this||be).$rules[we+xe]=Se}else for(var xe in Ae)(this||be).$rules[xe]=Ae[xe]},(this||be).getRules=function(){return(this||be).$rules},(this||be).embedRules=function(Ae,we,xe,ke,Te){Ae="function"==typeof Ae?(new Ae).getRules():Ae;if(ke)for(var Ee=0;Ee<ke.length;Ee++)ke[Ee]=we+ke[Ee];else for(var Re in ke=[],Ae)ke.push(we+Re);if(this.addRules(Ae,we),xe){var _e=Array.prototype[Te?"push":"unshift"];for(Ee=0;Ee<ke.length;Ee++)_e.apply((this||be).$rules[ke[Ee]],Se(xe))}(this||be).$embeds||((this||be).$embeds=[]),(this||be).$embeds.push(we)},(this||be).getEmbeds=function(){return(this||be).$embeds};function d(Ae,we){return"start"==Ae&&!we.length||we.unshift((this||be).nextState,Ae),(this||be).nextState}function u(be,Ae){return Ae.shift(),Ae.shift()||"start"}(this||be).normalizeRules=function(){var Ae=0,we=(this||be).$rules;Object.keys(we).forEach((function e(be){var xe=we[be];xe.processed=!0;for(var Se=0;Se<xe.length;Se++){var ke=xe[Se],Te=null,Ee=(Array.isArray(ke)&&(Te=ke,ke={}),!ke.regex&&ke.start&&(ke.regex=ke.start,ke.next||(ke.next=[]),ke.next.push({defaultToken:ke.token},{token:ke.token+".end",regex:ke.end||ke.start,next:"pop"}),ke.token=ke.token+".start",ke.push=!0),ke.next||ke.push);if(Ee&&Array.isArray(Ee)?((_e=ke.stateName)||("string"!=typeof(_e=ke.token)&&(_e=_e[0]||""),we[_e]&&(_e+=Ae++)),we[_e]=Ee,e(ke.next=_e)):"pop"==Ee&&(ke.next=u),ke.push&&(ke.nextState=ke.next||ke.push,ke.next=d,delete ke.push),ke.rules)for(var Re in ke.rules)we[Re]?we[Re].push&&we[Re].push.apply(we[Re],ke.rules[Re]):we[Re]=ke.rules[Re];var _e="string"==typeof ke?ke:ke.include;_e&&("$self"===_e&&(_e="start"),Te=Array.isArray(_e)?_e.map((function(be){return we[be]})):we[_e]),Te&&(Ee=[Se,1].concat(Te),ke.noEscape&&(Ee=Ee.filter((function(be){return!be.next}))),xe.splice.apply(xe,Ee),Se--),ke.keywordMap&&(ke.token=this.createKeywordMapper(ke.keywordMap,ke.defaultToken||"text",ke.caseInsensitive),delete ke.defaultToken)}}),this||be)},(this||be).createKeywordMapper=function(Ae,we,xe,Se){var ke=Object.create(null);return(this||be).$keywordList=[],Object.keys(Ae).forEach((function(we){for(var Te=Ae[we].split(Se||"|"),Ee=Te.length;Ee--;){var Re=Te[Ee];(this||be).$keywordList.push(Re),xe&&(Re=Re.toLowerCase()),ke[Re]=we}}),this||be),Ae=null,xe?function(be){return ke[be.toLowerCase()]||we}:function(be){return ke[be]||we}},(this||be).getKeywords=function(){return(this||be).$keywords}}.call(Ae.prototype),we.TextHighlightRules=Ae})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(Ae,we,xe){var i=function(){(this||be).$behaviours={}};!function(){(this||be).add=function(Ae,we,xe){switch(void 0){case(this||be).$behaviours:(this||be).$behaviours={};case(this||be).$behaviours[Ae]:(this||be).$behaviours[Ae]={}}(this||be).$behaviours[Ae][we]=xe},(this||be).addBehaviours=function(be){for(var Ae in be)for(var we in be[Ae])this.add(Ae,we,be[Ae][we])},(this||be).remove=function(Ae){(this||be).$behaviours&&(this||be).$behaviours[Ae]&&delete(this||be).$behaviours[Ae]},(this||be).inherit=function(be,Ae){be=("function"==typeof be?new be:be).getBehaviours(Ae),this.addBehaviours(be)},(this||be).getBehaviours=function(Ae){if(Ae){for(var we={},xe=0;xe<Ae.length;xe++)(this||be).$behaviours[Ae[xe]]&&(we[Ae[xe]]=(this||be).$behaviours[Ae[xe]]);return we}return(this||be).$behaviours}}.call(i.prototype),we.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(Ae,we,xe){var Se=Ae("./range").Range;function o(Ae,we,xe){(this||be).$session=Ae,(this||be).$row=we,(this||be).$rowTokens=Ae.getTokens(we);Ae=Ae.getTokenAt(we,xe);(this||be).$tokenIndex=Ae?Ae.index:-1}o.prototype.stepBackward=function(){for(--(this||be).$tokenIndex;(this||be).$tokenIndex<0;){if(--(this||be).$row,(this||be).$row<0)return(this||be).$row=0,null;(this||be).$rowTokens=(this||be).$session.getTokens((this||be).$row),(this||be).$tokenIndex=(this||be).$rowTokens.length-1}return(this||be).$rowTokens[(this||be).$tokenIndex]},o.prototype.stepForward=function(){var Ae;for((this||be).$tokenIndex+=1;(this||be).$tokenIndex>=(this||be).$rowTokens.length;){if((this||be).$row+=1,Ae=Ae||(this||be).$session.getLength(),(this||be).$row>=Ae)return(this||be).$row=Ae-1,null;(this||be).$rowTokens=(this||be).$session.getTokens((this||be).$row),(this||be).$tokenIndex=0}return(this||be).$rowTokens[(this||be).$tokenIndex]},o.prototype.getCurrentToken=function(){return(this||be).$rowTokens[(this||be).$tokenIndex]},o.prototype.getCurrentTokenRow=function(){return(this||be).$row},o.prototype.getCurrentTokenColumn=function(){var Ae=(this||be).$rowTokens,we=(this||be).$tokenIndex,xe=Ae[we].start;if(void 0===xe)for(xe=0;0<we;)xe+=Ae[--we].value.length;return xe},o.prototype.getCurrentTokenPosition=function(){return{row:(this||be).$row,column:this.getCurrentTokenColumn()}},o.prototype.getCurrentTokenRange=function(){var Ae=(this||be).$rowTokens[(this||be).$tokenIndex],we=this.getCurrentTokenColumn();return new Se((this||be).$row,we,(this||be).$row,we+Ae.value.length)},we.TokenIterator=o})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(Ae,we,xe){function g(be){var Ae=-1;if((Le=be.multiSelect&&(Ae=be.selection.index,Le.rangeCount!=be.multiSelect.rangeCount)?{rangeCount:be.multiSelect.rangeCount}:Le)[Ae])return Se=Le[Ae];Se=Le[Ae]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}}function p(be,Ae,we,xe){var Se=be.end.row-be.start.row;return{text:we+Ae+xe,selection:[0,be.start.column+1,Se,be.end.column+(Se?0:1)]}}var Se,ke=Ae("../../lib/oop"),Te=Ae("../behaviour").Behaviour,Ee=Ae("../../token_iterator").TokenIterator,Re=Ae("../../lib/lang"),_e=["text","paren.rparen","rparen","paren","punctuation.operator"],$e=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],Le={},Ne={'"':'"',"'":"'"},y=function(Ae){Ae=Ae||{},this.add("braces","insertion",(function(be,we,xe,ke,Te){var Ee=xe.getCursorPosition(),_e=ke.doc.getLine(Ee.row);if("{"==Te){g(xe);var $e=xe.getSelectionRange(),Le=ke.doc.getTextRange($e),Ne=ke.getTokenAt(Ee.row,Ee.column);if(""!==Le&&"{"!==Le&&xe.getWrapBehavioursEnabled())return p($e,Le,"{","}");if(Ne&&/(?:string)\.quasi|\.xml/.test(Ne.type)){if(!([/tag\-(?:open|name)/,/attribute\-name/].some((function(be){return be.test(Ne.type)}))||/(string)\.quasi/.test(Ne.type)&&"$"!==Ne.value[Ee.column-Ne.start-1]))return y.recordAutoInsert(xe,ke,"}"),{text:"{}",selection:[1,1]}}else if(y.isSaneInsertion(xe,ke))return/[\]\}\)]/.test(_e[Ee.column])||xe.inMultiSelectMode||Ae.braces?(y.recordAutoInsert(xe,ke,"}"),{text:"{}",selection:[1,1]}):(y.recordMaybeInsert(xe,ke,"{"),{text:"{",selection:[1,1]})}else if("}"==Te){g(xe);var Me=_e.substring(Ee.column,Ee.column+1);if("}"==Me&&null!==ke.$findOpeningBracket("}",{column:Ee.column+1,row:Ee.row})&&y.isAutoInsertedClosing(Ee,_e,Te))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==Te||"\r\n"==Te){g(xe);$e="";if(y.isMaybeInsertedClosing(Ee,_e)&&($e=Re.stringRepeat("}",Se.maybeInsertedBrackets),y.clearMaybeInsertedClosing()),"}"===(Me=_e.substring(Ee.column,Ee.column+1))){Le=ke.findMatchingBracket({row:Ee.row,column:Ee.column+1},"}");if(!Le)return null;var Be=this.$getIndent(ke.getLine(Le.row))}else{if(!$e)return void y.clearMaybeInsertedClosing();Be=this.$getIndent(_e)}Te=Be+ke.getTabString();return{text:"\n"+Te+"\n"+Be+$e,selection:[1,Te.length,1,Te.length]}}y.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(be,Ae,we,xe,ke){var Te=xe.doc.getTextRange(ke);if(!ke.isMultiLine()&&"{"==Te){if(g(we),"}"==xe.doc.getLine(ke.start.row).substring(ke.end.column,ke.end.column+1))return ke.end.column++,ke;Se.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(be,Ae,we,xe,Se){if("("==Se)return g(we),ke=we.getSelectionRange(),""!==(Te=xe.doc.getTextRange(ke))&&we.getWrapBehavioursEnabled()?p(ke,Te,"(",")"):y.isSaneInsertion(we,xe)?(y.recordAutoInsert(we,xe,")"),{text:"()",selection:[1,1]}):void 0;if(")"==Se){g(we);var ke=we.getCursorPosition(),Te=xe.doc.getLine(ke.row);we=Te.substring(ke.column,ke.column+1);if(")"==we&&null!==xe.$findOpeningBracket(")",{column:ke.column+1,row:ke.row})&&y.isAutoInsertedClosing(ke,Te,Se))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(be,Ae,we,xe,Se){var ke=xe.doc.getTextRange(Se);if(!Se.isMultiLine()&&"("==ke&&(g(we),")"==xe.doc.getLine(Se.start.row).substring(Se.start.column+1,Se.start.column+2)))return Se.end.column++,Se})),this.add("brackets","insertion",(function(be,Ae,we,xe,Se){if("["==Se)return g(we),ke=we.getSelectionRange(),""!==(Te=xe.doc.getTextRange(ke))&&we.getWrapBehavioursEnabled()?p(ke,Te,"[","]"):y.isSaneInsertion(we,xe)?(y.recordAutoInsert(we,xe,"]"),{text:"[]",selection:[1,1]}):void 0;if("]"==Se){g(we);var ke=we.getCursorPosition(),Te=xe.doc.getLine(ke.row);we=Te.substring(ke.column,ke.column+1);if("]"==we&&null!==xe.$findOpeningBracket("]",{column:ke.column+1,row:ke.row})&&y.isAutoInsertedClosing(ke,Te,Se))return y.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(be,Ae,we,xe,Se){var ke=xe.doc.getTextRange(Se);if(!Se.isMultiLine()&&"["==ke&&(g(we),"]"==xe.doc.getLine(Se.start.row).substring(Se.start.column+1,Se.start.column+2)))return Se.end.column++,Se})),this.add("string_dquotes","insertion",(function(Ae,we,xe,Se,ke){var Te=Se.$mode.$quotes||Ne;if(1==ke.length&&Te[ke]&&(!(this||be).lineCommentStart||-1==(this||be).lineCommentStart.indexOf(ke))){g(xe);var Ee=xe.getSelectionRange(),Re=Se.doc.getTextRange(Ee);if(!(""===Re||1==Re.length&&Te[Re])&&xe.getWrapBehavioursEnabled())return p(Ee,Re,ke,ke);if(!Re){Te=xe.getCursorPosition(),Ee=Se.doc.getLine(Te.row),Re=Ee.substring(Te.column-1,Te.column),xe=Ee.substring(Te.column,Te.column+1);var _e=Se.getTokenAt(Te.row,Te.column),$e=Se.getTokenAt(Te.row,Te.column+1);if("\\"==Re&&_e&&/escape/.test(_e.type))return null;_e=_e&&/string|escape/.test(_e.type);var Le,Me=!$e||/string|escape/.test($e.type);if(xe==ke)(Le=_e!==Me)&&/string\.end/.test($e.type)&&(Le=!1);else{if(_e&&!Me)return null;if(_e&&Me)return null;$e=Se.$mode.tokenRe,_e=($e.lastIndex=0,$e.test(Re)),Me=($e.lastIndex=0,$e.test(xe)),Se=Se.$mode.$pairQuotesAfter;if(!(Se&&Se[ke]&&Se[ke].test(Re))&&_e||Me)return null;if(xe&&!/[\s;,.})\]\\]/.test(xe))return null;Se=Ee[Te.column-2];if(Re==ke&&(Se==ke||$e.test(Se)))return null;Le=!0}return{text:Le?ke+ke:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(be,Ae,we,xe,Se){var ke=xe.$mode.$quotes||Ne,Te=xe.doc.getTextRange(Se);if(!Se.isMultiLine()&&ke.hasOwnProperty(Te)&&(g(we),xe.doc.getLine(Se.start.row).substring(Se.start.column+1,Se.start.column+2)==Te))return Se.end.column++,Se})),!1!==Ae.closeDocComment&&this.add("doc comment end","insertion",(function(be,Ae,we,xe,Se){var ke;if("doc-start"===be&&("\n"===Se||"\r\n"===Se)&&we.selection.isEmpty())return be=we.getCursorPosition(),we=xe.doc.getLine(be.row),xe=xe.doc.getLine(be.row+1),ke=this.$getIndent(we),/\s*\*/.test(xe)?/^\s*\*/.test(we)?{text:Se+ke+"* ",selection:[1,3+ke.length,1,3+ke.length]}:{text:Se+ke+" * ",selection:[1,3+ke.length,1,3+ke.length]}:/\/\*\*/.test(we.substring(0,be.column))?{text:Se+ke+" * "+Se+" "+ke+"*/",selection:[1,4+ke.length,1,4+ke.length]}:void 0}))};y.isSaneInsertion=function(be,Ae){var we=be.getCursorPosition(),xe=new Ee(Ae,we.row,we.column);if(!this.$matchTokenType(xe.getCurrentToken()||"text",_e)){if(/[)}\]]/.test(be.session.getLine(we.row)[we.column]))return!0;be=new Ee(Ae,we.row,we.column+1);if(!this.$matchTokenType(be.getCurrentToken()||"text",_e))return!1}return xe.stepForward(),xe.getCurrentTokenRow()!==we.row||this.$matchTokenType(xe.getCurrentToken()||"text",$e)},y.$matchTokenType=function(be,Ae){return-1<Ae.indexOf(be.type||be)},y.recordAutoInsert=function(be,Ae,we){be=be.getCursorPosition(),Ae=Ae.doc.getLine(be.row);this.isAutoInsertedClosing(be,Ae,Se.autoInsertedLineEnd[0])||(Se.autoInsertedBrackets=0),Se.autoInsertedRow=be.row,Se.autoInsertedLineEnd=we+Ae.substr(be.column),Se.autoInsertedBrackets++},y.recordMaybeInsert=function(be,Ae,we){be=be.getCursorPosition(),Ae=Ae.doc.getLine(be.row);this.isMaybeInsertedClosing(be,Ae)||(Se.maybeInsertedBrackets=0),Se.maybeInsertedRow=be.row,Se.maybeInsertedLineStart=Ae.substr(0,be.column)+we,Se.maybeInsertedLineEnd=Ae.substr(be.column),Se.maybeInsertedBrackets++},y.isAutoInsertedClosing=function(be,Ae,we){return 0<Se.autoInsertedBrackets&&be.row===Se.autoInsertedRow&&we===Se.autoInsertedLineEnd[0]&&Ae.substr(be.column)===Se.autoInsertedLineEnd},y.isMaybeInsertedClosing=function(be,Ae){return 0<Se.maybeInsertedBrackets&&be.row===Se.maybeInsertedRow&&Ae.substr(be.column)===Se.maybeInsertedLineEnd&&Ae.substr(0,be.column)==Se.maybeInsertedLineStart},y.popAutoInsertedClosing=function(){Se.autoInsertedLineEnd=Se.autoInsertedLineEnd.substr(1),Se.autoInsertedBrackets--},y.clearMaybeInsertedClosing=function(){Se&&(Se.maybeInsertedBrackets=0,Se.maybeInsertedRow=-1)},ke.inherits(y,Te),we.CstyleBehaviour=y})),ace.define("ace/unicode",["require","exports","module"],(function(be,Ae,we){for(var xe=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],Se=0,ke=[],Te=0;Te<xe.length;Te+=2)ke.push(Se+=xe[Te]),xe[Te+1]&&ke.push(45,Se+=xe[Te+1]);Ae.wordChars=String.fromCharCode.apply(null,ke)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(Ae,we,xe){var Se=Ae("../config"),ke=Ae("../tokenizer").Tokenizer,Te=Ae("./text_highlight_rules").TextHighlightRules,Ee=Ae("./behaviour/cstyle").CstyleBehaviour,Re=Ae("../unicode"),_e=Ae("../lib/lang"),$e=Ae("../token_iterator").TokenIterator,Le=Ae("../range").Range;Ae=function(){(this||be).HighlightRules=Te};!function(){(this||be).$defaultBehaviour=new Ee,(this||be).tokenRe=new RegExp("^["+Re.wordChars+"\\$_]+","g"),(this||be).nonTokenRe=new RegExp("^(?:[^"+Re.wordChars+"\\$_]|\\s])+","g"),(this||be).getTokenizer=function(){return(this||be).$tokenizer||((this||be).$highlightRules=(this||be).$highlightRules||new(this||be).HighlightRules((this||be).$highlightRuleConfig),(this||be).$tokenizer=new ke((this||be).$highlightRules.getRules())),(this||be).$tokenizer},(this||be).lineCommentStart="",(this||be).blockComment="",(this||be).toggleCommentLines=function(Ae,we,xe,Se){var ke=we.doc,Te=!0,Ee=!0,Re=1/0,$e=we.getTabSize(),Le=!1;if((this||be).lineCommentStart){Me=Array.isArray((this||be).lineCommentStart)?(We=(this||be).lineCommentStart.map(_e.escapeRegExp).join("|"),(this||be).lineCommentStart[0]):(We=_e.escapeRegExp((this||be).lineCommentStart),(this||be).lineCommentStart),We=new RegExp("^(\\s*)(?:"+We+") ?"),Le=we.getUseSoftTabs();var h=function(be,Ae){var we,xe,Se=be.match(We);Se&&(we=Se[1].length,xe=Se[0].length,p(be,we,xe)||" "!=Se[0][xe-1]||xe--,ke.removeInLine(Ae,we,xe))},Ne=Me+" ",u=function(be,Ae){Te&&!/\S/.test(be)||(p(be,Re,Re)?ke.insertInLine({row:Ae,column:Re},Ne):ke.insertInLine({row:Ae,column:Re},Me))},g=function(be,Ae){return We.test(be)},p=function(be,Ae,we){for(var xe=0;Ae--&&" "==be.charAt(Ae);)xe++;if(xe%$e!=0)return!1;for(xe=0;" "==be.charAt(we++);)xe++;return 2<$e?xe%$e!=$e-1:xe%$e==0}}else{if(!(this||be).blockComment)return!1;var Me=(this||be).blockComment.start,Be=(this||be).blockComment.end,We=new RegExp("^(\\s*)(?:"+_e.escapeRegExp(Me)+")"),Pe=new RegExp("(?:"+_e.escapeRegExp(Be)+")\\s*$");u=function(be,Ae){g(be,Ae)||Te&&!/\S/.test(be)||(ke.insertInLine({row:Ae,column:be.length},Be),ke.insertInLine({row:Ae,column:Re},Me))},h=function(be,Ae){var we;(we=be.match(Pe))&&ke.removeInLine(Ae,be.length-we[0].length,be.length),(we=be.match(We))&&ke.removeInLine(Ae,we[1].length,we[0].length)},g=function(be,Ae){if(We.test(be))return!0;for(var xe=we.getTokens(Ae),Se=0;Se<xe.length;Se++)if("comment"===xe[Se].type)return!0}}function v(be){for(var Ae=xe;Ae<=Se;Ae++)be(ke.getLine(Ae),Ae)}var He=1/0;v((function(be,Ae){var we=be.search(/\S/);-1!==we?(we<Re&&(Re=we),Ee&&!g(be,Ae)&&(Ee=!1)):He>be.length&&(He=be.length)})),Re==1/0&&(Re=He,Ee=Te=!1),Le&&Re%$e!=0&&(Re=Math.floor(Re/$e)*$e),v(Ee?h:u)},(this||be).toggleBlockComment=function(Ae,we,xe,Se){var ke=(this||be).blockComment;if(ke){!ke.start&&ke[0]&&(ke=ke[0]);var Te,Ee,Re=(We=new $e(we,Se.row,Se.column)).getCurrentToken(),_e=(we.selection,we.selection.toOrientedRange());if(Re&&/comment/.test(Re.type)){for(;Re&&/comment/.test(Re.type);){if(-1!=(Pe=Re.value.indexOf(ke.start))){var Ne=We.getCurrentTokenRow(),Me=We.getCurrentTokenColumn()+Pe,Be=new Le(Ne,Me,Ne,Me+ke.start.length);break}Re=We.stepBackward()}var We,Pe;for(Re=(We=new $e(we,Se.row,Se.column)).getCurrentToken();Re&&/comment/.test(Re.type);){if(-1!=(Pe=Re.value.indexOf(ke.end))){Ne=We.getCurrentTokenRow(),Me=We.getCurrentTokenColumn()+Pe;var He=new Le(Ne,Me,Ne,Me+ke.end.length);break}Re=We.stepForward()}He&&we.remove(He),Be&&(we.remove(Be),Te=Be.start.row,Ee=-ke.start.length)}else Ee=ke.start.length,Te=xe.start.row,we.insert(xe.end,ke.end),we.insert(xe.start,ke.start);_e.start.row==Te&&(_e.start.column+=Ee),_e.end.row==Te&&(_e.end.column+=Ee),we.selection.fromOrientedRange(_e)}},(this||be).getNextLineIndent=function(be,Ae,we){return this.$getIndent(Ae)},(this||be).checkOutdent=function(be,Ae,we){return!1},(this||be).autoOutdent=function(be,Ae,we){},(this||be).$getIndent=function(be){return be.match(/^\s*/)[0]},(this||be).createWorker=function(be){return null},(this||be).createModeDelegates=function(Ae){for(var we in(this||be).$embeds=[],(this||be).$modes={},Ae){var xe,ke,Te;Ae[we]&&(ke=(xe=Ae[we]).prototype.$id,(Te=Se.$modes[ke])||(Se.$modes[ke]=Te=new xe),Se.$modes[we]||(Se.$modes[we]=Te),(this||be).$embeds.push(we),(this||be).$modes[we]=Te)}var Ee=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],Re=this||be;for(we=0;we<Ee.length;we++)!function(be){var Ae,we;Ae=Ee[be],we=Re[Ae],Re[Ee[be]]=function(){return this.$delegator(Ae,arguments,we)}}(we)},(this||be).$delegator=function(Ae,we,xe){var Se=we[0]||"start";if("string"!=typeof Se){if(Array.isArray(Se[2])){var ke=Se[2][Se[2].length-1];if(Ee=(this||be).$modes[ke])return Ee[Ae].apply(Ee,[Se[1]].concat([].slice.call(we,1)))}Se=Se[0]||"start"}for(var Te=0;Te<(this||be).$embeds.length;Te++)if((this||be).$modes[(this||be).$embeds[Te]]){var Ee,Re=Se.split((this||be).$embeds[Te]);if(!Re[0]&&Re[1])return we[0]=Re[1],(Ee=(this||be).$modes[(this||be).$embeds[Te]])[Ae].apply(Ee,we)}ke=xe.apply(this||be,we);return xe?ke:void 0},(this||be).transformAction=function(Ae,we,xe,Se,ke){if((this||be).$behaviour){var Te,Ee=(this||be).$behaviour.getBehaviours();for(Te in Ee)if(Ee[Te][we]){var Re=Ee[Te][we].apply(this||be,arguments);if(Re)return Re}}},(this||be).getKeywords=function(Ae){if(!(this||be).completionKeywords){var we=(this||be).$tokenizer.rules,xe=[];for(Ee in we)for(var Se=we[Ee],ke=0,Te=Se.length;ke<Te;ke++)if("string"==typeof Se[ke].token)/keyword|support|storage/.test(Se[ke].token)&&xe.push(Se[ke].regex);else if("object"==typeof Se[ke].token)for(var Ee,Re=0,_e=Se[ke].token.length;Re<_e;Re++)/keyword|support|storage/.test(Se[ke].token[Re])&&(Ee=Se[ke].regex.match(/\(.+?\)/g)[Re],xe.push(Ee.substr(1,Ee.length-2)));(this||be).completionKeywords=xe}return Ae?xe.concat((this||be).$keywordList||[]):(this||be).$keywordList},(this||be).$createKeywordList=function(){return(this||be).$highlightRules||this.getTokenizer(),(this||be).$keywordList=(this||be).$highlightRules.$keywordList||[]},(this||be).getCompletions=function(Ae,we,xe,Se){return((this||be).$keywordList||this.$createKeywordList()).map((function(be){return{name:be,value:be,score:0,meta:"keyword"}}))},(this||be).$id="ace/mode/text"}.call(Ae.prototype),we.Mode=Ae})),ace.define("ace/apply_delta",["require","exports","module"],(function(be,Ae,we){Ae.applyDelta=function(be,Ae,we){var xe=Ae.start.row,Se=Ae.start.column,ke=be[xe]||"";switch(Ae.action){case"insert":1===Ae.lines.length?be[xe]=ke.substring(0,Se)+Ae.lines[0]+ke.substring(Se):(Te=[xe,1].concat(Ae.lines),be.splice.apply(be,Te),be[xe]=ke.substring(0,Se)+be[xe],be[xe+Ae.lines.length-1]+=ke.substring(Se));break;case"remove":var Te=Ae.end.column,Ee=Ae.end.row;xe===Ee?be[xe]=ke.substring(0,Se)+ke.substring(Te):be.splice(xe,Ee-xe+1,ke.substring(0,Se)+be[Ee].substring(Te))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(Ae,we,xe){var Se=Ae("./lib/oop"),ke=(Ae=Ae("./lib/event_emitter").EventEmitter,r.prototype.getPosition=function(){return this.$clipPositionToDocument((this||be).row,(this||be).column)},r.prototype.getDocument=function(){return(this||be).document},r.prototype.onChange=function(Ae){Ae.start.row==Ae.end.row&&Ae.start.row!=(this||be).row||Ae.start.row>(this||be).row||(Ae=function(be,Ae,we){var xe="insert"==be.action,Se=(xe?1:-1)*(be.end.row-be.start.row),ke=(xe?1:-1)*(be.end.column-be.start.column),Te=be.start;xe=xe?Te:be.end;return a(Ae,Te,we)?{row:Ae.row,column:Ae.column}:a(xe,Ae,!we)?{row:Ae.row+Se,column:Ae.column+(Ae.row==xe.row?ke:0)}:{row:Te.row,column:Te.column}}(Ae,{row:(this||be).row,column:(this||be).column},(this||be).$insertRight),this.setPosition(Ae.row,Ae.column,!0))},r.prototype.setPosition=function(Ae,we,xe){xe=xe?{row:Ae,column:we}:this.$clipPositionToDocument(Ae,we);(this||be).row==xe.row&&(this||be).column==xe.column||(Ae={row:(this||be).row,column:(this||be).column},(this||be).row=xe.row,(this||be).column=xe.column,this._signal("change",{old:Ae,value:xe}))},r.prototype.detach=function(){(this||be).document.off("change",(this||be).$onChange)},r.prototype.attach=function(Ae){(this||be).document=Ae||(this||be).document,(this||be).document.on("change",(this||be).$onChange)},r.prototype.$clipPositionToDocument=function(Ae,we){var xe={};return Ae>=(this||be).document.getLength()?(xe.row=Math.max(0,(this||be).document.getLength()-1),xe.column=(this||be).document.getLine(xe.row).length):Ae<0?(xe.row=0,xe.column=0):(xe.row=Ae,xe.column=Math.min((this||be).document.getLine(xe.row).length,Math.max(0,we))),we<0&&(xe.column=0),xe},r);function r(Ae,we,xe){(this||be).$onChange=(this||be).onChange.bind(this||be),this.attach(Ae),"number"!=typeof we?this.setPosition(we.row,we.column):this.setPosition(we,xe)}function a(be,Ae,we){we=we?be.column<=Ae.column:be.column<Ae.column;return be.row<Ae.row||be.row==Ae.row&&we}ke.prototype.$insertRight=!1,Se.implement(ke.prototype,Ae),we.Anchor=ke})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(Ae,we,xe){var Se=Ae("./lib/oop"),ke=Ae("./apply_delta").applyDelta,Te=Ae("./lib/event_emitter").EventEmitter,Ee=Ae("./range").Range,Re=Ae("./anchor").Anchor;Ae=(l.prototype.setValue=function(be){var Ae=this.getLength()-1;this.remove(new Ee(0,0,Ae,this.getLine(Ae).length)),this.insert({row:0,column:0},be||"")},l.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},l.prototype.createAnchor=function(Ae,we){return new Re(this||be,Ae,we)},l.prototype.$detectNewLine=function(Ae){Ae=Ae.match(/^.*?(\r\n|\r|\n)/m);(this||be).$autoNewLine=Ae?Ae[1]:"\n",this._signal("changeNewLineMode")},l.prototype.getNewLineCharacter=function(){switch((this||be).$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return(this||be).$autoNewLine||"\n"}},l.prototype.setNewLineMode=function(Ae){(this||be).$newLineMode!==Ae&&((this||be).$newLineMode=Ae,this._signal("changeNewLineMode"))},l.prototype.getNewLineMode=function(){return(this||be).$newLineMode},l.prototype.isNewLine=function(be){return"\r\n"==be||"\r"==be||"\n"==be},l.prototype.getLine=function(Ae){return(this||be).$lines[Ae]||""},l.prototype.getLines=function(Ae,we){return(this||be).$lines.slice(Ae,we+1)},l.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},l.prototype.getLength=function(){return(this||be).$lines.length},l.prototype.getTextRange=function(be){return this.getLinesForRange(be).join(this.getNewLineCharacter())},l.prototype.getLinesForRange=function(be){var Ae,we;return be.start.row===be.end.row?Ae=[this.getLine(be.start.row).substring(be.start.column,be.end.column)]:((Ae=this.getLines(be.start.row,be.end.row))[0]=(Ae[0]||"").substring(be.start.column),we=Ae.length-1,be.end.row-be.start.row==we&&(Ae[we]=Ae[we].substring(0,be.end.column))),Ae},l.prototype.insertLines=function(be,Ae){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(be,Ae)},l.prototype.removeLines=function(be,Ae){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(be,Ae)},l.prototype.insertNewLine=function(be){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(be,["",""])},l.prototype.insert=function(be,Ae){return this.getLength()<=1&&this.$detectNewLine(Ae),this.insertMergedLines(be,this.$split(Ae))},l.prototype.insertInLine=function(be,Ae){var we=this.clippedPos(be.row,be.column);be=this.pos(be.row,be.column+Ae.length);return this.applyDelta({start:we,end:be,action:"insert",lines:[Ae]},!0),this.clonePos(be)},l.prototype.clippedPos=function(be,Ae){var we=this.getLength();we=(void 0===be?be=we:be<0?be=0:we<=be&&(be=we-1,Ae=void 0),this.getLine(be));return null==Ae&&(Ae=we.length),{row:be,column:Ae=Math.min(Math.max(Ae,0),we.length)}},l.prototype.clonePos=function(be){return{row:be.row,column:be.column}},l.prototype.pos=function(be,Ae){return{row:be,column:Ae}},l.prototype.$clipPosition=function(be){var Ae=this.getLength();return be.row>=Ae?(be.row=Math.max(0,Ae-1),be.column=this.getLine(Ae-1).length):(be.row=Math.max(0,be.row),be.column=Math.min(Math.max(be.column,0),this.getLine(be.row).length)),be},l.prototype.insertFullLines=function(Ae,we){var xe=0;xe=(Ae=Math.min(Math.max(Ae,0),this.getLength()))<this.getLength()?(we=we.concat([""]),0):(we=[""].concat(we),(this||be).$lines[--Ae].length);this.insertMergedLines({row:Ae,column:xe},we)},l.prototype.insertMergedLines=function(be,Ae){be=this.clippedPos(be.row,be.column);var we={row:be.row+Ae.length-1,column:(1==Ae.length?be.column:0)+Ae[Ae.length-1].length};return this.applyDelta({start:be,end:we,action:"insert",lines:Ae}),this.clonePos(we)},l.prototype.remove=function(be){var Ae=this.clippedPos(be.start.row,be.start.column);be=this.clippedPos(be.end.row,be.end.column);return this.applyDelta({start:Ae,end:be,action:"remove",lines:this.getLinesForRange({start:Ae,end:be})}),this.clonePos(Ae)},l.prototype.removeInLine=function(be,Ae,we){Ae=this.clippedPos(be,Ae),be=this.clippedPos(be,we);return this.applyDelta({start:Ae,end:be,action:"remove",lines:this.getLinesForRange({start:Ae,end:be})},!0),this.clonePos(Ae)},l.prototype.removeFullLines=function(Ae,we){Ae=Math.min(Math.max(0,Ae),this.getLength()-1);var xe=(we=Math.min(Math.max(0,we),this.getLength()-1))==this.getLength()-1&&0<Ae,Se=we<this.getLength()-1,ke=xe?Ae-1:Ae,Te=(xe=xe?this.getLine(ke).length:0,Se?we+1:we);Se=Se?0:this.getLine(Te).length,ke=new Ee(ke,xe,Te,Se),xe=(this||be).$lines.slice(Ae,we+1);return this.applyDelta({start:ke.start,end:ke.end,action:"remove",lines:this.getLinesForRange(ke)}),xe},l.prototype.removeNewLine=function(be){be<this.getLength()-1&&0<=be&&this.applyDelta({start:this.pos(be,this.getLine(be).length),end:this.pos(be+1,0),action:"remove",lines:["",""]})},l.prototype.replace=function(be,Ae){return be instanceof Ee||(be=Ee.fromPoints(be.start,be.end)),0===Ae.length&&be.isEmpty()?be.start:Ae==this.getTextRange(be)?be.end:(this.remove(be),Ae?this.insert(be.start,Ae):be.start)},l.prototype.applyDeltas=function(be){for(var Ae=0;Ae<be.length;Ae++)this.applyDelta(be[Ae])},l.prototype.revertDeltas=function(be){for(var Ae=be.length-1;0<=Ae;Ae--)this.revertDelta(be[Ae])},l.prototype.applyDelta=function(Ae,we){var xe="insert"==Ae.action;(xe?Ae.lines.length<=1&&!Ae.lines[0]:!Ee.comparePoints(Ae.start,Ae.end))||(xe&&2e4<Ae.lines.length?this.$splitAndapplyLargeDelta(Ae,2e4):(ke((this||be).$lines,Ae,we),this._signal("change",Ae)))},l.prototype.$safeApplyDelta=function(Ae){var we=(this||be).$lines.length;("remove"==Ae.action&&Ae.start.row<we&&Ae.end.row<we||"insert"==Ae.action&&Ae.start.row<=we)&&this.applyDelta(Ae)},l.prototype.$splitAndapplyLargeDelta=function(be,Ae){for(var we=be.lines,xe=we.length-Ae+1,Se=be.start.row,ke=be.start.column,Te=0,Ee=0;Te<xe;Te=Ee){Ee+=Ae-1;var Re=we.slice(Te,Ee);Re.push(""),this.applyDelta({start:this.pos(Se+Te,ke),end:this.pos(Se+Ee,ke=0),action:be.action,lines:Re},!0)}be.lines=we.slice(Te),be.start.row=Se+Te,be.start.column=ke,this.applyDelta(be,!0)},l.prototype.revertDelta=function(be){this.$safeApplyDelta({start:this.clonePos(be.start),end:this.clonePos(be.end),action:"insert"==be.action?"remove":"insert",lines:be.lines.slice()})},l.prototype.indexToPosition=function(Ae,we){for(var xe=(this||be).$lines||this.getAllLines(),Se=this.getNewLineCharacter().length,ke=we||0,Te=xe.length;ke<Te;ke++)if((Ae-=xe[ke].length+Se)<0)return{row:ke,column:Ae+xe[ke].length+Se};return{row:Te-1,column:Ae+xe[Te-1].length+Se}},l.prototype.positionToIndex=function(Ae,we){for(var xe=(this||be).$lines||this.getAllLines(),Se=this.getNewLineCharacter().length,ke=0,Te=Math.min(Ae.row,xe.length),Ee=we||0;Ee<Te;++Ee)ke+=xe[Ee].length+Se;return ke+Ae.column},l.prototype.$split=function(be){return be.split(/\r\n|\r|\n/)},l);function l(Ae){(this||be).$lines=[""],0===Ae.length?(this||be).$lines=[""]:Array.isArray(Ae)?this.insertMergedLines({row:0,column:0},Ae):this.insert({row:0,column:0},Ae)}Ae.prototype.$autoNewLine="",Ae.prototype.$newLineMode="auto",Se.implement(Ae.prototype,Te),we.Document=Ae})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(Ae,we,xe){var Se=Ae("./lib/oop"),ke=(Ae=Ae("./lib/event_emitter").EventEmitter,r.prototype.setTokenizer=function(Ae){(this||be).tokenizer=Ae,(this||be).lines=[],(this||be).states=[],this.start(0)},r.prototype.setDocument=function(Ae){(this||be).doc=Ae,(this||be).lines=[],(this||be).states=[],this.stop()},r.prototype.fireUpdateEvent=function(be,Ae){this._signal("update",{data:{first:be,last:Ae}})},r.prototype.start=function(Ae){(this||be).currentLine=Math.min(Ae||0,(this||be).currentLine,(this||be).doc.getLength()),(this||be).lines.splice((this||be).currentLine,(this||be).lines.length),(this||be).states.splice((this||be).currentLine,(this||be).states.length),this.stop(),(this||be).running=setTimeout((this||be).$worker,700)},r.prototype.scheduleStart=function(){(this||be).running||((this||be).running=setTimeout((this||be).$worker,700))},r.prototype.$updateOnChange=function(Ae){var we=Ae.start.row,xe=Ae.end.row-we;0==xe?(this||be).lines[we]=null:"remove"==Ae.action?((this||be).lines.splice(we,1+xe,null),(this||be).states.splice(we,1+xe,null)):((Ae=Array(1+xe)).unshift(we,1),(this||be).lines.splice.apply((this||be).lines,Ae),(this||be).states.splice.apply((this||be).states,Ae)),(this||be).currentLine=Math.min(we,(this||be).currentLine,(this||be).doc.getLength()),this.stop()},r.prototype.stop=function(){(this||be).running&&clearTimeout((this||be).running),(this||be).running=!1},r.prototype.getTokens=function(Ae){return(this||be).lines[Ae]||this.$tokenizeRow(Ae)},r.prototype.getState=function(Ae){return(this||be).currentLine==Ae&&this.$tokenizeRow(Ae),(this||be).states[Ae]||"start"},r.prototype.$tokenizeRow=function(Ae){var we=(this||be).doc.getLine(Ae),xe=(this||be).states[Ae-1];we=(this||be).tokenizer.getLineTokens(we,xe,Ae);return(this||be).states[Ae]+""!=we.state+""?((this||be).states[Ae]=we.state,(this||be).lines[Ae+1]=null,(this||be).currentLine>Ae+1&&((this||be).currentLine=Ae+1)):(this||be).currentLine==Ae&&((this||be).currentLine=Ae+1),(this||be).lines[Ae]=we.tokens},r.prototype.cleanup=function(){(this||be).running=!1,(this||be).lines=[],(this||be).states=[],(this||be).currentLine=0,this.removeAllListeners()},r);function r(Ae,we){(this||be).running=!1,(this||be).lines=[],(this||be).states=[],(this||be).currentLine=0,(this||be).tokenizer=Ae;var xe=this||be;(this||be).$worker=function(){if(xe.running){for(var be=new Date,Ae=xe.currentLine,we=-1,Se=xe.doc,ke=Ae;xe.lines[Ae];)Ae++;var Te=Se.getLength(),Ee=0;for(xe.running=!1;Ae<Te;){for(xe.$tokenizeRow(Ae),we=Ae;Ae++,xe.lines[Ae];);if(++Ee%5==0&&20<new Date-be){xe.running=setTimeout(xe.$worker,20);break}}xe.currentLine=Ae,ke<=(we=-1==we?Ae:we)&&xe.fireUpdateEvent(ke,we)}}}Se.implement(ke.prototype,Ae),we.BackgroundTokenizer=ke})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(Ae,we,xe){var Se=Ae("./lib/lang"),ke=Ae("./range").Range;Ae=(i.prototype.setRegexp=function(Ae){(this||be).regExp+""!=Ae+""&&((this||be).regExp=Ae,(this||be).cache=[])},i.prototype.update=function(Ae,we,xe,Te){if((this||be).regExp)for(var Ee=Te.firstRow,Re=Te.lastRow,_e={},$e=Ee;$e<=Re;$e++){var Le=(this||be).cache[$e];null==Le&&(Le=(Le=(Le=Se.getMatchOffsets(xe.getLine($e),(this||be).regExp)).length>(this||be).MAX_RANGES?Le.slice(0,(this||be).MAX_RANGES):Le).map((function(be){return new ke($e,be.offset,$e,be.offset+be.length)})),(this||be).cache[$e]=Le.length?Le:"");for(var Ne=Le.length;Ne--;){var Me=Le[Ne].toScreenRange(xe),Be=Me.toString();_e[Be]||(_e[Be]=!0,we.drawSingleLineMarker(Ae,Me,(this||be).clazz,Te))}}},i);function i(Ae,we,xe){void 0===xe&&(xe="text"),this.setRegexp(Ae),(this||be).clazz=we,(this||be).type=xe}Ae.prototype.MAX_RANGES=500,we.SearchHighlight=Ae})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(Ae,we,xe){o.prototype.addSession=function(Ae){(this||be).$session=Ae},o.prototype.add=function(Ae,we,xe){(this||be).$fromUndo||Ae!=(this||be).$lastDelta&&((this||be).$keepRedoStack||((this||be).$redoStack.length=0),!1!==we&&(this||be).lastDeltas||((this||be).lastDeltas=[],(we=(this||be).$undoStack.length)>(this||be).$undoDepth-1&&(this||be).$undoStack.splice(0,we-(this||be).$undoDepth+1),(this||be).$undoStack.push((this||be).lastDeltas),Ae.id=(this||be).$rev=++(this||be).$maxRev),"remove"!=Ae.action&&"insert"!=Ae.action||((this||be).$lastDelta=Ae),(this||be).lastDeltas.push(Ae))},o.prototype.addSelection=function(Ae,we){(this||be).selections.push({value:Ae,rev:we||(this||be).$rev})},o.prototype.startNewGroup=function(){return(this||be).lastDeltas=null,(this||be).$rev},o.prototype.markIgnored=function(Ae,we){null==we&&(we=(this||be).$rev+1);for(var xe=(this||be).$undoStack,Se=xe.length;Se--;){var ke=xe[Se][0];if(ke.id<=Ae)break;ke.id<we&&(ke.ignore=!0)}(this||be).lastDeltas=null},o.prototype.getSelection=function(Ae,we){for(var xe=(this||be).selections,Se=xe.length;Se--;){var ke=xe[Se];if(ke.rev<Ae)return we?xe[Se+1]:ke}},o.prototype.getRevision=function(){return(this||be).$rev},o.prototype.getDeltas=function(Ae,we){null==we&&(we=(this||be).$rev+1);for(var xe=(this||be).$undoStack,Se=null,ke=0,Te=xe.length;Te--;){var Ee=xe[Te][0];if(Ee.id<we&&!Se&&(Se=Te+1),Ee.id<=Ae){ke=Te+1;break}}return xe.slice(ke,Se)},o.prototype.getChangedRanges=function(Ae,we){null==we&&(this||be).$rev},o.prototype.getChangedLines=function(Ae,we){null==we&&(this||be).$rev},o.prototype.undo=function(Ae,we){(this||be).lastDeltas=null;var xe,Se=(this||be).$undoStack;if(function(be,Ae){for(var we=Ae;we--;){var xe=be[we];if(xe&&!xe[0].ignore){for(;we<Ae-1;){var Se=function(be,Ae){for(var we=be.length;we--;)for(var xe=0;xe<Ae.length;xe++)if(!a(be[we],Ae[xe])){for(;we<be.length;){for(;xe--;)a(Ae[xe],be[we]);xe=Ae.length,we++}return[be,Ae]}return be.selectionBefore=Ae.selectionBefore=be.selectionAfter=Ae.selectionAfter=null,[Ae,be]}(be[we],be[we+1]);be[we]=Se[0],be[we+1]=Se[1],we++}return 1}}}(Se,Se.length))return Ae=Ae||(this||be).$session,(this||be).$redoStackBaseRev!==(this||be).$rev&&(this||be).$redoStack.length&&((this||be).$redoStack=[]),(this||be).$fromUndo=!0,xe=null,(Se=Se.pop())&&(xe=Ae.undoChanges(Se,we),(this||be).$redoStack.push(Se),this.$syncRev()),(this||be).$fromUndo=!1,xe},o.prototype.redo=function(Ae,we){if((this||be).lastDeltas=null,Ae=Ae||(this||be).$session,(this||be).$fromUndo=!0,(this||be).$redoStackBaseRev!=(this||be).$rev){for(var xe=this.getDeltas((this||be).$redoStackBaseRev,(this||be).$rev+1),Se=(this||be).$redoStack,Ee=xe,Re=0;Re<Ee.length;Re++)for(var _e=Ee[Re],$e=0;$e<_e.length;$e++){Le=void 0;Ne=void 0;Me=void 0;Be=void 0;We=void 0;Pe=void 0;var Le=Se;var Ne=_e[$e];Ne=function(be){return{start:C(be.start),end:C(be.end),action:be.action,lines:be.lines.slice()}}(Ne);for(var Me=Le.length;Me--;){for(var Be=Le[Me],We=0;We<Be.length;We++){var Pe=function(be,Ae){var we,xe,Se="insert"==be.action,Ee="insert"==Ae.action;if(Se&&Ee)Te(be.start,Ae.start)<0?y(Ae,be,1):y(be,Ae,1);else if(Se&&!Ee)0<=Te(be.start,Ae.end)?y(be,Ae,-1):(Te(be.start,Ae.start)<=0||y(be,ke.fromPoints(Ae.start,be.start),-1),y(Ae,be,1));else if(!Se&&Ee)0<=Te(Ae.start,be.end)?y(Ae,be,-1):(Te(Ae.start,be.start)<=0||y(Ae,ke.fromPoints(be.start,Ae.start),-1),y(be,Ae,1));else if(!Se&&!Ee)if(0<=Te(Ae.start,be.end))y(Ae,be,-1);else{if(!(Te(Ae.end,be.start)<=0))return Te(be.start,Ae.start)<0&&(be=I(we=be,Ae.start)),0<Te(be.end,Ae.end)&&(xe=I(be,Ae.end)),v(Ae.end,be.start,be.end,-1),xe&&!we&&(be.lines=xe.lines,be.start=xe.start,be.end=xe.end,xe=be),[Ae,we,xe].filter(Boolean);y(be,Ae,-1)}return[Ae,be]}(Be[We],Ne);Ne=Pe[0],2!=Pe.length&&(Pe[2]?(Be.splice(We+1,1,Pe[1],Pe[2]),We++):Pe[1]||(Be.splice(We,1),We--))}Be.length||Le.splice(Me,1)}}(this||be).$redoStackBaseRev=(this||be).$rev,(this||be).$redoStack.forEach((function(Ae){Ae[0].id=++(this||be).$maxRev}),this||be)}xe=(this||be).$redoStack.pop();var He=null;return xe&&(He=Ae.redoChanges(xe,we),(this||be).$undoStack.push(xe),this.$syncRev()),(this||be).$fromUndo=!1,He},o.prototype.$syncRev=function(){var Ae=(this||be).$undoStack;Ae=Ae[Ae.length-1],Ae=Ae&&Ae[0].id||0;(this||be).$redoStackBaseRev=Ae,(this||be).$rev=Ae},o.prototype.reset=function(){(this||be).lastDeltas=null,(this||be).$lastDelta=null,(this||be).$undoStack=[],(this||be).$redoStack=[],(this||be).$rev=0,(this||be).mark=0,(this||be).$redoStackBaseRev=(this||be).$rev,(this||be).selections=[]},o.prototype.canUndo=function(){return 0<(this||be).$undoStack.length},o.prototype.canRedo=function(){return 0<(this||be).$redoStack.length},o.prototype.bookmark=function(Ae){null==Ae&&(Ae=(this||be).$rev),(this||be).mark=Ae},o.prototype.isAtBookmark=function(){return(this||be).$rev===(this||be).mark},o.prototype.toJSON=function(){return{$redoStack:(this||be).$redoStack,$undoStack:(this||be).$undoStack}},o.prototype.fromJSON=function(Ae){this.reset(),(this||be).$undoStack=Ae.$undoStack,(this||be).$redoStack=Ae.$redoStack},o.prototype.$prettyPrint=function(Ae){return Ae?r(Ae):r((this||be).$undoStack)+"\n---\n"+r((this||be).$redoStack)};var Se=o;function o(){(this||be).$keepRedoStack,(this||be).$maxRev=0,(this||be).$fromUndo=!1,(this||be).$undoDepth=1/0,this.reset()}Se.prototype.hasUndo=Se.prototype.canUndo,Se.prototype.hasRedo=Se.prototype.canRedo,Se.prototype.isClean=Se.prototype.isAtBookmark,Se.prototype.markClean=Se.prototype.bookmark;var ke=Ae("./range").Range,Te=ke.comparePoints;ke.comparePoints;function C(be){return{row:be.row,column:be.column}}function r(Ae){var we;return Ae=Ae||this||be,Array.isArray(Ae)?Ae.map(r).join("\n"):(we="",Ae.action?(we="insert"==Ae.action?"+":"-",we+="["+Ae.lines+"]"):Ae.value&&(we=Array.isArray(Ae.value)?Ae.value.map(s).join("\n"):s(Ae.value)),Ae.start&&(we+=s(Ae)),(Ae.id||Ae.rev)&&(we+="\t("+(Ae.id||Ae.rev)+")"),we)}function s(be){return be.start.row+":"+be.start.column+"=>"+be.end.row+":"+be.end.column}function a(be,Ae){var we="insert"==be.action,xe="insert"==Ae.action;if(we&&xe)if(0<=Te(Ae.start,be.end))y(Ae,be,-1);else{if(!(Te(Ae.start,be.start)<=0))return;y(be,Ae,1)}else if(we&&!xe)if(0<=Te(Ae.start,be.end))y(Ae,be,-1);else{if(!(Te(Ae.end,be.start)<=0))return;y(be,Ae,-1)}else if(!we&&xe)if(0<=Te(Ae.start,be.start))y(Ae,be,1);else{if(!(Te(Ae.start,be.start)<=0))return;y(be,Ae,1)}else if(!we&&!xe)if(0<=Te(Ae.start,be.start))y(Ae,be,1);else{if(!(Te(Ae.end,be.start)<=0))return;y(be,Ae,-1)}return 1}function y(be,Ae,we){v(be.start,Ae.start,Ae.end,we),v(be.end,Ae.start,Ae.end,we)}function v(be,Ae,we,xe){be.row==(1==xe?Ae:we).row&&(be.column+=xe*(we.column-Ae.column)),be.row+=xe*(we.row-Ae.row)}function I(be,Ae){var we=be.lines,xe=be.end,Se=(be.end=C(Ae),be.end.row-be.start.row),ke=we.splice(Se,we.length);Se=Se?Ae.column:Ae.column-be.start.column;return we.push(ke[0].substring(0,Se)),ke[0]=ke[0].substr(Se),{start:C(Ae),end:xe,lines:ke,action:be.action}}we.UndoManager=Se})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(Ae,we,xe){var Se=Ae("../range").Range;function o(Ae,we){(this||be).foldData=Ae,Array.isArray(we)?(this||be).folds=we:we=(this||be).folds=[we];Ae=we[we.length-1];(this||be).range=new Se(we[0].start.row,we[0].start.column,Ae.end.row,Ae.end.column),(this||be).start=(this||be).range.start,(this||be).end=(this||be).range.end,(this||be).folds.forEach((function(Ae){Ae.setFoldLine(this||be)}),this||be)}o.prototype.shiftRow=function(Ae){(this||be).start.row+=Ae,(this||be).end.row+=Ae,(this||be).folds.forEach((function(be){be.start.row+=Ae,be.end.row+=Ae}))},o.prototype.addFold=function(Ae){if(Ae.sameRow){if(Ae.start.row<(this||be).startRow||Ae.endRow>(this||be).endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");(this||be).folds.push(Ae),(this||be).folds.sort((function(be,Ae){return-be.range.compareEnd(Ae.start.row,Ae.start.column)})),0<(this||be).range.compareEnd(Ae.start.row,Ae.start.column)?((this||be).end.row=Ae.end.row,(this||be).end.column=Ae.end.column):(this||be).range.compareStart(Ae.end.row,Ae.end.column)<0&&((this||be).start.row=Ae.start.row,(this||be).start.column=Ae.start.column)}else if(Ae.start.row==(this||be).end.row)(this||be).folds.push(Ae),(this||be).end.row=Ae.end.row,(this||be).end.column=Ae.end.column;else{if(Ae.end.row!=(this||be).start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");(this||be).folds.unshift(Ae),(this||be).start.row=Ae.start.row,(this||be).start.column=Ae.start.column}Ae.foldLine=this||be},o.prototype.containsRow=function(Ae){return Ae>=(this||be).start.row&&Ae<=(this||be).end.row},o.prototype.walk=function(Ae,we,xe){var Se,ke,Te=0,Ee=(this||be).folds,Re=!0;null==we&&(we=(this||be).end.row,xe=(this||be).end.column);for(var _e=0;_e<Ee.length;_e++){if(-1==(ke=(Se=Ee[_e]).range.compareStart(we,xe)))return void Ae(null,we,xe,Te,Re);if(!Ae(null,Se.start.row,Se.start.column,Te,Re)&&Ae(Se.placeholder,Se.start.row,Se.start.column,Te)||0===ke)return;Re=!Se.sameRow,Te=Se.end.column}Ae(null,we,xe,Te,Re)},o.prototype.getNextFoldTo=function(Ae,we){for(var xe,Se,ke=0;ke<(this||be).folds.length;ke++){if(-1==(Se=(xe=(this||be).folds[ke]).range.compareEnd(Ae,we)))return{fold:xe,kind:"after"};if(0===Se)return{fold:xe,kind:"inside"}}return null},o.prototype.addRemoveChars=function(Ae,we,xe){var Se,ke=this.getNextFoldTo(Ae,we);if(ke)if(Se=ke.fold,"inside"==ke.kind&&Se.start.column!=we&&Se.start.row!=Ae)window.console&&window.console.log(Ae,we,Se);else if(Se.start.row==Ae){var Te,Ee=(Te=(this||be).folds).indexOf(Se);for(0===Ee&&((this||be).start.column+=xe);Ee<Te.length;Ee++){if((Se=Te[Ee]).start.column+=xe,!Se.sameRow)return;Se.end.column+=xe}(this||be).end.column+=xe}},o.prototype.split=function(Ae,we){var xe,Se;Ae=this.getNextFoldTo(Ae,we);return Ae&&"inside"!=Ae.kind?(we=Ae.fold,Ae=(this||be).folds,xe=(this||be).foldData,we=Ae.indexOf(we),Se=Ae[we-1],(this||be).end.row=Se.end.row,(this||be).end.column=Se.end.column,Se=new o(xe,Ae=Ae.splice(we,Ae.length-we)),xe.splice(xe.indexOf(this||be)+1,0,Se),Se):null},o.prototype.merge=function(Ae){for(var we=Ae.folds,xe=0;xe<we.length;xe++)this.addFold(we[xe]);var Se=(this||be).foldData;Se.splice(Se.indexOf(Ae),1)},o.prototype.toString=function(){var Ae=[(this||be).range.toString()+": ["];return(this||be).folds.forEach((function(be){Ae.push("  "+be.toString())})),Ae.push("]"),Ae.join("\n")},o.prototype.idxToPosition=function(Ae){for(var we=0,xe=0;xe<(this||be).folds.length;xe++){var Se=(this||be).folds[xe];if((Ae-=Se.start.column-we)<0)return{row:Se.start.row,column:Se.start.column+Ae};if((Ae-=Se.placeholder.length)<0)return Se.start;we=Se.end.column}return{row:(this||be).end.row,column:(this||be).end.column+Ae}},we.FoldLine=o})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(Ae,we,xe){var Se=Ae("./range").Range.comparePoints;Ae=(i.prototype.pointIndex=function(Ae,we,xe){for(var ke=(this||be).ranges,Te=xe||0;Te<ke.length;Te++){var Ee=ke[Te],Re=Se(Ae,Ee.end);if(!(0<Re))return Ee=Se(Ae,Ee.start),0===Re?we&&0!==Ee?-Te-2:Te:0<Ee||0===Ee&&!we?Te:-Te-1}return-Te-1},i.prototype.add=function(Ae){var we=!Ae.isEmpty(),xe=this.pointIndex(Ae.start,we);we=this.pointIndex(Ae.end,we,xe=xe<0?-xe-1:xe);return we<0?we=-we-1:we++,(this||be).ranges.splice(xe,we-xe,Ae)},i.prototype.addList=function(be){for(var Ae=[],we=be.length;we--;)Ae.push.apply(Ae,this.add(be[we]));return Ae},i.prototype.substractPoint=function(Ae){Ae=this.pointIndex(Ae);if(0<=Ae)return(this||be).ranges.splice(Ae,1)},i.prototype.merge=function(){for(var Ae=[],we=(this||be).ranges,xe=(we=we.sort((function(be,Ae){return Se(be.start,Ae.start)})))[0],ke=1;ke<we.length;ke++){var Te=xe,Ee=(xe=we[ke],Se(Te.end,xe.start));Ee<0||(0!=Ee||Te.isEmpty()||xe.isEmpty())&&(Se(Te.end,xe.end)<0&&(Te.end.row=xe.end.row,Te.end.column=xe.end.column),we.splice(ke,1),Ae.push(xe),xe=Te,ke--)}return(this||be).ranges=we,Ae},i.prototype.contains=function(be,Ae){return 0<=this.pointIndex({row:be,column:Ae})},i.prototype.containsPoint=function(be){return 0<=this.pointIndex(be)},i.prototype.rangeAtPoint=function(Ae){Ae=this.pointIndex(Ae);if(0<=Ae)return(this||be).ranges[Ae]},i.prototype.clipRows=function(Ae,we){var xe=(this||be).ranges;if(xe[0].start.row>we||xe[xe.length-1].start.row<Ae)return[];Ae=this.pointIndex({row:Ae,column:0});for(var Se=this.pointIndex({row:we,column:0},Ae=Ae<0?-Ae-1:Ae),ke=(Se<0&&(Se=-Se-1),[]),Te=Ae;Te<Se;Te++)ke.push(xe[Te]);return ke},i.prototype.removeAll=function(){return(this||be).ranges.splice(0,(this||be).ranges.length)},i.prototype.attach=function(Ae){(this||be).session&&this.detach(),(this||be).session=Ae,(this||be).onChange=(this||be).$onChange.bind(this||be),(this||be).session.on("change",(this||be).onChange)},i.prototype.detach=function(){(this||be).session&&((this||be).session.removeListener("change",(this||be).onChange),(this||be).session=null)},i.prototype.$onChange=function(Ae){for(var we=Ae.start,xe=Ae.end,Se=we.row,ke=xe.row,Te=(this||be).ranges,Ee=0,Re=Te.length;Ee<Re&&!((Le=Te[Ee]).end.row>=Se);Ee++);if("insert"==Ae.action)for(var _e=ke-Se,$e=-we.column+xe.column;Ee<Re;Ee++){if((Le=Te[Ee]).start.row>Se)break;Le.start.row==Se&&Le.start.column>=we.column&&(Le.start.column==we.column&&(this||be).$bias<=0||(Le.start.column+=$e,Le.start.row+=_e)),Le.end.row==Se&&Le.end.column>=we.column&&(Le.end.column==we.column&&(this||be).$bias<0||(Le.end.column==we.column&&0<$e&&Ee<Re-1&&Le.end.column>Le.start.column&&Le.end.column==Te[Ee+1].start.column&&(Le.end.column-=$e),Le.end.column+=$e,Le.end.row+=_e))}else{var Le;for(_e=Se-ke,$e=we.column-xe.column;Ee<Re;Ee++){if((Le=Te[Ee]).start.row>ke)break;Le.end.row<ke&&(Se<Le.end.row||Se==Le.end.row&&we.column<Le.end.column)?(Le.end.row=Se,Le.end.column=we.column):Le.end.row==ke?Le.end.column<=xe.column?(_e||Le.end.column>we.column)&&(Le.end.column=we.column,Le.end.row=we.row):(Le.end.column+=$e,Le.end.row+=_e):Le.end.row>ke&&(Le.end.row+=_e),Le.start.row<ke&&(Se<Le.start.row||Se==Le.start.row&&we.column<Le.start.column)?(Le.start.row=Se,Le.start.column=we.column):Le.start.row==ke?Le.start.column<=xe.column?(_e||Le.start.column>we.column)&&(Le.start.column=we.column,Le.start.row=we.row):(Le.start.column+=$e,Le.start.row+=_e):Le.start.row>ke&&(Le.start.row+=_e)}}if(0!=_e&&Ee<Re)for(;Ee<Re;Ee++)(Le=Te[Ee]).start.row+=_e,Le.end.row+=_e},i);function i(){(this||be).ranges=[],(this||be).$bias=1}Ae.prototype.comparePoints=Se,we.RangeList=Ae})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(Ae,we,xe){var Se,ke,Te=(this||be)&&(this||be).__extends||(Se=function(be,Ae){return(Se=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,Ae){be.__proto__=Ae}:function(be,Ae){for(var we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(be[we]=Ae[we])}))(be,Ae)},function(Ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function n(){(this||be).constructor=Ae}Se(Ae,we),Ae.prototype=null===we?Object.create(we):(n.prototype=we.prototype,new n)});Ae=Ae("../range_list").RangeList,Te=(Te(s,ke=Ae),s.prototype.toString=function(){return'"'+(this||be).placeholder+'" '+(this||be).range.toString()},s.prototype.setFoldLine=function(Ae){(this||be).foldLine=Ae,(this||be).subFolds.forEach((function(be){be.setFoldLine(Ae)}))},s.prototype.clone=function(){var Ae=new s((this||be).range.clone(),(this||be).placeholder);return(this||be).subFolds.forEach((function(be){Ae.subFolds.push(be.clone())})),Ae.collapseChildren=(this||be).collapseChildren,Ae},s.prototype.addSubFold=function(Ae){if(!(this||be).range.isEqual(Ae)){Te=Ae,Ee=(this||be).start,d(Te.start,Ee),d(Te.end,Ee);for(var we=Ae.start.row,xe=Ae.start.column,Se=0,ke=-1;Se<(this||be).subFolds.length&&1==(ke=(this||be).subFolds[Se].range.compare(we,xe));Se++);var Te=(this||be).subFolds[Se],Ee=0;if(0==ke){if(Te.range.containsRange(Ae))return Te.addSubFold(Ae);Ee=1}we=Ae.range.end.row,xe=Ae.range.end.column;var Re=Se;for(ke=-1;Re<(this||be).subFolds.length&&1==(ke=(this||be).subFolds[Re].range.compare(we,xe));Re++);0==ke&&Re++;for(var _e=(this||be).subFolds.splice(Se,Re-Se,Ae),$e=0==ke?_e.length-1:_e.length,Le=Ee;Le<$e;Le++)Ae.addSubFold(_e[Le]);return Ae.setFoldLine((this||be).foldLine),Ae}},s.prototype.restoreRange=function(Ae){return Ae,we=(this||be).start,a(Ae.start,we),void a(Ae.end,we);var we},s);function s(Ae,we){var xe=ke.call(this||be)||this||be;return xe.foldLine=null,xe.placeholder=we,xe.range=Ae,xe.start=Ae.start,xe.end=Ae.end,xe.sameRow=Ae.start.row==Ae.end.row,xe.subFolds=xe.ranges=[],xe}function d(be,Ae){be.row-=Ae.row,0==be.row&&(be.column-=Ae.column)}function a(be,Ae){0==be.row&&(be.column+=Ae.column),be.row+=Ae.row}we.Fold=Te})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(Ae,we,xe){var Se=Ae("../range").Range,ke=Ae("./fold_line").FoldLine,Te=Ae("./fold").Fold,Ee=Ae("../token_iterator").TokenIterator,Re=Ae("../mouse/mouse_event").MouseEvent;we.Folding=function(){(this||be).getFoldAt=function(be,Ae,we){var xe=this.getFoldLine(be);if(!xe)return null;for(var Se=xe.folds,ke=0;ke<Se.length;ke++){var Te=Se[ke].range;if(Te.contains(be,Ae)&&(1!=we||!Te.isEnd(be,Ae)||Te.isEmpty())&&(-1!=we||!Te.isStart(be,Ae)||Te.isEmpty()))return Se[ke]}},(this||be).getFoldsInRange=function(Ae){var we=Ae.start,xe=Ae.end,Se=(this||be).$foldData,ke=[];we.column+=1,--xe.column;for(var Te=0;Te<Se.length;Te++){var Ee=Se[Te].range.compareRange(Ae);if(2!=Ee){if(-2==Ee)break;for(var Re=Se[Te].folds,_e=0;_e<Re.length;_e++){var $e=Re[_e];if(-2==(Ee=$e.range.compareRange(Ae)))break;if(2!=Ee){if(42==Ee)break;ke.push($e)}}}}return--we.column,xe.column+=1,ke},(this||be).getFoldsInRangeList=function(Ae){var we;return Array.isArray(Ae)?(we=[],Ae.forEach((function(be){we=we.concat(this.getFoldsInRange(be))}),this||be)):we=this.getFoldsInRange(Ae),we},(this||be).getAllFolds=function(){for(var Ae=[],we=(this||be).$foldData,xe=0;xe<we.length;xe++)for(var Se=0;Se<we[xe].folds.length;Se++)Ae.push(we[xe].folds[Se]);return Ae},(this||be).getFoldStringAt=function(be,Ae,we,xe){if(!(xe=xe||this.getFoldLine(be)))return null;for(var Se,ke={end:{column:0}},Te=0;Te<xe.folds.length;Te++){var Ee,Re=(Ee=xe.folds[Te]).range.compareEnd(be,Ae);if(-1==Re){Se=this.getLine(Ee.start.row).substring(ke.end.column,Ee.start.column);break}if(0===Re)return null;ke=Ee}return Se=Se||this.getLine(Ee.start.row).substring(ke.end.column),-1==we?Se.substring(0,Ae-ke.end.column):1==we?Se.substring(Ae-ke.end.column):Se},(this||be).getFoldLine=function(Ae,we){var xe=(this||be).$foldData,Se=0;for(-1==(Se=we?xe.indexOf(we):Se)&&(Se=0);Se<xe.length;Se++){var ke=xe[Se];if(ke.start.row<=Ae&&ke.end.row>=Ae)return ke;if(ke.end.row>Ae)return null}return null},(this||be).getNextFoldLine=function(Ae,we){var xe=(this||be).$foldData,Se=0;for(-1==(Se=we?xe.indexOf(we):Se)&&(Se=0);Se<xe.length;Se++){var ke=xe[Se];if(ke.end.row>=Ae)return ke}return null},(this||be).getFoldedRowCount=function(Ae,we){for(var xe=(this||be).$foldData,Se=we-Ae+1,ke=0;ke<xe.length;ke++){var Te=xe[ke],Ee=Te.end.row;Te=Te.start.row;if(we<=Ee){Te<we&&(Ae<=Te?Se-=we-Te:Se=0);break}Ae<=Ee&&(Se-=Ae<=Te?Ee-Te:Ee-Ae+1)}return Se},(this||be).$addFoldLine=function(Ae){return(this||be).$foldData.push(Ae),(this||be).$foldData.sort((function(be,Ae){return be.start.row-Ae.start.row})),Ae},(this||be).addFold=function(Ae,we){var xe,Se=(this||be).$foldData,Ee=!1,Re=(Ae instanceof Te?xe=Ae:(xe=new Te(we,Ae)).collapseChildren=we.collapseChildren,this.$clipRangeToDocument(xe.range),xe.start.row),_e=(Ae=xe.start.column,xe.end.row),$e=(we=xe.end.column,this.getFoldAt(Re,Ae,1)),Le=this.getFoldAt(_e,we,-1);if($e&&Le==$e)return $e.addSubFold(xe);$e&&!$e.range.isStart(Re,Ae)&&this.removeFold($e),Le&&!Le.range.isEnd(_e,we)&&this.removeFold(Le);Ae=this.getFoldsInRange(xe.range);0<Ae.length&&(this.removeFolds(Ae),xe.collapseChildren||Ae.forEach((function(be){xe.addSubFold(be)})));for(var Ne=0;Ne<Se.length;Ne++){var Me=Se[Ne];if(_e==Me.start.row){Me.addFold(xe),Ee=!0;break}if(Re==Me.end.row){if(Me.addFold(xe),Ee=!0,!xe.sameRow){var Be=Se[Ne+1];if(Be&&Be.start.row==_e){Me.merge(Be);break}}break}if(_e<=Me.start.row)break}return Ee||(Me=this.$addFoldLine(new ke((this||be).$foldData,xe))),(this||be).$useWrapMode?this.$updateWrapData(Me.start.row,Me.start.row):this.$updateRowLengthCache(Me.start.row,Me.start.row),(this||be).$modified=!0,this._signal("changeFold",{data:xe,action:"add"}),xe},(this||be).addFolds=function(Ae){Ae.forEach((function(be){this.addFold(be)}),this||be)},(this||be).removeFold=function(Ae){var we=Ae.foldLine,xe=we.start.row,Se=we.end.row,ke=(this||be).$foldData,Te=we.folds;1==Te.length?ke.splice(ke.indexOf(we),1):we.range.isEnd(Ae.end.row,Ae.end.column)?(Te.pop(),we.end.row=Te[Te.length-1].end.row,we.end.column=Te[Te.length-1].end.column):we.range.isStart(Ae.start.row,Ae.start.column)?(Te.shift(),we.start.row=Te[0].start.row,we.start.column=Te[0].start.column):Ae.sameRow?Te.splice(Te.indexOf(Ae),1):((Te=(ke=we.split(Ae.start.row,Ae.start.column)).folds).shift(),ke.start.row=Te[0].start.row,ke.start.column=Te[0].start.column),(this||be).$updating||((this||be).$useWrapMode?this.$updateWrapData(xe,Se):this.$updateRowLengthCache(xe,Se)),(this||be).$modified=!0,this._signal("changeFold",{data:Ae,action:"remove"})},(this||be).removeFolds=function(Ae){for(var we=[],xe=0;xe<Ae.length;xe++)we.push(Ae[xe]);we.forEach((function(be){this.removeFold(be)}),this||be),(this||be).$modified=!0},(this||be).expandFold=function(Ae){this.removeFold(Ae),Ae.subFolds.forEach((function(be){Ae.restoreRange(be),this.addFold(be)}),this||be),0<Ae.collapseChildren&&this.foldAll(Ae.start.row+1,Ae.end.row,Ae.collapseChildren-1),Ae.subFolds=[]},(this||be).expandFolds=function(Ae){Ae.forEach((function(be){this.expandFold(be)}),this||be)},(this||be).unfold=function(Ae,we){var xe;if(null==Ae)xe=new Se(0,0,this.getLength(),0),null==we&&(we=!0);else if("number"==typeof Ae)xe=new Se(Ae,0,Ae,this.getLine(Ae).length);else if("row"in Ae)xe=Se.fromPoints(Ae,Ae);else{if(Array.isArray(Ae))return ke=[],Ae.forEach((function(be){ke=ke.concat(this.unfold(be))}),this||be),ke;xe=Ae}var ke;for(Ae=ke=this.getFoldsInRangeList(xe);1==ke.length&&Se.comparePoints(ke[0].start,xe.start)<0&&0<Se.comparePoints(ke[0].end,xe.end);)this.expandFolds(ke),ke=this.getFoldsInRangeList(xe);if(0!=we?this.removeFolds(ke):this.expandFolds(ke),Ae.length)return Ae},(this||be).isRowFolded=function(be,Ae){return!!this.getFoldLine(be,Ae)},(this||be).getRowFoldEnd=function(be,Ae){Ae=this.getFoldLine(be,Ae);return Ae?Ae.end.row:be},(this||be).getRowFoldStart=function(be,Ae){Ae=this.getFoldLine(be,Ae);return Ae?Ae.start.row:be},(this||be).getFoldDisplayLine=function(Ae,we,xe,Se,ke){null==Se&&(Se=Ae.start.row),null==ke&&(ke=0),null==we&&(we=Ae.end.row),null==xe&&(xe=this.getLine(we).length);var Te=(this||be).doc,Ee="";return Ae.walk((function(be,Ae,we,xe){if(!(Ae<Se)){if(Ae==Se){if(we<ke)return;xe=Math.max(ke,xe)}Ee+=null!=be?be:Te.getLine(Ae).substring(xe,we)}}),we,xe),Ee},(this||be).getDisplayLine=function(Ae,we,xe,Se){var ke=this.getFoldLine(Ae);return ke?this.getFoldDisplayLine(ke,Ae,we,xe,Se):(ke=(this||be).doc.getLine(Ae)).substring(Se||0,we||ke.length)},(this||be).$cloneFoldData=function(){var Ae=[];return Ae=(this||be).$foldData.map((function(be){be=be.folds.map((function(be){return be.clone()}));return new ke(Ae,be)}))},(this||be).toggleFold=function(Ae){var we=(this||be).selection.getRange();if(we.isEmpty()){var xe,Se=we.start;if(xe=this.getFoldAt(Se.row,Se.column))return void this.expandFold(xe);(ke=this.findMatchingBracket(Se))?1==we.comparePoint(ke)?we.end=ke:(we.start=ke,we.start.column++,we.end.column--):(ke=this.findMatchingBracket({row:Se.row,column:Se.column+1}))?(1==we.comparePoint(ke)?we.end=ke:we.start=ke,we.start.column++):we=this.getCommentFoldRange(Se.row,Se.column)||we}else{var ke=this.getFoldsInRange(we);if(Ae&&ke.length)return void this.expandFolds(ke);1==ke.length&&(xe=ke[0])}if((xe=xe||this.getFoldAt(we.start.row,we.start.column))&&xe.range.toString()==we.toString())this.expandFold(xe);else{Se="...";if(!we.isMultiLine()){if((Se=this.getTextRange(we)).length<4)return;Se=Se.trim().substring(0,2)+".."}this.addFold(Se,we)}},(this||be).getCommentFoldRange=function(Ae,we,xe){var ke=new Ee(this||be,Ae,we),Te=ke.getCurrentToken(),Re=Te&&Te.type;if(Te&&/^comment|string/.test(Re)){"comment"==(Re=Re.match(/comment|string/)[0])&&(Re+="|doc-start|\\.doc");var _e=new RegExp(Re);Re=new Se;if(1!=xe){for(;(Te=ke.stepBackward())&&_e.test(Te.type)&&!/^comment.end/.test(Te.type););Te=ke.stepForward()}if(Re.start.row=ke.getCurrentTokenRow(),Re.start.column=ke.getCurrentTokenColumn()+(/^comment.start/.test(Te.type)?Te.value.length:2),ke=new Ee(this||be,Ae,we),-1!=xe){var $e=-1;do{if(Te=ke.stepForward(),-1==$e){var Le=this.getState(ke.$row);_e.test(Le)||($e=ke.$row)}else if(ke.$row>$e)break}while(Te&&_e.test(Te.type)&&!/^comment.start/.test(Te.type));Te=ke.stepBackward()}else Te=ke.getCurrentToken();return Re.end.row=ke.getCurrentTokenRow(),Re.end.column=ke.getCurrentTokenColumn(),/^comment.end/.test(Te.type)||(Re.end.column+=Te.value.length-2),Re}},(this||be).foldAll=function(Ae,we,xe,Se){null==xe&&(xe=1e5);var ke=(this||be).foldWidgets;if(ke){we=we||this.getLength();for(var Te,Ee=Ae=Ae||0;Ee<we;Ee++)null==ke[Ee]&&(ke[Ee]=this.getFoldWidget(Ee)),"start"!=ke[Ee]||Se&&!Se(Ee)||(Te=this.getFoldWidgetRange(Ee))&&Te.isMultiLine()&&Te.end.row<=we&&Te.start.row>=Ae&&(Ee=Te.end.row,Te.collapseChildren=xe,this.addFold("...",Te))}},(this||be).foldToLevel=function(be){for(this.foldAll();0<be--;)this.unfold(null,!1)},(this||be).foldAllComments=function(){var Ae=this||be;this.foldAll(null,null,null,(function(be){for(var we=Ae.getTokens(be),xe=0;xe<we.length;xe++){var Se=we[xe];if("text"!=Se.type||!/^\s+$/.test(Se.value))return!!/comment/.test(Se.type)}}))},(this||be).$foldStyles={manual:1,markbegin:1,markbeginend:1},(this||be).$foldStyle="markbegin",(this||be).setFoldStyle=function(Ae){if(!(this||be).$foldStyles[Ae])throw new Error("invalid fold style: "+Ae+"["+Object.keys((this||be).$foldStyles).join(", ")+"]");(this||be).$foldStyle!=Ae&&("manual"==((this||be).$foldStyle=Ae)&&this.unfold(),Ae=(this||be).$foldMode,this.$setFolding(null),this.$setFolding(Ae))},(this||be).$setFolding=function(Ae){(this||be).$foldMode!=Ae&&((this||be).$foldMode=Ae,this.off("change",(this||be).$updateFoldWidgets),this.off("tokenizerUpdate",(this||be).$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),Ae&&"manual"!=(this||be).$foldStyle?((this||be).foldWidgets=[],(this||be).getFoldWidget=Ae.getFoldWidget.bind(Ae,this||be,(this||be).$foldStyle),(this||be).getFoldWidgetRange=Ae.getFoldWidgetRange.bind(Ae,this||be,(this||be).$foldStyle),(this||be).$updateFoldWidgets=(this||be).updateFoldWidgets.bind(this||be),(this||be).$tokenizerUpdateFoldWidgets=(this||be).tokenizerUpdateFoldWidgets.bind(this||be),this.on("change",(this||be).$updateFoldWidgets),this.on("tokenizerUpdate",(this||be).$tokenizerUpdateFoldWidgets)):(this||be).foldWidgets=null)},(this||be).getParentFoldRangeData=function(Ae,we){var xe=(this||be).foldWidgets;if(!xe||we&&xe[Ae])return{};for(var Se=Ae-1;0<=Se;){var ke=xe[Se];if("start"==(ke=null==ke?xe[Se]=this.getFoldWidget(Se):ke)){var Te=this.getFoldWidgetRange(Se),Ee=Ee||Te;if(Te&&Te.end.row>=Ae)break}Se--}return{range:-1!==Se&&Te,firstRange:Ee}},(this||be).onFoldWidgetClick=function(be,Ae){var we={children:(Ae=Ae instanceof Re?Ae.domEvent:Ae).shiftKey,all:Ae.ctrlKey||Ae.metaKey,siblings:Ae.altKey};this.$toggleFoldWidget(be,we)||(be=Ae.target||Ae.srcElement)&&/ace_fold-widget/.test(be.className)&&(be.className+=" ace_invalid")},(this||be).$toggleFoldWidget=function(Ae,we){var xe,Se,ke,Te;if((this||be).getFoldWidget)return xe=this.getFoldWidget(Ae),Se=this.getLine(Ae),(Se=this.getFoldAt(Ae,-1==(xe="end"===xe?-1:1)?0:Se.length,xe))?(we.children||we.all?this.removeFold(Se):this.expandFold(Se),Se):(xe=this.getFoldWidgetRange(Ae,!0))&&!xe.isMultiLine()&&(Se=this.getFoldAt(xe.start.row,xe.start.column,1))&&xe.isEqual(Se.range)?(this.removeFold(Se),Se):(we.siblings?((Se=this.getParentFoldRangeData(Ae)).range&&(ke=Se.range.start.row+1,Te=Se.range.end.row),this.foldAll(ke,Te,we.all?1e4:0)):we.children?(Te=xe?xe.end.row:this.getLength(),this.foldAll(Ae+1,Te,we.all?1e4:0)):xe&&(we.all&&(xe.collapseChildren=1e4),this.addFold("...",xe)),xe)},(this||be).toggleFoldWidget=function(Ae){var we,xe=(this||be).selection.getCursor().row;xe=this.getRowFoldStart(xe),!this.$toggleFoldWidget(xe,{})&&(we=(we=this.getParentFoldRangeData(xe,!0)).range||we.firstRange)&&(xe=we.start.row,(xe=this.getFoldAt(xe,this.getLine(xe).length,1))?this.removeFold(xe):this.addFold("...",we))},(this||be).updateFoldWidgets=function(Ae){var we=Ae.start.row,xe=Ae.end.row-we;0==xe?(this||be).foldWidgets[we]=null:"remove"==Ae.action?(this||be).foldWidgets.splice(we,1+xe,null):((Ae=Array(1+xe)).unshift(we,1),(this||be).foldWidgets.splice.apply((this||be).foldWidgets,Ae))},(this||be).tokenizerUpdateFoldWidgets=function(Ae){Ae=Ae.data;Ae.first!=Ae.last&&(this||be).foldWidgets.length>Ae.first&&(this||be).foldWidgets.splice(Ae.first,(this||be).foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(Ae,we,xe){var Se=Ae("../token_iterator").TokenIterator,ke=Ae("../range").Range;we.BracketMatch=function(){(this||be).findMatchingBracket=function(be,Ae){return 0!=be.column&&""!=(Ae=Ae||this.getLine(be.row).charAt(be.column-1))&&(Ae=Ae.match(/([\(\[\{])|([\)\]\}])/))?Ae[1]?this.$findClosingBracket(Ae[1],be):this.$findOpeningBracket(Ae[2],be):null},(this||be).getBracketRange=function(be){var Ae,we,xe=this.getLine(be.row),Se=!0,Te=xe.charAt(be.column-1),Ee=Te&&Te.match(/([\(\[\{])|([\)\]\}])/);if(Ee||(Te=xe.charAt(be.column),be={row:be.row,column:be.column+1},Ee=Te&&Te.match(/([\(\[\{])|([\)\]\}])/),Se=!1),!Ee)return null;if(Ee[1]){if(!(we=this.$findClosingBracket(Ee[1],be)))return null;Ae=ke.fromPoints(be,we),Se||(Ae.end.column++,Ae.start.column--),Ae.cursor=Ae.end}else{if(!(we=this.$findOpeningBracket(Ee[2],be)))return null;Ae=ke.fromPoints(we,be),Se||(Ae.start.column++,Ae.end.column--),Ae.cursor=Ae.start}return Ae},(this||be).getMatchingBracketRanges=function(be,Ae){var we=this.getLine(be.row),xe=/([\(\[\{])|([\)\]\}])/,Se=!Ae&&we.charAt(be.column-1),Te=Se&&Se.match(xe);return Te||(Se=(void 0===Ae||Ae)&&we.charAt(be.column),be={row:be.row,column:be.column+1},Te=Se&&Se.match(xe)),Te?(Ae=new ke(be.row,be.column-1,be.row,be.column),(we=Te[1]?this.$findClosingBracket(Te[1],be):this.$findOpeningBracket(Te[2],be))?[Ae,new ke(we.row,we.column,we.row,we.column+1)]:[Ae]):null},(this||be).$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},(this||be).$findOpeningBracket=function(Ae,we,xe){var ke=(this||be).$brackets[Ae],Te=1,Ee=new Se(this||be,we.row,we.column),Re=Ee.getCurrentToken();if(Re=Re||Ee.stepForward()){xe=xe||new RegExp("(\\.?"+Re.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+");for(var _e=we.column-Ee.getCurrentTokenColumn()-2,$e=Re.value;;){for(;0<=_e;){var Le=$e.charAt(_e);if(Le==ke){if(0==--Te)return{row:Ee.getCurrentTokenRow(),column:_e+Ee.getCurrentTokenColumn()}}else Le==Ae&&(Te+=1);--_e}for(;(Re=Ee.stepBackward())&&!xe.test(Re.type););if(null==Re)break;_e=($e=Re.value).length-1}return null}},(this||be).$findClosingBracket=function(Ae,we,xe){var ke=(this||be).$brackets[Ae],Te=1,Ee=new Se(this||be,we.row,we.column),Re=Ee.getCurrentToken();if(Re=Re||Ee.stepForward()){xe=xe||new RegExp("(\\.?"+Re.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+");for(var _e=we.column-Ee.getCurrentTokenColumn();;){for(var $e=Re.value,Le=$e.length;_e<Le;){var Ne=$e.charAt(_e);if(Ne==ke){if(0==--Te)return{row:Ee.getCurrentTokenRow(),column:_e+Ee.getCurrentTokenColumn()}}else Ne==Ae&&(Te+=1);_e+=1}for(;(Re=Ee.stepForward())&&!xe.test(Re.type););if(null==Re)break;_e=0}return null}},(this||be).getMatchingTags=function(Ae){Ae=new Se(this||be,Ae.row,Ae.column);var we=this.$findTagName(Ae);if(we)return"<"===Ae.stepBackward().value?this.$findClosingTag(Ae,we):this.$findOpeningTag(Ae,we)},(this||be).$findTagName=function(be){var Ae=be.getCurrentToken(),we=!1,xe=!1;if(Ae&&-1===Ae.type.indexOf("tag-name"))for(;(Ae=xe?be.stepBackward():be.stepForward())&&("/>"===Ae.value?xe=!0:-1!==Ae.type.indexOf("tag-name")&&(we=!0)),Ae&&!we;);return Ae},(this||be).$findClosingTag=function(be,Ae){var we=Ae.value,xe=Ae.value,Se=0,Te=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+1),Ee=(Ae=be.stepForward(),new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+Ae.value.length)),Re=!1;do{var _e,$e=Ae;if(-1===$e.type.indexOf("tag-close")||Re||(_e=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+1),Re=!0),Ae=be.stepForward())if(">"!==Ae.value||Re||(_e=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+1),Re=!0),-1!==Ae.type.indexOf("tag-name")){if(xe===(we=Ae.value))if("<"===$e.value)Se++;else if("</"===$e.value&&--Se<0){be.stepBackward();var Le=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+2),Ne=(Ae=be.stepForward(),new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+Ae.value.length));if(!(Ae=-1===Ae.type.indexOf("tag-close")?be.stepForward():Ae)||">"!==Ae.value)return;var Me=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+1)}}else xe===we&&"/>"===Ae.value&&--Se<0&&(Me=Ne=Le=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+2),_e=new ke(Ee.end.row,Ee.end.column,Ee.end.row,Ee.end.column+1))}while(Ae&&0<=Se);if(Te&&_e&&Le&&Me&&Ee&&Ne)return{openTag:new ke(Te.start.row,Te.start.column,_e.end.row,_e.end.column),closeTag:new ke(Le.start.row,Le.start.column,Me.end.row,Me.end.column),openTagName:Ee,closeTagName:Ne}},(this||be).$findOpeningTag=function(be,Ae){var we,xe=be.getCurrentToken(),Se=Ae.value,Te=0,Ee=be.getCurrentTokenRow(),Re=be.getCurrentTokenColumn(),_e=new ke(Ee,Re,Ee,Re+2),$e=(be.stepForward(),new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+Ae.value.length));if((Ae=-1===Ae.type.indexOf("tag-close")?be.stepForward():Ae)&&">"===Ae.value){var Le=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+1);be.stepBackward(),be.stepBackward();do{if(Ae=xe,Ee=be.getCurrentTokenRow(),we=(Re=be.getCurrentTokenColumn())+Ae.value.length,xe=be.stepBackward(),Ae)if(-1!==Ae.type.indexOf("tag-name")){if(Se===Ae.value)if("<"===xe.value){if(0<++Te){for(var Ne=new ke(Ee,Re,Ee,we),Me=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+1);(Ae=be.stepForward())&&">"!==Ae.value;);var Be=new ke(be.getCurrentTokenRow(),be.getCurrentTokenColumn(),be.getCurrentTokenRow(),be.getCurrentTokenColumn()+1)}}else"</"===xe.value&&Te--}else if("/>"===Ae.value){for(var We=0,Pe=xe;Pe;){if(-1!==Pe.type.indexOf("tag-name")&&Pe.value===Se){Te--;break}if("<"===Pe.value)break;Pe=be.stepBackward(),We++}for(var He=0;He<We;He++)be.stepForward()}}while(xe&&Te<=0);return Me&&Be&&_e&&Le&&Ne&&$e?{openTag:new ke(Me.start.row,Me.start.column,Be.end.row,Be.end.column),closeTag:new ke(_e.start.row,_e.start.column,Le.end.row,Le.end.column),openTagName:Ne,closeTagName:$e}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(Ae,we,xe){var Se=Ae("./lib/oop"),ke=Ae("./lib/lang"),Te=Ae("./bidihandler").BidiHandler,Ee=Ae("./config"),Re=Ae("./lib/event_emitter").EventEmitter,_e=Ae("./selection").Selection,$e=Ae("./mode/text").Mode,Le=Ae("./range").Range,Ne=Ae("./document").Document,Me=Ae("./background_tokenizer").BackgroundTokenizer,Be=Ae("./search_highlight").SearchHighlight,We=Ae("./undomanager").UndoManager,Pe=(f.prototype.setDocument=function(Ae){(this||be).doc&&(this||be).doc.off("change",(this||be).$onChange),((this||be).doc=Ae).on("change",(this||be).$onChange,!0),(this||be).bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},f.prototype.getDocument=function(){return(this||be).doc},f.prototype.$resetRowCache=function(Ae){var we;Ae?(we=(this||be).$docRowCache.length,(Ae=this.$getRowCacheIndex((this||be).$docRowCache,Ae)+1)<we&&((this||be).$docRowCache.splice(Ae,we),(this||be).$screenRowCache.splice(Ae,we))):((this||be).$docRowCache=[],(this||be).$screenRowCache=[])},f.prototype.$getRowCacheIndex=function(be,Ae){for(var we=0,xe=be.length-1;we<=xe;){var Se=we+xe>>1,ke=be[Se];if(ke<Ae)we=1+Se;else{if(!(Ae<ke))return Se;xe=Se-1}}return we-1},f.prototype.resetCaches=function(){(this||be).$modified=!0,(this||be).$wrapData=[],(this||be).$rowLengthCache=[],this.$resetRowCache(0),(this||be).destroyed||(this||be).bgTokenizer.start(0)},f.prototype.onChangeFold=function(be){be=be.data;this.$resetRowCache(be.start.row)},f.prototype.onChange=function(Ae){(this||be).$modified=!0,(this||be).$bidiHandler.onChange(Ae),this.$resetRowCache(Ae.start.row);var we=this.$updateInternalDataOnChange(Ae);!(this||be).$fromUndo&&(this||be).$undoManager&&(we&&we.length&&((this||be).$undoManager.add({action:"removeFolds",folds:we},(this||be).mergeUndoDeltas),(this||be).mergeUndoDeltas=!0),(this||be).$undoManager.add(Ae,(this||be).mergeUndoDeltas),(this||be).mergeUndoDeltas=!0,(this||be).$informUndoManager.schedule()),(this||be).bgTokenizer.$updateOnChange(Ae),this._signal("change",Ae)},f.prototype.setValue=function(Ae){(this||be).doc.setValue(Ae),(this||be).selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager((this||be).$undoManager),this.getUndoManager().reset()},f.fromJSON=function(be){"string"==typeof be&&(be=JSON.parse(be));var Ae=new We,we=(Ae.$undoStack=be.history.undo,Ae.$redoStack=be.history.redo,Ae.mark=be.history.mark,Ae.$rev=be.history.rev,new f(be.value));return be.folds.forEach((function(be){we.addFold("...",Le.fromPoints(be.start,be.end))})),we.setAnnotations(be.annotations),we.setBreakpoints(be.breakpoints),we.setMode(be.mode),we.setScrollLeft(be.scrollLeft),we.setScrollTop(be.scrollTop),we.setUndoManager(Ae),we.selection.fromJSON(be.selection),we},f.prototype.toJSON=function(){return{annotations:(this||be).$annotations,breakpoints:(this||be).$breakpoints,folds:this.getAllFolds().map((function(be){return be.range})),history:this.getUndoManager(),mode:(this||be).$mode.$id,scrollLeft:(this||be).$scrollLeft,scrollTop:(this||be).$scrollTop,selection:(this||be).selection.toJSON(),value:(this||be).doc.getValue()}},f.prototype.toString=function(){return(this||be).doc.getValue()},f.prototype.getSelection=function(){return(this||be).selection},f.prototype.getState=function(Ae){return(this||be).bgTokenizer.getState(Ae)},f.prototype.getTokens=function(Ae){return(this||be).bgTokenizer.getTokens(Ae)},f.prototype.getTokenAt=function(Ae,we){var xe=(this||be).bgTokenizer.getTokens(Ae),Se=0;if(null==we){var ke=xe.length-1;Se=this.getLine(Ae).length}else for(ke=0;ke<xe.length&&!(we<=(Se+=xe[ke].value.length));ke++);return(Ae=xe[ke])?(Ae.index=ke,Ae.start=Se-Ae.value.length,Ae):null},f.prototype.setUndoManager=function(Ae){var we;(this||be).$undoManager=Ae,(this||be).$informUndoManager&&(this||be).$informUndoManager.cancel(),Ae?(Ae.addSession(we=this||be),(this||be).$syncInformUndoManager=function(){we.$informUndoManager.cancel(),we.mergeUndoDeltas=!1},(this||be).$informUndoManager=ke.delayedCall((this||be).$syncInformUndoManager)):(this||be).$syncInformUndoManager=function(){}},f.prototype.markUndoGroup=function(){(this||be).$syncInformUndoManager&&this.$syncInformUndoManager()},f.prototype.getUndoManager=function(){return(this||be).$undoManager||(this||be).$defaultUndoManager},f.prototype.getTabString=function(){return this.getUseSoftTabs()?ke.stringRepeat(" ",this.getTabSize()):"\t"},f.prototype.setUseSoftTabs=function(be){this.setOption("useSoftTabs",be)},f.prototype.getUseSoftTabs=function(){return(this||be).$useSoftTabs&&!(this||be).$mode.$indentWithTabs},f.prototype.setTabSize=function(be){this.setOption("tabSize",be)},f.prototype.getTabSize=function(){return(this||be).$tabSize},f.prototype.isTabStop=function(Ae){return(this||be).$useSoftTabs&&Ae.column%(this||be).$tabSize==0},f.prototype.setNavigateWithinSoftTabs=function(be){this.setOption("navigateWithinSoftTabs",be)},f.prototype.getNavigateWithinSoftTabs=function(){return(this||be).$navigateWithinSoftTabs},f.prototype.setOverwrite=function(be){this.setOption("overwrite",be)},f.prototype.getOverwrite=function(){return(this||be).$overwrite},f.prototype.toggleOverwrite=function(){this.setOverwrite(!(this||be).$overwrite)},f.prototype.addGutterDecoration=function(Ae,we){(this||be).$decorations[Ae]||((this||be).$decorations[Ae]=""),(this||be).$decorations[Ae]+=" "+we,this._signal("changeBreakpoint",{})},f.prototype.removeGutterDecoration=function(Ae,we){(this||be).$decorations[Ae]=((this||be).$decorations[Ae]||"").replace(" "+we,""),this._signal("changeBreakpoint",{})},f.prototype.getBreakpoints=function(){return(this||be).$breakpoints},f.prototype.setBreakpoints=function(Ae){(this||be).$breakpoints=[];for(var we=0;we<Ae.length;we++)(this||be).$breakpoints[Ae[we]]="ace_breakpoint";this._signal("changeBreakpoint",{})},f.prototype.clearBreakpoints=function(){(this||be).$breakpoints=[],this._signal("changeBreakpoint",{})},f.prototype.setBreakpoint=function(Ae,we){(we=void 0===we?"ace_breakpoint":we)?(this||be).$breakpoints[Ae]=we:delete(this||be).$breakpoints[Ae],this._signal("changeBreakpoint",{})},f.prototype.clearBreakpoint=function(Ae){delete(this||be).$breakpoints[Ae],this._signal("changeBreakpoint",{})},f.prototype.addMarker=function(Ae,we,xe,Se){var ke=(this||be).$markerId++;Ae={range:Ae,type:xe||"line",renderer:"function"==typeof xe?xe:null,clazz:we,inFront:!!Se,id:ke};return Se?((this||be).$frontMarkers[ke]=Ae,this._signal("changeFrontMarker")):((this||be).$backMarkers[ke]=Ae,this._signal("changeBackMarker")),ke},f.prototype.addDynamicMarker=function(Ae,we){var xe;if(Ae.update)return xe=(this||be).$markerId++,Ae.id=xe,Ae.inFront=!!we,we?((this||be).$frontMarkers[xe]=Ae,this._signal("changeFrontMarker")):((this||be).$backMarkers[xe]=Ae,this._signal("changeBackMarker")),Ae},f.prototype.removeMarker=function(Ae){var we=(this||be).$frontMarkers[Ae]||(this||be).$backMarkers[Ae];we&&(delete(we.inFront?(this||be).$frontMarkers:(this||be).$backMarkers)[Ae],this._signal(we.inFront?"changeFrontMarker":"changeBackMarker"))},f.prototype.getMarkers=function(Ae){return Ae?(this||be).$frontMarkers:(this||be).$backMarkers},f.prototype.highlight=function(Ae){var we;(this||be).$searchHighlight||(we=new Be(null,"ace_selected-word","text"),(this||be).$searchHighlight=this.addDynamicMarker(we)),(this||be).$searchHighlight.setRegexp(Ae)},f.prototype.highlightLines=function(be,Ae,we,xe){"number"!=typeof Ae&&(we=Ae,Ae=be),we=we||"ace_step";be=new Le(be,0,Ae,1/0);return be.id=this.addMarker(be,we,"fullLine",xe),be},f.prototype.setAnnotations=function(Ae){(this||be).$annotations=Ae,this._signal("changeAnnotation",{})},f.prototype.getAnnotations=function(){return(this||be).$annotations||[]},f.prototype.clearAnnotations=function(){this.setAnnotations([])},f.prototype.$detectNewLine=function(Ae){Ae=Ae.match(/^.*?(\r?\n)/m);(this||be).$autoNewLine=Ae?Ae[1]:"\n"},f.prototype.getWordRange=function(Ae,we){var xe,Se=this.getLine(Ae),ke=!1,Te=(xe=(ke=(ke=0<we?!!Se.charAt(we-1).match((this||be).tokenRe):ke)||!!Se.charAt(we).match((this||be).tokenRe))?(this||be).tokenRe:/^\s+$/.test(Se.slice(we-1,we+1))?/\s/:(this||be).nonTokenRe,we);if(0<Te){for(;0<=--Te&&Se.charAt(Te).match(xe););Te++}for(var Ee=we;Ee<Se.length&&Se.charAt(Ee).match(xe);)Ee++;return new Le(Ae,Te,Ae,Ee)},f.prototype.getAWordRange=function(be,Ae){for(var we=this.getWordRange(be,Ae),xe=this.getLine(we.end.row);xe.charAt(we.end.column).match(/[ \t]/);)we.end.column+=1;return we},f.prototype.setNewLineMode=function(Ae){(this||be).doc.setNewLineMode(Ae)},f.prototype.getNewLineMode=function(){return(this||be).doc.getNewLineMode()},f.prototype.setUseWorker=function(be){this.setOption("useWorker",be)},f.prototype.getUseWorker=function(){return(this||be).$useWorker},f.prototype.onReloadTokenizer=function(Ae){var we=Ae.data;(this||be).bgTokenizer.start(we.first),this._signal("tokenizerUpdate",Ae)},f.prototype.setMode=function(Ae,we){if(Ae&&"object"==typeof Ae){if(Ae.getTokenizer)return this.$onChangeMode(Ae);var xe=Ae,Se=xe.path}else Se=Ae||"ace/mode/text";(this||be).$modes["ace/mode/text"]||((this||be).$modes["ace/mode/text"]=new $e),(this||be).$modes[Se]&&!xe?(this.$onChangeMode((this||be).$modes[Se]),we&&we()):((this||be).$modeId=Se,Ee.loadModule(["mode",Se],function(Ae){if((this||be).$modeId!==Se)return we&&we();(this||be).$modes[Se]&&!xe?this.$onChangeMode((this||be).$modes[Se]):Ae&&Ae.Mode&&(Ae=new Ae.Mode(xe),xe||(((this||be).$modes[Se]=Ae).$id=Se),this.$onChangeMode(Ae)),we&&we()}.bind(this||be)),(this||be).$mode||this.$onChangeMode((this||be).$modes["ace/mode/text"],!0))},f.prototype.$onChangeMode=function(Ae,we){var xe,Se,ke;we||((this||be).$modeId=Ae.$id),(this||be).$mode===Ae||(xe=(this||be).$mode,(this||be).$mode=Ae,this.$stopWorker(),(this||be).$useWorker&&this.$startWorker(),void 0!==(Se=Ae.getTokenizer()).on&&(ke=(this||be).onReloadTokenizer.bind(this||be),Se.on("update",ke)),(this||be).bgTokenizer.setTokenizer(Se),(this||be).bgTokenizer.setDocument(this.getDocument()),(this||be).tokenRe=Ae.tokenRe,(this||be).nonTokenRe=Ae.nonTokenRe,we)||(Ae.attachToSession&&Ae.attachToSession(this||be),(this||be).$options.wrapMethod.set.call(this||be,(this||be).$wrapMethod),this.$setFolding(Ae.foldingRules),(this||be).bgTokenizer.start(0),this._emit("changeMode",{oldMode:xe,mode:Ae}))},f.prototype.$stopWorker=function(){(this||be).$worker&&((this||be).$worker.terminate(),(this||be).$worker=null)},f.prototype.$startWorker=function(){try{(this||be).$worker=(this||be).$mode.createWorker(this||be)}catch(Ae){Ee.warn("Could not load worker",Ae),(this||be).$worker=null}},f.prototype.getMode=function(){return(this||be).$mode},f.prototype.setScrollTop=function(Ae){(this||be).$scrollTop===Ae||isNaN(Ae)||((this||be).$scrollTop=Ae,this._signal("changeScrollTop",Ae))},f.prototype.getScrollTop=function(){return(this||be).$scrollTop},f.prototype.setScrollLeft=function(Ae){(this||be).$scrollLeft===Ae||isNaN(Ae)||((this||be).$scrollLeft=Ae,this._signal("changeScrollLeft",Ae))},f.prototype.getScrollLeft=function(){return(this||be).$scrollLeft},f.prototype.getScreenWidth=function(){return this.$computeWidth(),(this||be).lineWidgets?Math.max(this.getLineWidgetMaxWidth(),(this||be).screenWidth):(this||be).screenWidth},f.prototype.getLineWidgetMaxWidth=function(){var Ae;return null!=(this||be).lineWidgetsWidth?(this||be).lineWidgetsWidth:(Ae=0,(this||be).lineWidgets.forEach((function(be){be&&be.screenWidth>Ae&&(Ae=be.screenWidth)})),(this||be).lineWidgetWidth=Ae)},f.prototype.$computeWidth=function(Ae){if((this||be).$modified||Ae){if((this||be).$modified=!1,(this||be).$useWrapMode)return(this||be).screenWidth=(this||be).$wrapLimit;for(var we=(this||be).doc.getAllLines(),xe=(this||be).$rowLengthCache,Se=0,ke=0,Te=(this||be).$foldData[ke],Ee=Te?Te.start.row:1/0,Re=we.length,_e=0;_e<Re;_e++){if(Ee<_e){if(Re<=(_e=Te.end.row+1))break;Ee=(Te=(this||be).$foldData[ke++])?Te.start.row:1/0}null==xe[_e]&&(xe[_e]=this.$getStringScreenWidth(we[_e])[0]),xe[_e]>Se&&(Se=xe[_e])}(this||be).screenWidth=Se}},f.prototype.getLine=function(Ae){return(this||be).doc.getLine(Ae)},f.prototype.getLines=function(Ae,we){return(this||be).doc.getLines(Ae,we)},f.prototype.getLength=function(){return(this||be).doc.getLength()},f.prototype.getTextRange=function(Ae){return(this||be).doc.getTextRange(Ae||(this||be).selection.getRange())},f.prototype.insert=function(Ae,we){return(this||be).doc.insert(Ae,we)},f.prototype.remove=function(Ae){return(this||be).doc.remove(Ae)},f.prototype.removeFullLines=function(Ae,we){return(this||be).doc.removeFullLines(Ae,we)},f.prototype.undoChanges=function(Ae,we){if(Ae.length){(this||be).$fromUndo=!0;for(var xe=Ae.length-1;-1!=xe;xe--){var Se=Ae[xe];"insert"==Se.action||"remove"==Se.action?(this||be).doc.revertDelta(Se):Se.folds&&this.addFolds(Se.folds)}!we&&(this||be).$undoSelect&&(Ae.selectionBefore?(this||be).selection.fromJSON(Ae.selectionBefore):(this||be).selection.setRange(this.$getUndoSelection(Ae,!0))),(this||be).$fromUndo=!1}},f.prototype.redoChanges=function(Ae,we){if(Ae.length){(this||be).$fromUndo=!0;for(var xe=0;xe<Ae.length;xe++){var Se=Ae[xe];"insert"!=Se.action&&"remove"!=Se.action||(this||be).doc.$safeApplyDelta(Se)}!we&&(this||be).$undoSelect&&(Ae.selectionAfter?(this||be).selection.fromJSON(Ae.selectionAfter):(this||be).selection.setRange(this.$getUndoSelection(Ae,!1))),(this||be).$fromUndo=!1}},f.prototype.setUndoSelect=function(Ae){(this||be).$undoSelect=Ae},f.prototype.$getUndoSelection=function(be,Ae){function n(be){return Ae?"insert"!==be.action:"insert"===be.action}for(var we,xe,Se=0;Se<be.length;Se++){var ke=be[Se];ke.start&&(we?n(ke)?(xe=ke.start,-1==we.compare(xe.row,xe.column)&&we.setStart(xe),xe=ke.end,1==we.compare(xe.row,xe.column)&&we.setEnd(xe)):(xe=ke.start,-1==we.compare(xe.row,xe.column)&&(we=Le.fromPoints(ke.start,ke.start))):we=n(ke)?Le.fromPoints(ke.start,ke.end):Le.fromPoints(ke.start,ke.start))}return we},f.prototype.replace=function(Ae,we){return(this||be).doc.replace(Ae,we)},f.prototype.moveText=function(be,Ae,we){var xe,Se,ke,Te=this.getTextRange(be),Ee=this.getFoldsInRange(be);Ae=Le.fromPoints(Ae,Ae);return we||(this.remove(be),Se=be.start.row-be.end.row,(ke=Se?-be.end.column:be.start.column-be.end.column)&&(Ae.start.row==be.end.row&&Ae.start.column>be.end.column&&(Ae.start.column+=ke),Ae.end.row==be.end.row)&&Ae.end.column>be.end.column&&(Ae.end.column+=ke),Se&&Ae.start.row>=be.end.row&&(Ae.start.row+=Se,Ae.end.row+=Se)),Ae.end=this.insert(Ae.start,Te),Ee.length&&(xe=be.start,we=Ae.start,Se=we.row-xe.row,ke=we.column-xe.column,this.addFolds(Ee.map((function(be){return(be=be.clone()).start.row==xe.row&&(be.start.column+=ke),be.end.row==xe.row&&(be.end.column+=ke),be.start.row+=Se,be.end.row+=Se,be})))),Ae},f.prototype.indentRows=function(Ae,we,xe){xe=xe.replace(/\t/g,this.getTabString());for(var Se=Ae;Se<=we;Se++)(this||be).doc.insertInLine({row:Se,column:0},xe)},f.prototype.outdentRows=function(be){for(var Ae=be.collapseRows(),we=new Le(0,0,0,0),xe=this.getTabSize(),Se=Ae.start.row;Se<=Ae.end.row;++Se){var ke=this.getLine(Se);we.start.row=Se,we.end.row=Se;for(var Te=0;Te<xe&&" "==ke.charAt(Te);++Te);Te<xe&&"\t"==ke.charAt(Te)?(we.start.column=Te,we.end.column=Te+1):(we.start.column=0,we.end.column=Te),this.remove(we)}},f.prototype.$moveLines=function(Ae,we,xe){if(Ae=this.getRowFoldStart(Ae),we=this.getRowFoldEnd(we),xe<0){if((ke=this.getRowFoldStart(Ae+xe))<0)return 0;var Se=ke-Ae}else if(0<xe){if((ke=this.getRowFoldEnd(we+xe))>(this||be).doc.getLength()-1)return 0;Se=ke-we}else{Ae=this.$clipRowToDocument(Ae);Se=(we=this.$clipRowToDocument(we))-Ae+1}var ke=new Le(Ae,0,we,Number.MAX_VALUE);ke=this.getFoldsInRange(ke).map((function(be){return(be=be.clone()).start.row+=Se,be.end.row+=Se,be})),xe=0==xe?(this||be).doc.getLines(Ae,we):(this||be).doc.removeFullLines(Ae,we);return(this||be).doc.insertFullLines(Ae+Se,xe),ke.length&&this.addFolds(ke),Se},f.prototype.moveLinesUp=function(be,Ae){return this.$moveLines(be,Ae,-1)},f.prototype.moveLinesDown=function(be,Ae){return this.$moveLines(be,Ae,1)},f.prototype.duplicateLines=function(be,Ae){return this.$moveLines(be,Ae,0)},f.prototype.$clipRowToDocument=function(Ae){return Math.max(0,Math.min(Ae,(this||be).doc.getLength()-1))},f.prototype.$clipColumnToRow=function(Ae,we){return we<0?0:Math.min((this||be).doc.getLine(Ae).length,we)},f.prototype.$clipPositionToDocument=function(Ae,we){var xe;return we=Math.max(0,we),we=Ae<0?Ae=0:(xe=(this||be).doc.getLength())<=Ae?(this||be).doc.getLine(Ae=xe-1).length:Math.min((this||be).doc.getLine(Ae).length,we),{row:Ae,column:we}},f.prototype.$clipRangeToDocument=function(Ae){Ae.start.row<0?(Ae.start.row=0,Ae.start.column=0):Ae.start.column=this.$clipColumnToRow(Ae.start.row,Ae.start.column);var we=(this||be).doc.getLength()-1;return Ae.end.row>we?(Ae.end.row=we,Ae.end.column=(this||be).doc.getLine(we).length):Ae.end.column=this.$clipColumnToRow(Ae.end.row,Ae.end.column),Ae},f.prototype.setUseWrapMode=function(Ae){Ae!=(this||be).$useWrapMode&&((this||be).$useWrapMode=Ae,(this||be).$modified=!0,this.$resetRowCache(0),Ae&&(Ae=this.getLength(),(this||be).$wrapData=Array(Ae),this.$updateWrapData(0,Ae-1)),this._signal("changeWrapMode"))},f.prototype.getUseWrapMode=function(){return(this||be).$useWrapMode},f.prototype.setWrapLimitRange=function(Ae,we){(this||be).$wrapLimitRange.min===Ae&&(this||be).$wrapLimitRange.max===we||((this||be).$wrapLimitRange={min:Ae,max:we},(this||be).$modified=!0,(this||be).$bidiHandler.markAsDirty(),(this||be).$useWrapMode&&this._signal("changeWrapMode"))},f.prototype.adjustWrapLimit=function(Ae,we){var xe=(this||be).$wrapLimitRange;we=(xe.max<0&&(xe={min:we,max:we}),this.$constrainWrapLimit(Ae,xe.min,xe.max));return we!=(this||be).$wrapLimit&&1<we&&((this||be).$wrapLimit=we,(this||be).$modified=!0,(this||be).$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},f.prototype.$constrainWrapLimit=function(be,Ae,we){return Ae&&(be=Math.max(Ae,be)),we?Math.min(we,be):be},f.prototype.getWrapLimit=function(){return(this||be).$wrapLimit},f.prototype.setWrapLimit=function(be){this.setWrapLimitRange(be,be)},f.prototype.getWrapLimitRange=function(){return{min:(this||be).$wrapLimitRange.min,max:(this||be).$wrapLimitRange.max}},f.prototype.$updateInternalDataOnChange=function(Ae){var we=(this||be).$useWrapMode,xe=Ae.action,Se=Ae.start,ke=Ae.end,Te=Se.row,Ee=ke.row,Re=Ee-Te,_e=null;if((this||be).$updating=!0,0!=Re)if("remove"===xe){(this||be)[we?"$wrapData":"$rowLengthCache"].splice(Te,Re);var $e=(this||be).$foldData;_e=this.getFoldsInRange(Ae);this.removeFolds(_e);var Le=0;for((Be=this.getFoldLine(ke.row))&&(Be.addRemoveChars(ke.row,ke.column,Se.column-ke.column),Be.shiftRow(-Re),(Ne=this.getFoldLine(Te))&&Ne!==Be&&(Ne.merge(Be),Be=Ne),Le=$e.indexOf(Be)+1);Le<$e.length;Le++)(Be=$e[Le]).start.row>=ke.row&&Be.shiftRow(-Re);Ee=Te}else{var Ne=Array(Re),Me=(Ne.unshift(Te,0),we?(this||be).$wrapData:(this||be).$rowLengthCache);$e=(Me.splice.apply(Me,Ne),(this||be).$foldData),Le=0;for((Be=this.getFoldLine(Te))&&(0==(Me=Be.range.compareInside(Se.row,Se.column))?(Be=Be.split(Se.row,Se.column))&&(Be.shiftRow(Re),Be.addRemoveChars(Ee,0,ke.column-Se.column)):-1==Me&&(Be.addRemoveChars(Te,0,ke.column-Se.column),Be.shiftRow(Re)),Le=$e.indexOf(Be)+1);Le<$e.length;Le++)(Be=$e[Le]).start.row>=Te&&Be.shiftRow(Re)}else{var Be;Re=Math.abs(Ae.start.column-Ae.end.column);"remove"===xe&&(_e=this.getFoldsInRange(Ae),this.removeFolds(_e),Re=-Re),(Be=this.getFoldLine(Te))&&Be.addRemoveChars(Te,Se.column,Re)}return we&&(this||be).$wrapData.length!=(this||be).doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),(this||be).$updating=!1,we?this.$updateWrapData(Te,Ee):this.$updateRowLengthCache(Te,Ee),_e},f.prototype.$updateRowLengthCache=function(Ae,we){(this||be).$rowLengthCache[Ae]=null,(this||be).$rowLengthCache[we]=null},f.prototype.$updateWrapData=function(Ae,we){var xe,Se,ke=(this||be).doc.getAllLines(),Te=this.getTabSize(),Ee=(this||be).$wrapData,Re=(this||be).$wrapLimit,_e=Ae;for(we=Math.min(we,ke.length-1);_e<=we;)(Se=this.getFoldLine(_e,Se))?(xe=[],Se.walk(function(be,Ae,we,Se){var Te;if(null!=be){(Te=this.$getDisplayTokens(be,xe.length))[0]=Fe;for(var Ee=1;Ee<Te.length;Ee++)Te[Ee]=Oe}else Te=this.$getDisplayTokens(ke[Ae].substring(Se,we),xe.length);xe=xe.concat(Te)}.bind(this||be),Se.end.row,ke[Se.end.row].length+1),Ee[Se.start.row]=this.$computeWrapSplits(xe,Re,Te),_e=Se.end.row+1):(xe=this.$getDisplayTokens(ke[_e]),Ee[_e]=this.$computeWrapSplits(xe,Re,Te),_e++)},f.prototype.$computeWrapSplits=function(Ae,we,xe){if(0==Ae.length)return[];var Se=[],ke=Ae.length,Te=0,Ee=0,Re=(this||be).$wrapAsCode,_e=(this||be).$indentedSoftWrap,$e=we<=Math.max(2*xe,8)||!1===_e?0:Math.floor(we/2);function n(be){for(var we=be-Te,ke=Te;ke<be;ke++){var Ne=Ae[ke];12!==Ne&&2!==Ne||--we}Se.length||(Le=function(){var be=0;if(0===$e)return be;if(_e)for(var we=0;we<Ae.length;we++){var Se=Ae[we];if(Se==Ze)be+=1;else if(Se==De)be+=xe;else if(Se!=je)break}return Re&&!1!==_e&&(be+=xe),Math.min(be,$e)}(),Se.indent=Le),Ee+=we,Se.push(Ee),Te=be}for(var Le=0;we-Le<ke-Te;){var Ne=Te+we-Le;if(Ae[Ne-1]>=Ze&&Ae[Ne]>=Ze)n(Ne);else if(Ae[Ne]==Fe||Ae[Ne]==Oe){for(;Ne!=Te-1&&Ae[Ne]!=Fe;Ne--);if(Te<Ne);else{for(Ne=Te+we;Ne<Ae.length&&Ae[Ne]==Oe;Ne++);if(Ne==Ae.length)break}n(Ne)}else{for(var Me=Math.max(Ne-(we-(we>>2)),Te-1);Me<Ne&&Ae[Ne]<Fe;)Ne--;if(Re){for(;Me<Ne&&Ae[Ne]<Fe;)Ne--;for(;Me<Ne&&Ae[Ne]==Ve;)Ne--}else for(;Me<Ne&&Ae[Ne]<Ze;)Ne--;Me<Ne?n(++Ne):(Ae[Ne=Te+we]==Ge&&Ne--,n(Ne-Le))}}return Se},f.prototype.$getDisplayTokens=function(be,Ae){var we,xe=[];Ae=Ae||0;for(var Se=0;Se<be.length;Se++){var ke=be.charCodeAt(Se);if(9==ke){we=this.getScreenTabSize(xe.length+Ae),xe.push(De);for(var Te=1;Te<we;Te++)xe.push(je)}else 32==ke?xe.push(Ze):39<ke&&ke<48||57<ke&&ke<64?xe.push(Ve):4352<=ke&&x(ke)?xe.push(He,Ge):xe.push(He)}return xe},f.prototype.$getStringScreenWidth=function(be,Ae,we){if(0==Ae)return[0,0];var xe,Se;for(null==Ae&&(Ae=1/0),we=we||0,Se=0;Se<be.length&&(9==(xe=be.charCodeAt(Se))?we+=this.getScreenTabSize(we):4352<=xe&&x(xe)?we+=2:we+=1,!(Ae<we));Se++);return[we,Se]},f.prototype.getRowLength=function(Ae){var we=1;return(this||be).lineWidgets&&(we+=(this||be).lineWidgets[Ae]&&(this||be).lineWidgets[Ae].rowCount||0),(this||be).$useWrapMode&&(this||be).$wrapData[Ae]?(this||be).$wrapData[Ae].length+we:we},f.prototype.getRowLineCount=function(Ae){return(this||be).$useWrapMode&&(this||be).$wrapData[Ae]?(this||be).$wrapData[Ae].length+1:1},f.prototype.getRowWrapIndent=function(Ae){var we;return(this||be).$useWrapMode&&(Ae=this.screenToDocumentPosition(Ae,Number.MAX_VALUE),(we=(this||be).$wrapData[Ae.row]).length)&&we[0]<Ae.column?we.indent:0},f.prototype.getScreenLastRowColumn=function(be){be=this.screenToDocumentPosition(be,Number.MAX_VALUE);return this.documentToScreenColumn(be.row,be.column)},f.prototype.getDocumentLastRowColumn=function(be,Ae){be=this.documentToScreenRow(be,Ae);return this.getScreenLastRowColumn(be)},f.prototype.getDocumentLastRowColumnPosition=function(be,Ae){be=this.documentToScreenRow(be,Ae);return this.screenToDocumentPosition(be,Number.MAX_VALUE/10)},f.prototype.getRowSplitData=function(Ae){if((this||be).$useWrapMode)return(this||be).$wrapData[Ae]},f.prototype.getScreenTabSize=function(Ae){return(this||be).$tabSize-(Ae%(this||be).$tabSize|0)},f.prototype.screenToDocumentRow=function(be,Ae){return this.screenToDocumentPosition(be,Ae).row},f.prototype.screenToDocumentColumn=function(be,Ae){return this.screenToDocumentPosition(be,Ae).column},f.prototype.screenToDocumentPosition=function(Ae,we,xe){if(Ae<0)return{row:0,column:0};for(var Se,ke,Te,Ee=0,Re=0,_e=0,$e=0,Le=(this||be).$screenRowCache,Ne=this.$getRowCacheIndex(Le,Ae),Me=Le.length,Be=(Te=Me&&0<=Ne?(_e=Le[Ne],Ee=(this||be).$docRowCache[Ne],Ae>Le[Me-1]):!Me,this.getLength()-1),We=this.getNextFoldLine(Ee),Pe=We?We.start.row:1/0;_e<=Ae&&!(Ae<_e+($e=this.getRowLength(Ee))||Be<=Ee);)_e+=$e,Pe<++Ee&&(Ee=We.end.row+1,Pe=(We=this.getNextFoldLine(Ee,We))?We.start.row:1/0),Te&&((this||be).$docRowCache.push(Ee),(this||be).$screenRowCache.push(_e));if(We&&We.start.row<=Ee)Se=this.getFoldDisplayLine(We),Ee=We.start.row;else{if(_e+$e<=Ae||Be<Ee)return{row:Be,column:this.getLine(Be).length};Se=this.getLine(Ee),We=null}Ne=0,Le=Math.floor(Ae-_e);return(this||be).$useWrapMode&&(Me=(this||be).$wrapData[Ee])&&(ke=Me[Le],0<Le)&&Me.length&&(Ne=Me.indent,Re=Me[Le-1]||Me[Me.length-1],Se=Se.substring(Re)),void 0!==xe&&(this||be).$bidiHandler.isBidiRow(_e+Le,Ee,Le)&&(we=(this||be).$bidiHandler.offsetToCol(xe)),Re+=this.$getStringScreenWidth(Se,we-Ne)[1],(this||be).$useWrapMode&&ke<=Re&&(Re=ke-1),We?We.idxToPosition(Re):{row:Ee,column:Re}},f.prototype.documentToScreenPosition=function(Ae,we){var xe=void 0===we?this.$clipPositionToDocument(Ae.row,Ae.column):this.$clipPositionToDocument(Ae,we),Se=(Ae=xe.row,we=xe.column,0);xe=null;(Re=this.getFoldAt(Ae,we,1))&&(Ae=Re.start.row,we=Re.start.column);for(var ke,Te,Ee=0,Re=(this||be).$docRowCache,_e=this.$getRowCacheIndex(Re,Ae),$e=Re.length,Le=(Te=$e&&0<=_e?(Ee=Re[_e],Se=(this||be).$screenRowCache[_e],Ae>Re[$e-1]):!$e,this.getNextFoldLine(Ee)),Ne=Le?Le.start.row:1/0;Ee<Ae;){if(Ne<=Ee){if(Ae<(ke=Le.end.row+1))break;Ne=(Le=this.getNextFoldLine(ke,Le))?Le.start.row:1/0}else ke=Ee+1;Se+=this.getRowLength(Ee),Ee=ke,Te&&((this||be).$docRowCache.push(Ee),(this||be).$screenRowCache.push(Se))}var Me="";xe=Le&&Ne<=Ee?(Me=this.getFoldDisplayLine(Le,Ae,we),Le.start.row):(Me=this.getLine(Ae).substring(0,we),Ae),_e=0;if((this||be).$useWrapMode){var Be=(this||be).$wrapData[xe];if(Be){for(var We=0;Me.length>=Be[We];)Se++,We++;Me=Me.substring(Be[We-1]||0,Me.length),_e=0<We?Be.indent:0}}return(this||be).lineWidgets&&(this||be).lineWidgets[Ee]&&(this||be).lineWidgets[Ee].rowsAbove&&(Se+=(this||be).lineWidgets[Ee].rowsAbove),{row:Se,column:_e+this.$getStringScreenWidth(Me)[0]}},f.prototype.documentToScreenColumn=function(be,Ae){return this.documentToScreenPosition(be,Ae).column},f.prototype.documentToScreenRow=function(be,Ae){return this.documentToScreenPosition(be,Ae).row},f.prototype.getScreenLength=function(){var Ae=0,we=null;if((this||be).$useWrapMode)for(var xe=(this||be).$wrapData.length,Se=0,ke=0,Te=(we=(this||be).$foldData[ke++])?we.start.row:1/0;Se<xe;){var Ee=(this||be).$wrapData[Se];Ae+=Ee?Ee.length+1:1,Te<++Se&&(Se=we.end.row+1,Te=(we=(this||be).$foldData[ke++])?we.start.row:1/0)}else{Ae=this.getLength();var Re=(this||be).$foldData;for(ke=0;ke<Re.length;ke++)Ae-=(we=Re[ke]).end.row-we.start.row}return(this||be).lineWidgets&&(Ae+=this.$getWidgetScreenLength()),Ae},f.prototype.$setFontMetrics=function(Ae){(this||be).$enableVarChar&&((this||be).$getStringScreenWidth=function(be,we,xe){if(0===we)return[0,0];var Se,ke;for(we=we||1/0,xe=xe||0,ke=0;ke<be.length&&!(we<(xe+="\t"===(Se=be.charAt(ke))?this.getScreenTabSize(xe):Ae.getCharacterWidth(Se)));ke++);return[xe,ke]})},f.prototype.getPrecedingCharacter=function(){var Ae=(this||be).selection.getCursor();return 0===Ae.column?0===Ae.row?"":(this||be).doc.getNewLineCharacter():this.getLine(Ae.row)[Ae.column-1]},f.prototype.destroy=function(){(this||be).destroyed||((this||be).bgTokenizer.setDocument(null),(this||be).bgTokenizer.cleanup(),(this||be).destroyed=!0),this.$stopWorker(),this.removeAllListeners(),(this||be).doc&&(this||be).doc.off("change",(this||be).$onChange),(this||be).selection.detach()},f);function f(Ae,we){(this||be).doc,(this||be).$breakpoints=[],(this||be).$decorations=[],(this||be).$frontMarkers={},(this||be).$backMarkers={},(this||be).$markerId=1,(this||be).$undoSelect=!0,(this||be).$foldData=[],(this||be).id="session"+ ++f.$uid,(this||be).$foldData.toString=function(){return this.join("\n")},(this||be).bgTokenizer=new Me((new $e).getTokenizer(),this||be);var xe=this||be;(this||be).bgTokenizer.on("update",(function(be){xe._signal("tokenizerUpdate",be)})),this.on("changeFold",(this||be).onChangeFold.bind(this||be)),(this||be).$onChange=(this||be).onChange.bind(this||be),"object"==typeof Ae&&Ae.getLine||(Ae=new Ne(Ae)),this.setDocument(Ae),(this||be).selection=new _e(this||be),(this||be).$bidiHandler=new Te(this||be),Ee.resetOptions(this||be),this.setMode(we),Ee._signal("session",this||be),(this||be).destroyed=!1}Pe.$uid=0,Pe.prototype.$modes=Ee.$modes,Pe.prototype.getValue=Pe.prototype.toString,Pe.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},Pe.prototype.$overwrite=!1,Pe.prototype.$mode=null,Pe.prototype.$modeId=null,Pe.prototype.$scrollTop=0,Pe.prototype.$scrollLeft=0,Pe.prototype.$wrapLimit=80,Pe.prototype.$useWrapMode=!1,Pe.prototype.$wrapLimitRange={min:null,max:null},Pe.prototype.lineWidgets=null,Pe.prototype.isFullWidth=x,Se.implement(Pe.prototype,Re);var He=1,Ge=2,Fe=3,Oe=4,Ve=9,Ze=10,De=11,je=12;function x(be){return!(be<4352)&&(4352<=be&&be<=4447||4515<=be&&be<=4519||4602<=be&&be<=4607||9001<=be&&be<=9002||11904<=be&&be<=11929||11931<=be&&be<=12019||12032<=be&&be<=12245||12272<=be&&be<=12283||12288<=be&&be<=12350||12353<=be&&be<=12438||12441<=be&&be<=12543||12549<=be&&be<=12589||12593<=be&&be<=12686||12688<=be&&be<=12730||12736<=be&&be<=12771||12784<=be&&be<=12830||12832<=be&&be<=12871||12880<=be&&be<=13054||13056<=be&&be<=19903||19968<=be&&be<=42124||42128<=be&&be<=42182||43360<=be&&be<=43388||44032<=be&&be<=55203||55216<=be&&be<=55238||55243<=be&&be<=55291||63744<=be&&be<=64255||65040<=be&&be<=65049||65072<=be&&be<=65106||65108<=be&&be<=65126||65128<=be&&be<=65131||65281<=be&&be<=65376||65504<=be&&be<=65510)}Ae("./edit_session/folding").Folding.call(Pe.prototype),Ae("./edit_session/bracket_match").BracketMatch.call(Pe.prototype),Ee.defineOptions(Pe.prototype,"session",{wrap:{set:function(Ae){Ae&&"off"!=Ae?"free"==Ae?Ae=!0:"printMargin"==Ae?Ae=-1:"string"==typeof Ae&&(Ae=parseInt(Ae,10)||!1):Ae=!1,(this||be).$wrap!=Ae&&(((this||be).$wrap=Ae)?(this.setWrapLimitRange(Ae="number"==typeof Ae?Ae:null,Ae),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==(this||be).$wrap?"printMargin":this.getWrapLimitRange().min?(this||be).$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(Ae){(Ae="auto"==Ae?"text"!=(this||be).$mode.type:"text"!=Ae)!=(this||be).$wrapAsCode&&((this||be).$wrapAsCode=Ae,(this||be).$useWrapMode)&&((this||be).$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:"auto"},indentedSoftWrap:{set:function(){(this||be).$useWrapMode&&((this||be).$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(Ae){(this||be).$useWorker=Ae,this.$stopWorker(),Ae&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(Ae){0<(Ae=parseInt(Ae))&&(this||be).$tabSize!==Ae&&((this||be).$modified=!0,(this||be).$rowLengthCache=[],(this||be).$tabSize=Ae,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(be){this.setFoldStyle(be)},handlesSet:!0},overwrite:{set:function(be){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(Ae){(this||be).doc.setNewLineMode(Ae)},get:function(){return(this||be).doc.getNewLineMode()},handlesSet:!0},mode:{set:function(be){this.setMode(be)},get:function(){return(this||be).$modeId},handlesSet:!0}}),we.EditSession=Pe})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(Ae,we,xe){var Se=Ae("./lib/lang"),ke=Ae("./lib/oop"),Te=Ae("./range").Range;function o(){(this||be).$options={}}o.prototype.set=function(Ae){return ke.mixin((this||be).$options,Ae),this||be},o.prototype.getOptions=function(){return Se.copyObject((this||be).$options)},o.prototype.setOptions=function(Ae){(this||be).$options=Ae},o.prototype.find=function(Ae){var we,xe=(this||be).$options;Ae=this.$matchIterator(Ae,xe);return!!Ae&&(we=null,Ae.forEach((function(be,Ae,Se,ke){return we=new Te(be,Ae,Se,ke),!(Ae==ke&&xe.start&&xe.start.start&&0!=xe.skipCurrent&&we.isEqual(xe.start)&&(we=null,1))})),we)},o.prototype.findAll=function(Ae){var we=(this||be).$options;if(!we.needle)return[];this.$assembleRegExp(we);var xe=we.range,ke=xe?Ae.getLines(xe.start.row,xe.end.row):Ae.doc.getAllLines(),Ee=[],Re=we.re;if(we.$isMultiLine){var _e,$e=Re.length,Le=ke.length-$e;e:for(var Ne=Re.offset||0;Ne<=Le;Ne++){for(var Me=0;Me<$e;Me++)if(-1==ke[Ne+Me].search(Re[Me]))continue e;var Be=ke[Ne],We=ke[Ne+$e-1];Be=Be.length-Be.match(Re[0])[0].length,We=We.match(Re[$e-1])[0].length;_e&&_e.end.row===Ne&&_e.end.column>Be||(Ee.push(_e=new Te(Ne,Be,Ne+$e-1,We)),2<$e&&(Ne=Ne+$e-2))}}else for(var Pe=0;Pe<ke.length;Pe++){var He=Se.getMatchOffsets(ke[Pe],Re);for(Me=0;Me<He.length;Me++){var Ge=He[Me];Ee.push(new Te(Pe,Ge.offset,Pe,Ge.offset+Ge.length))}}if(xe){var Fe=xe.start.column,Oe=xe.end.column;for(Pe=0,Me=Ee.length-1;Pe<Me&&Ee[Pe].start.column<Fe&&0==Ee[Pe].start.row;)Pe++;for(var Ve=xe.end.row-xe.start.row;Pe<Me&&Ee[Me].end.column>Oe&&Ee[Me].end.row==Ve;)Me--;for(Ee=Ee.slice(Pe,Me+1),Pe=0,Me=Ee.length;Pe<Me;Pe++)Ee[Pe].start.row+=xe.start.row,Ee[Pe].end.row+=xe.start.row}return Ee},o.prototype.replace=function(Ae,we){var xe=(this||be).$options,Se=this.$assembleRegExp(xe);if(xe.$isMultiLine)return we;if(Se){var ke=Se.exec(Ae);if(!ke||ke[0].length!=Ae.length)return null;if(xe.regExp||(we=we.replace(/\$/g,"$$$$")),we=Ae.replace(Se,we),xe.preserveCase){we=we.split("");for(var Te=Math.min(Ae.length,Ae.length);Te--;){var Ee=Ae[Te];Ee&&Ee.toLowerCase()!=Ee?we[Te]=we[Te].toUpperCase():we[Te]=we[Te].toLowerCase()}we=we.join("")}return we}},o.prototype.$assembleRegExp=function(be,Ae){if(be.needle instanceof RegExp)return be.re=be.needle;var we=be.needle;if(!be.needle)return be.re=!1;be.regExp||(we=Se.escapeRegExp(we));var xe,ke,Te,Ee,Re,_e=be.caseSensitive?"gm":"gmi";try{new RegExp(we,"u"),be.$supportsUnicodeFlag=!0,_e+="u"}catch(Ae){be.$supportsUnicodeFlag=!1}function c(be,Ae){return void 0===Ae&&(Ae=!0),(Te&&ke.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(be)||ke.regExp?Te&&ke.$supportsUnicodeFlag?Ae?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}if(be.wholeWord&&(xe=we,ke=be,Te=Se.supportsLookbehind(),Ee=Array.from(xe),Re=Ee[0],Ee=Ee[Ee.length-1],we=c(Re)+xe+c(Ee,!1)),be.$isMultiLine=!Ae&&/[\n\r]/.test(we),be.$isMultiLine)return be.re=this.$assembleMultilineRegExp(we,_e);try{var $e=new RegExp(we,_e)}catch(Ae){$e=!1}return be.re=$e},o.prototype.$assembleMultilineRegExp=function(be,Ae){for(var we=be.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),xe=[],Se=0;Se<we.length;Se++)try{xe.push(new RegExp(we[Se],Ae))}catch(be){return!1}return xe},o.prototype.$matchIterator=function(be,Ae){var we,xe,ke,Te,Ee,Re,_e,$e,Le,Ne=this.$assembleRegExp(Ae);return!!Ne&&(we=1==Ae.backwards,xe=0!=Ae.skipCurrent,ke=Ne.unicode,Te=Ae.range,(Ee=(Ee=Ae.start)||(Te?Te[we?"end":"start"]:be.selection.getRange())).start&&(Ee=Ee[xe!=we?"end":"start"]),Re=Te?Te.start.row:0,_e=Te?Te.end.row:be.getLength()-1,Le=Ae.$isMultiLine?($e=Ne.length,function(Ae,xe,Se){var ke=we?Ae-$e+1:Ae;if(!(ke<0||ke+$e>be.getLength())){var Te=be.getLine(ke);Ae=Te.search(Ne[0]);if(!(!we&&Ae<xe||-1===Ae)){for(var Ee=1;Ee<$e;Ee++)if(-1==(Te=be.getLine(ke+Ee)).search(Ne[Ee]))return;var Re=Te.match(Ne[$e-1])[0].length;if(!(we&&xe<Re))return!!Se(ke,Ae,ke+$e-1,Re)||void 0}}}):we?function(Ae,we,xe){var Te,Ee=be.getLine(Ae),Re=[];for(Ne.lastIndex=0;Te=Ne.exec(Ee);){var _e=Te[0].length,$e=Te.index;if(!_e){if($e>=Ee.length)break;Ne.lastIndex=$e+=Se.skipEmptyMatch(Ee,$e,ke)}if(Te.index+_e>we)break;Re.push(Te.index,_e)}for(var Le=Re.length-1;0<=Le;Le-=2){var Me=Re[Le-1];if(xe(Ae,Me,Ae,Me+(_e=Re[Le])))return!0}}:function(Ae,we,xe){var Te=be.getLine(Ae);for(Ne.lastIndex=we;Ee=Ne.exec(Te);){var Ee,Re=Ee[0].length;if(xe(Ae,Ee=Ee.index,Ae,Ee+Re))return!0;if(!Re&&(Ne.lastIndex=Ee+=Se.skipEmptyMatch(Te,Ee,ke),Ee>=Te.length))return!1}},{forEach:we?function(be){var we=Ee.row;if(!Le(we,Ee.column,be)){for(we--;Re<=we;we--)if(Le(we,Number.MAX_VALUE,be))return;if(0!=Ae.wrap)for(we=_e,Re=Ee.row;Re<=we;we--)if(Le(we,Number.MAX_VALUE,be))return}}:function(be){var we=Ee.row;if(!Le(we,Ee.column,be)){for(we+=1;we<=_e;we++)if(Le(we,0,be))return;if(0!=Ae.wrap)for(we=Re,_e=Ee.row;we<=_e;we++)if(Le(we,0,be))return}}})},we.Search=o})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(Ae,we,xe){var Se,ke=(this||be)&&(this||be).__extends||(Se=function(be,Ae){return(Se=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,Ae){be.__proto__=Ae}:function(be,Ae){for(var we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(be[we]=Ae[we])}))(be,Ae)},function(Ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function n(){(this||be).constructor=Ae}Se(Ae,we),Ae.prototype=null===we?Object.create(we):(n.prototype=we.prototype,new n)}),Te=Ae("../lib/keys"),Ee=Ae("../lib/useragent"),Re=Te.KEY_MODS,_e=(c.prototype.$init=function(Ae,we,xe){(this||be).platform=we||(Ee.isMac?"mac":"win"),(this||be).commands={},(this||be).commandKeyBinding={},this.addCommands(Ae),(this||be).$singleCommand=xe},c.prototype.addCommand=function(Ae){(this||be).commands[Ae.name]&&this.removeCommand(Ae),((this||be).commands[Ae.name]=Ae).bindKey&&this._buildKeyHash(Ae)},c.prototype.removeCommand=function(Ae,we){var xe,Se=Ae&&("string"==typeof Ae?Ae:Ae.name),ke=(Ae=(this||be).commands[Se],we||delete(this||be).commands[Se],(this||be).commandKeyBinding);for(xe in ke){var Te,Ee=ke[xe];Ee==Ae?delete ke[xe]:Array.isArray(Ee)&&-1!=(Te=Ee.indexOf(Ae))&&(Ee.splice(Te,1),1==Ee.length)&&(ke[xe]=Ee[0])}},c.prototype.bindKey=function(Ae,we,xe){if("object"==typeof Ae&&Ae&&(null==xe&&(xe=Ae.position),Ae=Ae[(this||be).platform]),Ae)return"function"==typeof we?this.addCommand({exec:we,bindKey:Ae,name:we.name||Ae}):void Ae.split("|").forEach((function(Ae){var Se="",ke=(-1!=Ae.indexOf(" ")&&(Ae=(ke=Ae.split(/\s+/)).pop(),ke.forEach((function(be){be=this.parseKeys(be),be=Re[be.hashId]+be.key;Se+=(Se?" ":"")+be,this._addCommandToBinding(Se,"chainKeys")}),this||be),Se+=" "),this.parseKeys(Ae));Ae=Re[ke.hashId]+ke.key;this._addCommandToBinding(Se+Ae,we,xe)}),this||be)},c.prototype._addCommandToBinding=function(Ae,we,xe){var Se=(this||be).commandKeyBinding;if(we)if(!Se[Ae]||(this||be).$singleCommand)Se[Ae]=we;else{Array.isArray(Se[Ae])?-1!=(Te=Se[Ae].indexOf(we))&&Se[Ae].splice(Te,1):Se[Ae]=[Se[Ae]],"number"!=typeof xe&&(xe=h(we));for(var ke=Se[Ae],Te=0;Te<ke.length;Te++)if(xe<h(ke[Te]))break;ke.splice(Te,0,we)}else delete Se[Ae]},c.prototype.addCommands=function(Ae){Ae&&Object.keys(Ae).forEach((function(be){var we=Ae[be];if(we){if("string"==typeof we)return this.bindKey(we,be);"object"==typeof(we="function"==typeof we?{exec:we}:we)&&(we.name||(we.name=be),this.addCommand(we))}}),this||be)},c.prototype.removeCommands=function(Ae){Object.keys(Ae).forEach((function(be){this.removeCommand(Ae[be])}),this||be)},c.prototype.bindKeys=function(Ae){Object.keys(Ae).forEach((function(be){this.bindKey(be,Ae[be])}),this||be)},c.prototype._buildKeyHash=function(be){this.bindKey(be.bindKey,be)},c.prototype.parseKeys=function(be){var Ae=be.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(be){return be})),we=Ae.pop(),xe=Te[we];if(Te.FUNCTION_KEYS[xe])we=Te.FUNCTION_KEYS[xe].toLowerCase();else{if(!Ae.length)return{key:we,hashId:-1};if(1==Ae.length&&"shift"==Ae[0])return{key:we.toUpperCase(),hashId:-1}}for(var Se=0,ke=Ae.length;ke--;){var Ee=Te.KEY_MODS[Ae[ke]];if(null==Ee)return"undefined"!=typeof console&&console.error("invalid modifier "+Ae[ke]+" in "+be),!1;Se|=Ee}return{key:we,hashId:Se}},c.prototype.findKeyCommand=function(Ae,we){Ae=Re[Ae]+we;return(this||be).commandKeyBinding[Ae]},c.prototype.handleKeyboard=function(Ae,we,xe,Se){var ke,Te;if(!(Se<0))return ke=Re[we]+xe,Te=(this||be).commandKeyBinding[ke],Ae.$keyChain&&(Ae.$keyChain+=" "+ke,Te=(this||be).commandKeyBinding[Ae.$keyChain]||Te),!Te||"chainKeys"!=Te&&"chainKeys"!=Te[Te.length-1]?(Ae.$keyChain&&(we&&4!=we||1!=xe.length?(-1==we||0<Se)&&(Ae.$keyChain=""):Ae.$keyChain=Ae.$keyChain.slice(0,-ke.length-1)),{command:Te}):(Ae.$keyChain=Ae.$keyChain||ke,{command:"null"})},c.prototype.getStatusText=function(be,Ae){return Ae.$keyChain||""},c);function c(be,Ae){this.$init(be,Ae,!1)}function h(be){return"object"==typeof be&&be.bindKey&&be.bindKey.position||(be.isDefault?-100:0)}ke(u,$e=_e);var $e;Ae=u;function u(Ae,we){Ae=$e.call(this||be,Ae,we)||this||be;return Ae.$singleCommand=!0,Ae}Ae.call=function(be,Ae,we){_e.prototype.$init.call(be,Ae,we,!0)},_e.call=function(be,Ae,we){_e.prototype.$init.call(be,Ae,we,!1)},we.HashHandler=Ae,we.MultiHashHandler=_e})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(Ae,we,xe){var Se,ke,Te=(this||be)&&(this||be).__extends||(Se=function(be,Ae){return(Se=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,Ae){be.__proto__=Ae}:function(be,Ae){for(var we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(be[we]=Ae[we])}))(be,Ae)},function(Ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function n(){(this||be).constructor=Ae}Se(Ae,we),Ae.prototype=null===we?Object.create(we):(n.prototype=we.prototype,new n)}),Ee=Ae("../lib/oop"),Re=Ae("../keyboard/hash_handler").MultiHashHandler;Ae=Ae("../lib/event_emitter").EventEmitter,Te=(Te(l,ke=Re),l.prototype.exec=function(Ae,we,xe){if(Array.isArray(Ae)){for(var Se=Ae.length;Se--;)if(this.exec(Ae[Se],we,xe))return!0;return!1}var ke;return!!(Ae="string"==typeof Ae?(this||be).commands[Ae]:Ae)&&!(we&&we.$readOnly&&!Ae.readOnly||0!=(this||be).$checkCommandState&&Ae.isAvailable&&!Ae.isAvailable(we)||((ke={editor:we,command:Ae,args:xe}).returnValue=this._emit("exec",ke),this._signal("afterExec",ke),!1===ke.returnValue))},l.prototype.toggleRecording=function(Ae){if(!(this||be).$inReplay)return Ae&&Ae._emit("changeStatus"),(this||be).recording?((this||be).macro.pop(),this.off("exec",(this||be).$addCommandToMacro),(this||be).macro.length||((this||be).macro=(this||be).oldMacro),(this||be).recording=!1):((this||be).$addCommandToMacro||((this||be).$addCommandToMacro=function(Ae){(this||be).macro.push([Ae.command,Ae.args])}.bind(this||be)),(this||be).oldMacro=(this||be).macro,(this||be).macro=[],this.on("exec",(this||be).$addCommandToMacro),(this||be).recording=!0)},l.prototype.replay=function(Ae){if(!(this||be).$inReplay&&(this||be).macro){if((this||be).recording)return this.toggleRecording(Ae);try{(this||be).$inReplay=!0,(this||be).macro.forEach((function(be){"string"==typeof be?this.exec(be,Ae):this.exec(be[0],Ae,be[1])}),this||be)}finally{(this||be).$inReplay=!1}}},l.prototype.trimMacro=function(be){return be.map((function(be){return"string"!=typeof be[0]&&(be[0]=be[0].name),be[1]?be:be[0]}))},l);function l(Ae,we){we=ke.call(this||be,we,Ae)||this||be;return we.byName=we.commands,we.setDefaultHandler("exec",(function(be){return be.args?be.command.exec(be.editor,be.args,be.event,!1):be.command.exec(be.editor,{},be.event,!0)})),we}Ee.implement(Te.prototype,Ae),we.CommandManager=Te})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(Ae,we,xe){var Se=Ae("../lib/lang"),ke=Ae("../config"),Te=Ae("../range").Range;function o(be,Ae){return{win:be,mac:Ae}}we.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:o("Ctrl-,","Command-,"),exec:function(be){ke.loadModule("ace/ext/settings_menu",(function(Ae){Ae.init(be),be.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:o("Alt-E","F4"),exec:function(be){ke.loadModule("ace/ext/error_marker",(function(Ae){Ae.showErrorMarker(be,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:o("Alt-Shift-E","Shift-F4"),exec:function(be){ke.loadModule("ace/ext/error_marker",(function(Ae){Ae.showErrorMarker(be,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:o("Ctrl-A","Command-A"),exec:function(be){be.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:o(null,"Ctrl-L"),exec:function(be){be.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:o("Ctrl-L","Command-L"),exec:function(be,Ae){"number"!=typeof Ae||isNaN(Ae)||be.gotoLine(Ae),be.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:o("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(be){be.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:o("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(be){be.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:o("F2","F2"),exec:function(be){be.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:o("Alt-F2","Alt-F2"),exec:function(be){be.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(be){be.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:o(null,"Ctrl-Command-Option-0"),exec:function(be){be.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:o("Alt-0","Command-Option-0"),exec:function(be){be.session.foldAll(),be.session.unfold(be.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:o("Alt-Shift-0","Command-Option-Shift-0"),exec:function(be){be.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:o("Ctrl-K","Command-G"),exec:function(be){be.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:o("Ctrl-Shift-K","Command-Shift-G"),exec:function(be){be.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:o("Alt-K","Ctrl-G"),exec:function(be){be.selection.isEmpty()?be.selection.selectWord():be.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:o("Alt-Shift-K","Ctrl-Shift-G"),exec:function(be){be.selection.isEmpty()?be.selection.selectWord():be.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:o("Ctrl-F","Command-F"),exec:function(be){ke.loadModule("ace/ext/searchbox",(function(Ae){Ae.Search(be)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(be){be.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:o("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(be){be.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:o("Ctrl-Home","Command-Home|Command-Up"),exec:function(be){be.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:o("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(be){be.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:o("Up","Up|Ctrl-P"),exec:function(be,Ae){be.navigateUp(Ae.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:o("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(be){be.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:o("Ctrl-End","Command-End|Command-Down"),exec:function(be){be.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:o("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(be){be.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:o("Down","Down|Ctrl-N"),exec:function(be,Ae){be.navigateDown(Ae.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:o("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(be){be.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:o("Ctrl-Left","Option-Left"),exec:function(be){be.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:o("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(be){be.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:o("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(be){be.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:o("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(be){be.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:o("Left","Left|Ctrl-B"),exec:function(be,Ae){be.navigateLeft(Ae.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:o("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(be){be.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:o("Ctrl-Right","Option-Right"),exec:function(be){be.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:o("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(be){be.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:o("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(be){be.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:o("Shift-Right","Shift-Right"),exec:function(be){be.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:o("Right","Right|Ctrl-F"),exec:function(be,Ae){be.navigateRight(Ae.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(be){be.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:o(null,"Option-PageDown"),exec:function(be){be.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:o("PageDown","PageDown|Ctrl-V"),exec:function(be){be.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(be){be.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:o(null,"Option-PageUp"),exec:function(be){be.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(be){be.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:o("Ctrl-Up",null),exec:function(be){be.renderer.scrollBy(0,-2*be.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:o("Ctrl-Down",null),exec:function(be){be.renderer.scrollBy(0,2*be.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(be){be.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(be){be.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:o("Ctrl-Alt-E","Command-Option-E"),exec:function(be){be.commands.toggleRecording(be)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:o("Ctrl-Shift-E","Command-Shift-E"),exec:function(be){be.commands.replay(be)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:o("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(be){be.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:o("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(be){be.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:o("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(be){be.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:o(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(be){},readOnly:!0},{name:"cut",description:"Cut",exec:function(be){var Ae=be.$copyWithEmptySelection&&be.selection.isEmpty()?be.selection.getLineRange():be.selection.getRange();be._emit("cut",Ae),Ae.isEmpty()||be.session.remove(Ae),be.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(be,Ae){be.$handlePaste(Ae)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:o("Ctrl-D","Command-D"),exec:function(be){be.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:o("Ctrl-Shift-D","Command-Shift-D"),exec:function(be){be.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:o("Ctrl-Alt-S","Command-Alt-S"),exec:function(be){be.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:o("Ctrl-/","Command-/"),exec:function(be){be.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:o("Ctrl-Shift-/","Command-Shift-/"),exec:function(be){be.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:o("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(be){be.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:o("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(be){be.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:o("Ctrl-H","Command-Option-F"),exec:function(be){ke.loadModule("ace/ext/searchbox",(function(Ae){Ae.Search(be,!0)}))}},{name:"undo",description:"Undo",bindKey:o("Ctrl-Z","Command-Z"),exec:function(be){be.undo()}},{name:"redo",description:"Redo",bindKey:o("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(be){be.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:o("Alt-Shift-Up","Command-Option-Up"),exec:function(be){be.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:o("Alt-Up","Option-Up"),exec:function(be){be.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:o("Alt-Shift-Down","Command-Option-Down"),exec:function(be){be.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:o("Alt-Down","Option-Down"),exec:function(be){be.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:o("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(be){be.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:o("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(be){be.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:o("Shift-Delete",null),exec:function(be){if(!be.selection.isEmpty())return!1;be.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:o("Alt-Backspace","Command-Backspace"),exec:function(be){be.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:o("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(be){be.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:o("Ctrl-Shift-Backspace",null),exec:function(be){var Ae=be.selection.getRange();Ae.start.column=0,be.session.remove(Ae)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:o("Ctrl-Shift-Delete",null),exec:function(be){var Ae=be.selection.getRange();Ae.end.column=Number.MAX_VALUE,be.session.remove(Ae)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:o("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(be){be.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:o("Ctrl-Delete","Alt-Delete"),exec:function(be){be.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:o("Shift-Tab","Shift-Tab"),exec:function(be){be.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:o("Tab","Tab"),exec:function(be){be.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:o("Ctrl-[","Ctrl-["),exec:function(be){be.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:o("Ctrl-]","Ctrl-]"),exec:function(be){be.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(be,Ae){be.insert(Ae)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(be,Ae){be.insert(Se.stringRepeat(Ae.text||"",Ae.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:o(null,"Ctrl-O"),exec:function(be){be.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:o("Alt-Shift-X","Ctrl-T"),exec:function(be){be.transposeLetters()},multiSelectAction:function(be){be.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:o("Ctrl-U","Ctrl-U"),exec:function(be){be.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:o("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(be){be.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:o(null,null),exec:function(be){be.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:o("Ctrl-Shift-L","Command-Shift-L"),exec:function(be){var Ae=be.selection.getRange();Ae.start.column=Ae.end.column=0,Ae.end.row++,be.selection.setRange(Ae,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:o("Ctrl+F3","F3"),exec:function(be){be.openLink()}},{name:"joinlines",description:"Join lines",bindKey:o(null,null),exec:function(be){for(var Ae=be.selection.isBackwards(),we=Ae?be.selection.getSelectionLead():be.selection.getSelectionAnchor(),xe=Ae?be.selection.getSelectionAnchor():be.selection.getSelectionLead(),ke=(Ae=be.session.doc.getLine(we.row).length,be.session.doc.getTextRange(be.selection.getRange()).replace(/\n\s*/," ").length),Ee=be.session.doc.getLine(we.row),Re=we.row+1;Re<=xe.row+1;Re++){var _e=Se.stringTrimLeft(Se.stringTrimRight(be.session.doc.getLine(Re)));Ee+=_e=0!==_e.length?" "+_e:_e}xe.row+1<be.session.doc.getLength()-1&&(Ee+=be.session.doc.getNewLineCharacter()),be.clearSelection(),be.session.doc.replace(new Te(we.row,0,xe.row+2,0),Ee),0<ke?(be.selection.moveCursorTo(we.row,we.column),be.selection.selectTo(we.row,we.column+ke)):(Ae=be.session.doc.getLine(we.row).length>Ae?Ae+1:Ae,be.selection.moveCursorTo(we.row,Ae))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:o(null,null),exec:function(be){var Ae=be.session.doc.getLength()-1,we=be.session.doc.getLine(Ae).length,xe=be.selection.rangeList.ranges,Se=[];xe.length<1&&(xe=[be.selection.getRange()]);for(var ke=0;ke<xe.length;ke++)ke!=xe.length-1||xe[ke].end.row===Ae&&xe[ke].end.column===we||Se.push(new Te(xe[ke].end.row,xe[ke].end.column,Ae,we)),0===ke?0===xe[ke].start.row&&0===xe[ke].start.column||Se.push(new Te(0,0,xe[ke].start.row,xe[ke].start.column)):Se.push(new Te(xe[ke-1].end.row,xe[ke-1].end.column,xe[ke].start.row,xe[ke].start.column));be.exitMultiSelectMode(),be.clearSelection();for(ke=0;ke<Se.length;ke++)be.selection.addRange(Se[ke],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(be){be.selection.clearSelection(),be.navigateLineEnd(),be.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(be){be.selection.clearSelection();var Ae=be.getCursorPosition();be.selection.moveTo(Ae.row-1,Number.MAX_VALUE),be.insert("\n"),0===Ae.row&&be.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(be){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),be.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:o("F1","F1"),exec:function(be){be.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:o(null,null),exec:function(be){be.prompt({$type:"modes"})},readOnly:!0}];for(var Ee=1;Ee<9;Ee++)we.commands.push({name:"foldToLevel"+Ee,description:"Fold To Level "+Ee,level:Ee,exec:function(Ae){Ae.session.foldToLevel((this||be).level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(Ae,we,xe){var Se=Ae("./lib/dom");function i(Ae){(this||be).session=Ae,((this||be).session.widgetManager=this||be).session.getRowLength=(this||be).getRowLength,(this||be).session.$getWidgetScreenLength=(this||be).$getWidgetScreenLength,(this||be).updateOnChange=(this||be).updateOnChange.bind(this||be),(this||be).renderWidgets=(this||be).renderWidgets.bind(this||be),(this||be).measureWidgets=(this||be).measureWidgets.bind(this||be),(this||be).session._changedWidgets=[],(this||be).$onChangeEditor=(this||be).$onChangeEditor.bind(this||be),(this||be).session.on("change",(this||be).updateOnChange),(this||be).session.on("changeFold",(this||be).updateOnFold),(this||be).session.on("changeEditor",(this||be).$onChangeEditor)}i.prototype.getRowLength=function(Ae){var we=(this||be).lineWidgets&&(this||be).lineWidgets[Ae]&&(this||be).lineWidgets[Ae].rowCount||0;return(this||be).$useWrapMode&&(this||be).$wrapData[Ae]?(this||be).$wrapData[Ae].length+1+we:1+we},i.prototype.$getWidgetScreenLength=function(){var Ae=0;return(this||be).lineWidgets.forEach((function(be){be&&be.rowCount&&!be.hidden&&(Ae+=be.rowCount)})),Ae},i.prototype.$onChangeEditor=function(be){this.attach(be.editor)},i.prototype.attach=function(Ae){Ae&&Ae.widgetManager&&Ae.widgetManager!=(this||be)&&Ae.widgetManager.detach(),(this||be).editor!=Ae&&(this.detach(),(this||be).editor=Ae)&&(Ae.widgetManager=this||be,Ae.renderer.on("beforeRender",(this||be).measureWidgets),Ae.renderer.on("afterRender",(this||be).renderWidgets))},i.prototype.detach=function(Ae){var we=(this||be).editor;we&&((this||be).editor=null,we.widgetManager=null,we.renderer.off("beforeRender",(this||be).measureWidgets),we.renderer.off("afterRender",(this||be).renderWidgets),we=(this||be).session.lineWidgets)&&we.forEach((function(be){be&&be.el&&be.el.parentNode&&(be._inDocument=!1,be.el.parentNode.removeChild(be.el))}))},i.prototype.updateOnFold=function(be,Ae){var we=Ae.lineWidgets;if(we&&be.action){Ae=be.data;for(var xe=Ae.start.row,Se=Ae.end.row,ke="add"==be.action,Te=xe+1;Te<Se;Te++)we[Te]&&(we[Te].hidden=ke);we[Se]&&(ke?we[xe]?we[Se].hidden=ke:we[xe]=we[Se]:(we[xe]==we[Se]&&(we[xe]=void 0),we[Se].hidden=ke))}},i.prototype.updateOnChange=function(Ae){var we,xe,Se,ke=(this||be).session.lineWidgets;ke&&(we=Ae.start.row,0!=(xe=Ae.end.row-we))&&("remove"==Ae.action?(Se=ke.splice(we+1,xe),!ke[we]&&Se[Se.length-1]&&(ke[we]=Se.pop()),Se.forEach((function(be){be&&this.removeLineWidget(be)}),this||be)):(Se=new Array(xe),ke[we]&&null!=ke[we].column&&Ae.start.column>ke[we].column&&we++,Se.unshift(we,0),ke.splice.apply(ke,Se)),this.$updateRows())},i.prototype.$updateRows=function(){var Ae,we=(this||be).session.lineWidgets;we&&(Ae=!0,we.forEach((function(be,we){if(be)for(Ae=!1,be.row=we;be.$oldWidget;)be.$oldWidget.row=we,be=be.$oldWidget})),Ae)&&((this||be).session.lineWidgets=null)},i.prototype.$registerLineWidget=function(Ae){(this||be).session.lineWidgets||((this||be).session.lineWidgets=new Array((this||be).session.getLength()));var we=(this||be).session.lineWidgets[Ae.row];return we&&(Ae.$oldWidget=we).el&&we.el.parentNode&&(we.el.parentNode.removeChild(we.el),we._inDocument=!1),(this||be).session.lineWidgets[Ae.row]=Ae},i.prototype.addLineWidget=function(Ae){var we,xe,ke;return this.$registerLineWidget(Ae),Ae.session=(this||be).session,(this||be).editor&&(we=(this||be).editor.renderer,Ae.html&&!Ae.el&&(Ae.el=Se.createElement("div"),Ae.el.innerHTML=Ae.html),Ae.text&&!Ae.el&&(Ae.el=Se.createElement("div"),Ae.el.textContent=Ae.text),Ae.el&&(Se.addCssClass(Ae.el,"ace_lineWidgetContainer"),Ae.className&&Se.addCssClass(Ae.el,Ae.className),Ae.el.style.position="absolute",Ae.el.style.zIndex="5",we.container.appendChild(Ae.el),Ae._inDocument=!0,Ae.coverGutter||(Ae.el.style.zIndex="3"),null==Ae.pixelHeight)&&(Ae.pixelHeight=Ae.el.offsetHeight),null==Ae.rowCount&&(Ae.rowCount=Ae.pixelHeight/we.layerConfig.lineHeight),xe=(this||be).session.getFoldAt(Ae.row,0),(Ae.$fold=xe)&&(ke=(this||be).session.lineWidgets,Ae.row!=xe.end.row||ke[xe.start.row]?Ae.hidden=!0:ke[xe.start.row]=Ae),(this||be).session._emit("changeFold",{data:{start:{row:Ae.row}}}),this.$updateRows(),this.renderWidgets(null,we),this.onWidgetChanged(Ae)),Ae},i.prototype.removeLineWidget=function(Ae){if(Ae._inDocument=!1,Ae.session=null,Ae.el&&Ae.el.parentNode&&Ae.el.parentNode.removeChild(Ae.el),Ae.editor&&Ae.editor.destroy)try{Ae.editor.destroy()}catch(Ae){}if((this||be).session.lineWidgets){var we=(this||be).session.lineWidgets[Ae.row];if(we==Ae)(this||be).session.lineWidgets[Ae.row]=Ae.$oldWidget,Ae.$oldWidget&&this.onWidgetChanged(Ae.$oldWidget);else for(;we;){if(we.$oldWidget==Ae){we.$oldWidget=Ae.$oldWidget;break}we=we.$oldWidget}}(this||be).session._emit("changeFold",{data:{start:{row:Ae.row}}}),this.$updateRows()},i.prototype.getWidgetsAtRow=function(Ae){for(var we=(this||be).session.lineWidgets,xe=we&&we[Ae],Se=[];xe;)Se.push(xe),xe=xe.$oldWidget;return Se},i.prototype.onWidgetChanged=function(Ae){(this||be).session._changedWidgets.push(Ae),(this||be).editor&&(this||be).editor.renderer.updateFull()},i.prototype.measureWidgets=function(Ae,we){var xe=(this||be).session._changedWidgets,Se=we.layerConfig;if(xe&&xe.length){for(var ke=1/0,Te=0;Te<xe.length;Te++){var Ee=xe[Te];if(Ee&&Ee.el&&Ee.session==(this||be).session){if(!Ee._inDocument){if((this||be).session.lineWidgets[Ee.row]!=Ee)continue;Ee._inDocument=!0,we.container.appendChild(Ee.el)}Ee.h=Ee.el.offsetHeight,Ee.fixedWidth||(Ee.w=Ee.el.offsetWidth,Ee.screenWidth=Math.ceil(Ee.w/Se.characterWidth));var Re=Ee.h/Se.lineHeight;Ee.coverLine&&(Re-=(this||be).session.getRowLineCount(Ee.row))<0&&(Re=0),Ee.rowCount!=Re&&(Ee.rowCount=Re,Ee.row<ke)&&(ke=Ee.row)}}ke!=1/0&&((this||be).session._emit("changeFold",{data:{start:{row:ke}}}),(this||be).session.lineWidgetWidth=null),(this||be).session._changedWidgets=[]}},i.prototype.renderWidgets=function(Ae,we){var xe=we.layerConfig,Se=(this||be).session.lineWidgets;if(Se){for(var ke=Math.min((this||be).firstRow,xe.firstRow),Te=Math.max((this||be).lastRow,xe.lastRow,Se.length);0<ke&&!Se[ke];)ke--;(this||be).firstRow=xe.firstRow,(this||be).lastRow=xe.lastRow,we.$cursorLayer.config=xe;for(var Ee=ke;Ee<=Te;Ee++){var Re,_e=Se[Ee];_e&&_e.el&&(_e.hidden?_e.el.style.top=-100-(_e.pixelHeight||0)+"px":(_e._inDocument||(_e._inDocument=!0,we.container.appendChild(_e.el)),Re=we.$cursorLayer.getPixelPosition({row:Ee,column:0},!0).top,_e.coverLine||(Re+=xe.lineHeight*(this||be).session.getRowLineCount(_e.row)),_e.el.style.top=Re-xe.offset+"px",Re=_e.coverGutter?0:we.gutterWidth,_e.fixedWidth||(Re-=we.scrollLeft),_e.el.style.left=Re+"px",_e.fullWidth&&_e.screenWidth&&(_e.el.style.minWidth=xe.width+2*xe.padding+"px"),_e.fixedWidth?_e.el.style.right=we.scrollBar.getWidth()+"px":_e.el.style.right=""))}}},we.LineWidgets=i})),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(Ae,we,xe){var Se=Ae("../lib/keys"),ke=Ae("../mouse/default_gutter_handler").GutterTooltip;function r(Ae){(this||be).editor=Ae,(this||be).gutterLayer=Ae.renderer.$gutterLayer,(this||be).element=Ae.renderer.$gutter,(this||be).lines=Ae.renderer.$gutterLayer.$lines,(this||be).activeRowIndex=null,(this||be).activeLane=null,(this||be).annotationTooltip=new ke((this||be).editor)}r.prototype.addListener=function(){(this||be).element.addEventListener("keydown",(this||be).$onGutterKeyDown.bind(this||be)),(this||be).element.addEventListener("focusout",(this||be).$blurGutter.bind(this||be)),(this||be).editor.on("mousewheel",(this||be).$blurGutter.bind(this||be))},r.prototype.removeListener=function(){(this||be).element.removeEventListener("keydown",(this||be).$onGutterKeyDown.bind(this||be)),(this||be).element.removeEventListener("focusout",(this||be).$blurGutter.bind(this||be)),(this||be).editor.off("mousewheel",(this||be).$blurGutter.bind(this||be))},r.prototype.$onGutterKeyDown=function(Ae){var we;(this||be).annotationTooltip.isOpen?(Ae.preventDefault(),Ae.keyCode===Se.escape&&(this||be).annotationTooltip.hideTooltip()):Ae.target===(this||be).element?Ae.keyCode==Se.enter&&(Ae.preventDefault(),we=(this||be).editor.getCursorPosition().row,(this||be).editor.isRowVisible(we)||(this||be).editor.scrollToLine(we,!0,!0),setTimeout(function(){var Ae=this.$rowToRowIndex((this||be).gutterLayer.$cursorCell.row),we=this.$findNearestFoldWidget(Ae),xe=this.$findNearestAnnotation(Ae);null===we&&null===xe||(null===we&&null!==xe||(null===we||null!==xe)&&Math.abs(xe-Ae)<Math.abs(we-Ae)?((this||be).activeRowIndex=xe,(this||be).activeLane="annotation",this.$focusAnnotation((this||be).activeRowIndex)):((this||be).activeRowIndex=we,(this||be).activeLane="fold",this.$focusFoldWidget((this||be).activeRowIndex)))}.bind(this||be),10)):(this.$handleGutterKeyboardInteraction(Ae),setTimeout(function(){(this||be).editor._signal("gutterkeydown",new Te(Ae,this||be))}.bind(this||be),10))},r.prototype.$handleGutterKeyboardInteraction=function(Ae){if(Ae.keyCode===Se.tab)Ae.preventDefault();else if(Ae.keyCode===Se.escape)Ae.preventDefault(),this.$blurGutter(),(this||be).element.focus(),(this||be).lane=null;else if(Ae.keyCode===Se.up)switch(Ae.preventDefault(),(this||be).activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}else if(Ae.keyCode===Se.down)switch(Ae.preventDefault(),(this||be).activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else if(Ae.keyCode===Se.left)Ae.preventDefault(),this.$switchLane("annotation");else if(Ae.keyCode===Se.right)Ae.preventDefault(),this.$switchLane("fold");else if(Ae.keyCode===Se.enter||Ae.keyCode===Se.space)switch(Ae.preventDefault(),(this||be).activeLane){case"fold":if("start"===(this||be).gutterLayer.session.foldWidgets[this.$rowIndexToRow((this||be).activeRowIndex)]){var we=this.$rowIndexToRow((this||be).activeRowIndex);(this||be).editor.session.onFoldWidgetClick(this.$rowIndexToRow((this||be).activeRowIndex),Ae),setTimeout(function(){this.$rowIndexToRow((this||be).activeRowIndex)!==we&&(this.$blurFoldWidget((this||be).activeRowIndex),(this||be).activeRowIndex=this.$rowToRowIndex(we),this.$focusFoldWidget((this||be).activeRowIndex))}.bind(this||be),10);break}if("end"===(this||be).gutterLayer.session.foldWidgets[this.$rowIndexToRow((this||be).activeRowIndex)])break;return;case"annotation":var xe=(this||be).lines.cells[(this||be).activeRowIndex].element.childNodes[2].getBoundingClientRect(),ke=(this||be).annotationTooltip.getElement().style;ke.left=xe.right+"px",ke.top=xe.bottom+"px",(this||be).annotationTooltip.showTooltip(this.$rowIndexToRow((this||be).activeRowIndex))}},r.prototype.$blurGutter=function(){if(null!==(this||be).activeRowIndex)switch((this||be).activeLane){case"fold":this.$blurFoldWidget((this||be).activeRowIndex);break;case"annotation":this.$blurAnnotation((this||be).activeRowIndex)}(this||be).annotationTooltip.isOpen&&(this||be).annotationTooltip.hideTooltip()},r.prototype.$isFoldWidgetVisible=function(Ae){var we=(this||be).editor.isRowFullyVisible(this.$rowIndexToRow(Ae));Ae="none"!==this.$getFoldWidget(Ae).style.display;return we&&Ae},r.prototype.$isAnnotationVisible=function(Ae){var we=(this||be).editor.isRowFullyVisible(this.$rowIndexToRow(Ae));Ae="none"!==this.$getAnnotation(Ae).style.display;return we&&Ae},r.prototype.$getFoldWidget=function(Ae){return(this||be).lines.get(Ae).element.childNodes[1]},r.prototype.$getAnnotation=function(Ae){return(this||be).lines.get(Ae).element.childNodes[2]},r.prototype.$findNearestFoldWidget=function(Ae){if(this.$isFoldWidgetVisible(Ae))return Ae;for(var we=0;0<Ae-we||Ae+we<(this||be).lines.getLength()-1;){if(0<=Ae-++we&&this.$isFoldWidgetVisible(Ae-we))return Ae-we;if(Ae+we<=(this||be).lines.getLength()-1&&this.$isFoldWidgetVisible(Ae+we))return Ae+we}return null},r.prototype.$findNearestAnnotation=function(Ae){if(this.$isAnnotationVisible(Ae))return Ae;for(var we=0;0<Ae-we||Ae+we<(this||be).lines.getLength()-1;){if(0<=Ae-++we&&this.$isAnnotationVisible(Ae-we))return Ae-we;if(Ae+we<=(this||be).lines.getLength()-1&&this.$isAnnotationVisible(Ae+we))return Ae+we}return null},r.prototype.$focusFoldWidget=function(Ae){null!=Ae&&((Ae=this.$getFoldWidget(Ae)).classList.add((this||be).editor.renderer.keyboardFocusClassName),Ae.focus())},r.prototype.$focusAnnotation=function(Ae){null!=Ae&&((Ae=this.$getAnnotation(Ae)).classList.add((this||be).editor.renderer.keyboardFocusClassName),Ae.focus())},r.prototype.$blurFoldWidget=function(Ae){Ae=this.$getFoldWidget(Ae);Ae.classList.remove((this||be).editor.renderer.keyboardFocusClassName),Ae.blur()},r.prototype.$blurAnnotation=function(Ae){Ae=this.$getAnnotation(Ae);Ae.classList.remove((this||be).editor.renderer.keyboardFocusClassName),Ae.blur()},r.prototype.$moveFoldWidgetUp=function(){for(var Ae=(this||be).activeRowIndex;0<Ae;)if(this.$isFoldWidgetVisible(--Ae))return this.$blurFoldWidget((this||be).activeRowIndex),(this||be).activeRowIndex=Ae,void this.$focusFoldWidget((this||be).activeRowIndex)},r.prototype.$moveFoldWidgetDown=function(){for(var Ae=(this||be).activeRowIndex;Ae<(this||be).lines.getLength()-1;)if(this.$isFoldWidgetVisible(++Ae))return this.$blurFoldWidget((this||be).activeRowIndex),(this||be).activeRowIndex=Ae,void this.$focusFoldWidget((this||be).activeRowIndex)},r.prototype.$moveAnnotationUp=function(){for(var Ae=(this||be).activeRowIndex;0<Ae;)if(this.$isAnnotationVisible(--Ae))return this.$blurAnnotation((this||be).activeRowIndex),(this||be).activeRowIndex=Ae,void this.$focusAnnotation((this||be).activeRowIndex)},r.prototype.$moveAnnotationDown=function(){for(var Ae=(this||be).activeRowIndex;Ae<(this||be).lines.getLength()-1;)if(this.$isAnnotationVisible(++Ae))return this.$blurAnnotation((this||be).activeRowIndex),(this||be).activeRowIndex=Ae,void this.$focusAnnotation((this||be).activeRowIndex)},r.prototype.$switchLane=function(Ae){switch(Ae){case"annotation":"annotation"!==(this||be).activeLane&&null!=(we=this.$findNearestAnnotation((this||be).activeRowIndex))&&((this||be).activeLane="annotation",this.$blurFoldWidget((this||be).activeRowIndex),(this||be).activeRowIndex=we,this.$focusAnnotation((this||be).activeRowIndex));break;case"fold":var we;"fold"!==(this||be).activeLane&&null!=(we=this.$findNearestFoldWidget((this||be).activeRowIndex))&&((this||be).activeLane="fold",this.$blurAnnotation((this||be).activeRowIndex),(this||be).activeRowIndex=we,this.$focusFoldWidget((this||be).activeRowIndex))}},r.prototype.$rowIndexToRow=function(Ae){Ae=(this||be).lines.get(Ae);return Ae?Ae.row:null},r.prototype.$rowToRowIndex=function(Ae){for(var we=0;we<(this||be).lines.getLength();we++)if((this||be).lines.get(we).row==Ae)return we;return null},we.GutterKeyboardHandler=r;a.prototype.getKey=function(){return Se.keyCodeToString((this||be).domEvent.keyCode)},a.prototype.getRow=function(){return(this||be).gutterKeyboardHandler.$rowIndexToRow((this||be).gutterKeyboardHandler.activeRowIndex)},a.prototype.isInAnnotationLane=function(){return"annotation"===(this||be).gutterKeyboardHandler.activeLane},a.prototype.isInFoldLane=function(){return"fold"===(this||be).gutterKeyboardHandler.activeLane};var Te=a;function a(Ae,we){(this||be).gutterKeyboardHandler=we,(this||be).domEvent=Ae}we.GutterKeyboardEvent=Te})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],(function(Ae,we,xe){var Se=(this||be)&&(this||be).__values||function(be){var Ae="function"==typeof Symbol&&Symbol.iterator,we=Ae&&be[Ae],xe=0;if(we)return we.call(be);if(be&&"number"==typeof be.length)return{next:function(){return{value:(be=be&&xe>=be.length?void 0:be)&&be[xe++],done:!be}}};throw new TypeError(Ae?"Object is not iterable.":"Symbol.iterator is not defined.")},ke=Ae("./lib/oop"),Te=Ae("./lib/dom"),Ee=Ae("./lib/lang"),Re=Ae("./lib/useragent"),_e=Ae("./keyboard/textinput").TextInput,$e=Ae("./mouse/mouse_handler").MouseHandler,Le=Ae("./mouse/fold_handler").FoldHandler,Ne=Ae("./keyboard/keybinding").KeyBinding,Me=Ae("./edit_session").EditSession,Be=Ae("./search").Search,We=Ae("./range").Range,Pe=Ae("./lib/event_emitter").EventEmitter,He=Ae("./commands/command_manager").CommandManager,Ge=Ae("./commands/default_commands").commands,Fe=Ae("./config"),Oe=Ae("./token_iterator").TokenIterator,Ve=Ae("./line_widgets").LineWidgets,Ze=Ae("./keyboard/gutter_handler").GutterKeyboardHandler,De=Ae("./config").nls,je=Ae("./clipboard"),Ke=Ae("./lib/keys");Ae=(x.prototype.$initOperationListeners=function(){(this||be).commands.on("exec",(this||be).startOperation.bind(this||be),!0),(this||be).commands.on("afterExec",(this||be).endOperation.bind(this||be),!0),(this||be).$opResetTimer=Ee.delayedCall((this||be).endOperation.bind(this||be,!0)),this.on("change",function(){(this||be).curOp||(this.startOperation(),(this||be).curOp.selectionBefore=(this||be).$lastSel),(this||be).curOp.docChanged=!0}.bind(this||be),!0),this.on("changeSelection",function(){(this||be).curOp||(this.startOperation(),(this||be).curOp.selectionBefore=(this||be).$lastSel),(this||be).curOp.selectionChanged=!0}.bind(this||be),!0)},x.prototype.startOperation=function(Ae){if((this||be).curOp){if(!Ae||(this||be).curOp.command)return;(this||be).prevOp=(this||be).curOp}Ae||((this||be).previousCommand=null,Ae={}),(this||be).$opResetTimer.schedule(),(this||be).curOp=(this||be).session.curOp={command:Ae.command||{},args:Ae.args,scrollTop:(this||be).renderer.scrollTop},(this||be).curOp.selectionBefore=(this||be).selection.toJSON()},x.prototype.endOperation=function(Ae){if((this||be).curOp&&(this||be).session){if(Ae&&!1===Ae.returnValue||!(this||be).session)return(this||be).curOp=null;if((1!=Ae||!(this||be).curOp.command||"mouse"!=(this||be).curOp.command.name)&&(this._signal("beforeEndOperation"),(this||be).curOp)){Ae=(this||be).curOp.command;var we=Ae&&Ae.scrollIntoView;if(we){switch(we){case"center-animate":we="animate";case"center":(this||be).renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":(this||be).renderer.scrollCursorIntoView();break;case"selectionPart":var xe=(this||be).selection.getRange(),Se=(this||be).renderer.layerConfig;(xe.start.row>=Se.lastRow||xe.end.row<=Se.firstRow)&&(this||be).renderer.scrollSelectionIntoView((this||be).selection.anchor,(this||be).selection.lead)}"animate"==we&&(this||be).renderer.animateScrolling((this||be).curOp.scrollTop)}Ae=(this||be).selection.toJSON();(this||be).curOp.selectionAfter=Ae,(this||be).$lastSel=(this||be).selection.toJSON(),(this||be).session.getUndoManager().addSelection(Ae),(this||be).prevOp=(this||be).curOp,(this||be).curOp=null}}},x.prototype.$historyTracker=function(Ae){var we,xe,Se,ke;(this||be).$mergeUndoDeltas&&(we=(this||be).prevOp,xe=(this||be).$mergeableCommands,Se=we.command&&Ae.command.name==we.command.name,"insertstring"==Ae.command.name?(ke=Ae.args,void 0===(this||be).mergeNextCommand&&((this||be).mergeNextCommand=!0),Se=Se&&(this||be).mergeNextCommand&&(!/\s/.test(ke)||/\s/.test(we.args)),(this||be).mergeNextCommand=!0):Se=Se&&-1!==xe.indexOf(Ae.command.name),(Se=!("always"!=(this||be).$mergeUndoDeltas&&2e3<Date.now()-(this||be).sequenceStartTime)&&Se)?(this||be).session.mergeUndoDeltas=!0:-1!==xe.indexOf(Ae.command.name)&&((this||be).sequenceStartTime=Date.now()))},x.prototype.setKeyboardHandler=function(Ae,we){var xe;Ae&&"string"==typeof Ae&&"ace"!=Ae?((this||be).$keybindingId=Ae,xe=this||be,Fe.loadModule(["keybinding",Ae],(function(be){xe.$keybindingId==Ae&&xe.keyBinding.setKeyboardHandler(be&&be.handler),we&&we()}))):((this||be).$keybindingId=null,(this||be).keyBinding.setKeyboardHandler(Ae),we&&we())},x.prototype.getKeyboardHandler=function(){return(this||be).keyBinding.getKeyboardHandler()},x.prototype.setSession=function(Ae){var we,xe;(this||be).session!=Ae&&((this||be).curOp&&this.endOperation(),(this||be).curOp={},(we=(this||be).session)&&((this||be).session.off("change",(this||be).$onDocumentChange),(this||be).session.off("changeMode",(this||be).$onChangeMode),(this||be).session.off("tokenizerUpdate",(this||be).$onTokenizerUpdate),(this||be).session.off("changeTabSize",(this||be).$onChangeTabSize),(this||be).session.off("changeWrapLimit",(this||be).$onChangeWrapLimit),(this||be).session.off("changeWrapMode",(this||be).$onChangeWrapMode),(this||be).session.off("changeFold",(this||be).$onChangeFold),(this||be).session.off("changeFrontMarker",(this||be).$onChangeFrontMarker),(this||be).session.off("changeBackMarker",(this||be).$onChangeBackMarker),(this||be).session.off("changeBreakpoint",(this||be).$onChangeBreakpoint),(this||be).session.off("changeAnnotation",(this||be).$onChangeAnnotation),(this||be).session.off("changeOverwrite",(this||be).$onCursorChange),(this||be).session.off("changeScrollTop",(this||be).$onScrollTopChange),(this||be).session.off("changeScrollLeft",(this||be).$onScrollLeftChange),(xe=(this||be).session.getSelection()).off("changeCursor",(this||be).$onCursorChange),xe.off("changeSelection",(this||be).$onSelectionChange)),((this||be).session=Ae)?((this||be).$onDocumentChange=(this||be).onDocumentChange.bind(this||be),Ae.on("change",(this||be).$onDocumentChange),(this||be).renderer.setSession(Ae),(this||be).$onChangeMode=(this||be).onChangeMode.bind(this||be),Ae.on("changeMode",(this||be).$onChangeMode),(this||be).$onTokenizerUpdate=(this||be).onTokenizerUpdate.bind(this||be),Ae.on("tokenizerUpdate",(this||be).$onTokenizerUpdate),(this||be).$onChangeTabSize=(this||be).renderer.onChangeTabSize.bind((this||be).renderer),Ae.on("changeTabSize",(this||be).$onChangeTabSize),(this||be).$onChangeWrapLimit=(this||be).onChangeWrapLimit.bind(this||be),Ae.on("changeWrapLimit",(this||be).$onChangeWrapLimit),(this||be).$onChangeWrapMode=(this||be).onChangeWrapMode.bind(this||be),Ae.on("changeWrapMode",(this||be).$onChangeWrapMode),(this||be).$onChangeFold=(this||be).onChangeFold.bind(this||be),Ae.on("changeFold",(this||be).$onChangeFold),(this||be).$onChangeFrontMarker=(this||be).onChangeFrontMarker.bind(this||be),(this||be).session.on("changeFrontMarker",(this||be).$onChangeFrontMarker),(this||be).$onChangeBackMarker=(this||be).onChangeBackMarker.bind(this||be),(this||be).session.on("changeBackMarker",(this||be).$onChangeBackMarker),(this||be).$onChangeBreakpoint=(this||be).onChangeBreakpoint.bind(this||be),(this||be).session.on("changeBreakpoint",(this||be).$onChangeBreakpoint),(this||be).$onChangeAnnotation=(this||be).onChangeAnnotation.bind(this||be),(this||be).session.on("changeAnnotation",(this||be).$onChangeAnnotation),(this||be).$onCursorChange=(this||be).onCursorChange.bind(this||be),(this||be).session.on("changeOverwrite",(this||be).$onCursorChange),(this||be).$onScrollTopChange=(this||be).onScrollTopChange.bind(this||be),(this||be).session.on("changeScrollTop",(this||be).$onScrollTopChange),(this||be).$onScrollLeftChange=(this||be).onScrollLeftChange.bind(this||be),(this||be).session.on("changeScrollLeft",(this||be).$onScrollLeftChange),(this||be).selection=Ae.getSelection(),(this||be).selection.on("changeCursor",(this||be).$onCursorChange),(this||be).$onSelectionChange=(this||be).onSelectionChange.bind(this||be),(this||be).selection.on("changeSelection",(this||be).$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),(this||be).session.getUseWrapMode()&&(this||be).renderer.adjustWrapLimit(),(this||be).renderer.updateFull()):((this||be).selection=null,(this||be).renderer.setSession(Ae)),this._signal("changeSession",{session:Ae,oldSession:we}),(this||be).curOp=null,we&&we._signal("changeEditor",{oldEditor:this||be}),Ae&&Ae._signal("changeEditor",{editor:this||be}),Ae)&&!Ae.destroyed&&Ae.bgTokenizer.scheduleStart()},x.prototype.getSession=function(){return(this||be).session},x.prototype.setValue=function(Ae,we){return(this||be).session.doc.setValue(Ae),we?1==we?this.navigateFileEnd():-1==we&&this.navigateFileStart():this.selectAll(),Ae},x.prototype.getValue=function(){return(this||be).session.getValue()},x.prototype.getSelection=function(){return(this||be).selection},x.prototype.resize=function(Ae){(this||be).renderer.onResize(Ae)},x.prototype.setTheme=function(Ae,we){(this||be).renderer.setTheme(Ae,we)},x.prototype.getTheme=function(){return(this||be).renderer.getTheme()},x.prototype.setStyle=function(Ae){(this||be).renderer.setStyle(Ae)},x.prototype.unsetStyle=function(Ae){(this||be).renderer.unsetStyle(Ae)},x.prototype.getFontSize=function(){return this.getOption("fontSize")||Te.computedStyle((this||be).container).fontSize},x.prototype.setFontSize=function(be){this.setOption("fontSize",be)},x.prototype.$highlightBrackets=function(){var Ae;(this||be).$highlightPending||((Ae=this||be).$highlightPending=!0,setTimeout((function(){Ae.$highlightPending=!1;var be,we,xe,Se,ke=Ae.session;ke&&!ke.destroyed&&(ke.$bracketHighlight&&(ke.$bracketHighlight.markerIds.forEach((function(be){ke.removeMarker(be)})),ke.$bracketHighlight=null),be=Ae.getCursorPosition(),we=(we=Ae.getKeyboardHandler())&&we.$getDirectionForHighlight&&we.$getDirectionForHighlight(Ae),(we=ke.getMatchingBracketRanges(be,we))||(xe=new Oe(ke,be.row,be.column).getCurrentToken())&&/\b(?:tag-open|tag-name)/.test(xe.type)&&(xe=ke.getMatchingTags(be))&&(we=[xe.openTagName.isEmpty()?xe.openTag:xe.openTagName,xe.closeTagName.isEmpty()?xe.closeTag:xe.closeTagName]),(we=!we&&ke.$mode.getMatching?ke.$mode.getMatching(Ae.session):we)&&(Se="ace_bracket",Array.isArray(we)?1==we.length&&(Se="ace_error_bracket"):we=[we],2==we.length&&(0==We.comparePoints(we[0].end,we[1].start)?we=[We.fromPoints(we[0].start,we[1].end)]:0==We.comparePoints(we[0].start,we[1].end)&&(we=[We.fromPoints(we[1].start,we[0].end)])),ke.$bracketHighlight={ranges:we,markerIds:we.map((function(be){return ke.addMarker(be,Se,"text")}))}),Ae.getHighlightIndentGuides())&&Ae.renderer.$textLayer.$highlightIndentGuide()}),50))},x.prototype.focus=function(){(this||be).textInput.focus()},x.prototype.isFocused=function(){return(this||be).textInput.isFocused()},x.prototype.blur=function(){(this||be).textInput.blur()},x.prototype.onFocus=function(Ae){(this||be).$isFocused||((this||be).$isFocused=!0,(this||be).renderer.showCursor(),(this||be).renderer.visualizeFocus(),this._emit("focus",Ae))},x.prototype.onBlur=function(Ae){(this||be).$isFocused&&((this||be).$isFocused=!1,(this||be).renderer.hideCursor(),(this||be).renderer.visualizeBlur(),this._emit("blur",Ae))},x.prototype.$cursorChange=function(){(this||be).renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},x.prototype.onDocumentChange=function(Ae){var we=(this||be).session.$useWrapMode,xe=Ae.start.row==Ae.end.row?Ae.end.row:1/0;(this||be).renderer.updateLines(Ae.start.row,xe,we),this._signal("change",Ae),this.$cursorChange()},x.prototype.onTokenizerUpdate=function(Ae){Ae=Ae.data;(this||be).renderer.updateLines(Ae.first,Ae.last)},x.prototype.onScrollTopChange=function(){(this||be).renderer.scrollToY((this||be).session.getScrollTop())},x.prototype.onScrollLeftChange=function(){(this||be).renderer.scrollToX((this||be).session.getScrollLeft())},x.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},x.prototype.$updateHighlightActiveLine=function(){var Ae,we,xe=this.getSession();(this||be).$highlightActiveLine&&("line"==(this||be).$selectionStyle&&(this||be).selection.isMultiLine()||(Ae=this.getCursorPosition()),(this||be).renderer.theme&&(this||be).renderer.theme.$selectionColorConflict&&!(this||be).selection.isEmpty()&&(Ae=!1),!(this||be).renderer.$maxLines||1!==(this||be).session.getLength()||1<(this||be).renderer.$minLines||(Ae=!1)),xe.$highlightLineMarker&&!Ae?(xe.removeMarker(xe.$highlightLineMarker.id),xe.$highlightLineMarker=null):!xe.$highlightLineMarker&&Ae?((we=new We(Ae.row,Ae.column,Ae.row,1/0)).id=xe.addMarker(we,"ace_active-line","screenLine"),xe.$highlightLineMarker=we):Ae&&(xe.$highlightLineMarker.start.row=Ae.row,xe.$highlightLineMarker.end.row=Ae.row,xe.$highlightLineMarker.start.column=Ae.column,xe._signal("changeBackMarker"))},x.prototype.onSelectionChange=function(Ae){var we,xe,Se=(this||be).session;Se=(Se.$selectionMarker&&Se.removeMarker(Se.$selectionMarker),Se.$selectionMarker=null,(this||be).selection.isEmpty()?this.$updateHighlightActiveLine():(we=(this||be).selection.getRange(),xe=this.getSelectionStyle(),Se.$selectionMarker=Se.addMarker(we,"ace_selection",xe)),(this||be).$highlightSelectedWord&&this.$getSelectionHighLightRegexp());(this||be).session.highlight(Se),this._signal("changeSelection")},x.prototype.$getSelectionHighLightRegexp=function(){var Ae=(this||be).session,we=this.getSelectionRange();if(!we.isEmpty()&&!we.isMultiLine()){var xe=we.start.column,Se=we.end.column;Ae=Ae.getLine(we.start.row),we=Ae.substring(xe,Se);if(!(5e3<we.length)&&/[\w\d]/.test(we)){we=(this||be).$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:we}),Ae=Ae.substring(xe-1,Se+1);if(we.test(Ae))return we}}},x.prototype.onChangeFrontMarker=function(){(this||be).renderer.updateFrontMarkers()},x.prototype.onChangeBackMarker=function(){(this||be).renderer.updateBackMarkers()},x.prototype.onChangeBreakpoint=function(){(this||be).renderer.updateBreakpoints()},x.prototype.onChangeAnnotation=function(){(this||be).renderer.setAnnotations((this||be).session.getAnnotations())},x.prototype.onChangeMode=function(Ae){(this||be).renderer.updateText(),this._emit("changeMode",Ae)},x.prototype.onChangeWrapLimit=function(){(this||be).renderer.updateFull()},x.prototype.onChangeWrapMode=function(){(this||be).renderer.onResize(!0)},x.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),(this||be).renderer.updateFull()},x.prototype.getSelectedText=function(){return(this||be).session.getTextRange(this.getSelectionRange())},x.prototype.getCopyText=function(){var Ae=this.getSelectedText(),we=(this||be).session.doc.getNewLineCharacter(),xe=!1;if(!Ae&&(this||be).$copyWithEmptySelection){xe=!0;for(var Se=(this||be).selection.getAllRanges(),ke=0;ke<Se.length;ke++){var Te=Se[ke];ke&&Se[ke-1].start.row==Te.start.row||(Ae+=(this||be).session.getLine(Te.start.row)+we)}}var Ee={text:Ae};return this._signal("copy",Ee),je.lineMode=!!xe&&Ee.text,Ee.text},x.prototype.onCopy=function(){(this||be).commands.exec("copy",this||be)},x.prototype.onCut=function(){(this||be).commands.exec("cut",this||be)},x.prototype.onPaste=function(Ae,we){(this||be).commands.exec("paste",this||be,{text:Ae,event:we})},x.prototype.$handlePaste=function(Ae){this._signal("paste",Ae="string"==typeof Ae?{text:Ae}:Ae);var we=Ae.text,xe=(Ae=we===je.lineMode,(this||be).session);if(!(this||be).inMultiSelectMode||(this||be).inVirtualSelectionMode)Ae?xe.insert({row:(this||be).selection.lead.row,column:0},we):this.insert(we);else if(Ae)(this||be).selection.rangeList.ranges.forEach((function(be){xe.insert({row:be.start.row,column:0},we)}));else{var Se=we.split(/\r\n|\r|\n/),ke=(this||be).selection.rangeList.ranges;Ae=!(2!=Se.length||Se[0]&&Se[1]);if(Se.length!=ke.length||Ae)return(this||be).commands.exec("insertstring",this||be,we);for(var Te=ke.length;Te--;){var Ee=ke[Te];Ee.isEmpty()||xe.remove(Ee),xe.insert(Ee.start,Se[Te])}}},x.prototype.execCommand=function(Ae,we){return(this||be).commands.exec(Ae,this||be,we)},x.prototype.insert=function(Ae,we){var xe,Se=(this||be).session,ke=Se.getMode(),Te=this.getCursorPosition(),Ee=(this.getBehavioursEnabled()&&!we&&(xe=ke.transformAction(Se.getState(Te.row),"insertion",this||be,Se,Ae))&&(Ae===xe.text||(this||be).inVirtualSelectionMode||((this||be).session.mergeUndoDeltas=!1,(this||be).mergeNextCommand=!1),Ae=xe.text),"\t"==Ae&&(Ae=(this||be).session.getTabString()),(this||be).selection.isEmpty()?(this||be).session.getOverwrite()&&-1==Ae.indexOf("\n")&&((Ee=We.fromPoints(Te,Te)).end.column+=Ae.length,(this||be).session.remove(Ee)):(Ee=this.getSelectionRange(),Te=(this||be).session.remove(Ee),this.clearSelection()),"\n"!=Ae&&"\r\n"!=Ae||(Re=Se.getLine(Te.row),Te.column>Re.search(/\S|$/)&&(we=Re.substr(Te.column).search(/\S|$/),Se.doc.removeInLine(Te.row,Te.column,Te.column+we))),this.clearSelection(),Te.column),Re=(we=Se.getState(Te.row),Se.getLine(Te.row)),_e=ke.checkOutdent(we,Re,Ae);Se.insert(Te,Ae),xe&&xe.selection&&(2==xe.selection.length?(this||be).selection.setSelectionRange(new We(Te.row,Ee+xe.selection[0],Te.row,Ee+xe.selection[1])):(this||be).selection.setSelectionRange(new We(Te.row+xe.selection[0],xe.selection[1],Te.row+xe.selection[2],xe.selection[3]))),(this||be).$enableAutoIndent&&(Se.getDocument().isNewLine(Ae)&&(Ee=ke.getNextLineIndent(we,Re.slice(0,Te.column),Se.getTabString()),Se.insert({row:Te.row+1,column:0},Ee)),_e)&&ke.autoOutdent(we,Se,Te.row)},x.prototype.autoIndent=function(){for(var Ae=(this||be).session,we=Ae.getMode(),xe=(this||be).selection.isEmpty()?[new We(0,0,Ae.doc.getLength()-1,0)]:(this||be).selection.getAllRanges(),Se="",ke="",Te=Ae.getTabString(),Ee=0;Ee<xe.length;Ee++)for(var Re=xe[Ee].start.row,_e=xe[Ee].end.row,$e=Re;$e<=_e;$e++){0<$e&&(Se=Ae.getState($e-1),Le=Ae.getLine($e-1),ke=we.getNextLineIndent(Se,Le,Te));var Le=Ae.getLine($e),Ne=we.$getIndent(Le);ke!==Ne&&(0<Ne.length&&(Ne=new We($e,0,$e,Ne.length),Ae.remove(Ne)),0<ke.length)&&Ae.insert({row:$e,column:0},ke),we.autoOutdent(Se,Ae,$e)}},x.prototype.onTextInput=function(Ae,we){if(!we)return(this||be).keyBinding.onTextInput(Ae);this.startOperation({command:{name:"insertstring"}});Ae=(this||be).applyComposition.bind(this||be,Ae,we);(this||be).selection.rangeCount?this.forEachSelection(Ae):Ae(),this.endOperation()},x.prototype.applyComposition=function(Ae,we){var xe;(we.extendLeft||we.extendRight)&&((xe=(this||be).selection.getRange()).start.column-=we.extendLeft,xe.end.column+=we.extendRight,xe.start.column<0&&(xe.start.row--,xe.start.column+=(this||be).session.getLine(xe.start.row).length+1),(this||be).selection.setRange(xe),Ae||xe.isEmpty()||this.remove()),!Ae&&(this||be).selection.isEmpty()||this.insert(Ae,!0),(we.restoreStart||we.restoreEnd)&&((xe=(this||be).selection.getRange()).start.column-=we.restoreStart,xe.end.column-=we.restoreEnd,(this||be).selection.setRange(xe))},x.prototype.onCommandKey=function(Ae,we,xe){return(this||be).keyBinding.onCommandKey(Ae,we,xe)},x.prototype.setOverwrite=function(Ae){(this||be).session.setOverwrite(Ae)},x.prototype.getOverwrite=function(){return(this||be).session.getOverwrite()},x.prototype.toggleOverwrite=function(){(this||be).session.toggleOverwrite()},x.prototype.setScrollSpeed=function(be){this.setOption("scrollSpeed",be)},x.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},x.prototype.setDragDelay=function(be){this.setOption("dragDelay",be)},x.prototype.getDragDelay=function(){return this.getOption("dragDelay")},x.prototype.setSelectionStyle=function(be){this.setOption("selectionStyle",be)},x.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},x.prototype.setHighlightActiveLine=function(be){this.setOption("highlightActiveLine",be)},x.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},x.prototype.setHighlightGutterLine=function(be){this.setOption("highlightGutterLine",be)},x.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},x.prototype.setHighlightSelectedWord=function(be){this.setOption("highlightSelectedWord",be)},x.prototype.getHighlightSelectedWord=function(){return(this||be).$highlightSelectedWord},x.prototype.setAnimatedScroll=function(Ae){(this||be).renderer.setAnimatedScroll(Ae)},x.prototype.getAnimatedScroll=function(){return(this||be).renderer.getAnimatedScroll()},x.prototype.setShowInvisibles=function(Ae){(this||be).renderer.setShowInvisibles(Ae)},x.prototype.getShowInvisibles=function(){return(this||be).renderer.getShowInvisibles()},x.prototype.setDisplayIndentGuides=function(Ae){(this||be).renderer.setDisplayIndentGuides(Ae)},x.prototype.getDisplayIndentGuides=function(){return(this||be).renderer.getDisplayIndentGuides()},x.prototype.setHighlightIndentGuides=function(Ae){(this||be).renderer.setHighlightIndentGuides(Ae)},x.prototype.getHighlightIndentGuides=function(){return(this||be).renderer.getHighlightIndentGuides()},x.prototype.setShowPrintMargin=function(Ae){(this||be).renderer.setShowPrintMargin(Ae)},x.prototype.getShowPrintMargin=function(){return(this||be).renderer.getShowPrintMargin()},x.prototype.setPrintMarginColumn=function(Ae){(this||be).renderer.setPrintMarginColumn(Ae)},x.prototype.getPrintMarginColumn=function(){return(this||be).renderer.getPrintMarginColumn()},x.prototype.setReadOnly=function(be){this.setOption("readOnly",be)},x.prototype.getReadOnly=function(){return this.getOption("readOnly")},x.prototype.setBehavioursEnabled=function(be){this.setOption("behavioursEnabled",be)},x.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},x.prototype.setWrapBehavioursEnabled=function(be){this.setOption("wrapBehavioursEnabled",be)},x.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},x.prototype.setShowFoldWidgets=function(be){this.setOption("showFoldWidgets",be)},x.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},x.prototype.setFadeFoldWidgets=function(be){this.setOption("fadeFoldWidgets",be)},x.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},x.prototype.remove=function(Ae){(this||be).selection.isEmpty()&&("left"==Ae?(this||be).selection.selectLeft():(this||be).selection.selectRight());var we,xe,Se;Ae=this.getSelectionRange();this.getBehavioursEnabled()&&(xe=(we=(this||be).session).getState(Ae.start.row),xe=we.getMode().transformAction(xe,"deletion",this||be,we,Ae),0===Ae.end.column&&"\n"==(Se=we.getTextRange(Ae))[Se.length-1]&&(Se=we.getLine(Ae.end.row),/^\s+$/.test(Se))&&(Ae.end.column=Se.length),xe)&&(Ae=xe),(this||be).session.remove(Ae),this.clearSelection()},x.prototype.removeWordRight=function(){(this||be).selection.isEmpty()&&(this||be).selection.selectWordRight(),(this||be).session.remove(this.getSelectionRange()),this.clearSelection()},x.prototype.removeWordLeft=function(){(this||be).selection.isEmpty()&&(this||be).selection.selectWordLeft(),(this||be).session.remove(this.getSelectionRange()),this.clearSelection()},x.prototype.removeToLineStart=function(){(this||be).selection.isEmpty()&&(this||be).selection.selectLineStart(),(this||be).selection.isEmpty()&&(this||be).selection.selectLeft(),(this||be).session.remove(this.getSelectionRange()),this.clearSelection()},x.prototype.removeToLineEnd=function(){(this||be).selection.isEmpty()&&(this||be).selection.selectLineEnd();var Ae=this.getSelectionRange();Ae.start.column==Ae.end.column&&Ae.start.row==Ae.end.row&&(Ae.end.column=0,Ae.end.row++),(this||be).session.remove(Ae),this.clearSelection()},x.prototype.splitLine=function(){(this||be).selection.isEmpty()||((this||be).session.remove(this.getSelectionRange()),this.clearSelection());var Ae=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(Ae)},x.prototype.setGhostText=function(Ae,we){(this||be).session.widgetManager||((this||be).session.widgetManager=new Ve((this||be).session),(this||be).session.widgetManager.attach(this||be)),(this||be).renderer.setGhostText(Ae,we)},x.prototype.removeGhostText=function(){(this||be).session.widgetManager&&(this||be).renderer.removeGhostText()},x.prototype.transposeLetters=function(){var Ae,we,xe,Se;(this||be).selection.isEmpty()&&0!==(we=(Ae=this.getCursorPosition()).column)&&(Se=we<(Se=(this||be).session.getLine(Ae.row)).length?(xe=Se.charAt(we)+Se.charAt(we-1),new We(Ae.row,we-1,Ae.row,we+1)):(xe=Se.charAt(we-1)+Se.charAt(we-2),new We(Ae.row,we-2,Ae.row,we)),(this||be).session.replace(Se,xe),(this||be).session.selection.moveToPosition(Se.end))},x.prototype.toLowerCase=function(){var Ae=this.getSelectionRange(),we=((this||be).selection.isEmpty()&&(this||be).selection.selectWord(),this.getSelectionRange()),xe=(this||be).session.getTextRange(we);(this||be).session.replace(we,xe.toLowerCase()),(this||be).selection.setSelectionRange(Ae)},x.prototype.toUpperCase=function(){var Ae=this.getSelectionRange(),we=((this||be).selection.isEmpty()&&(this||be).selection.selectWord(),this.getSelectionRange()),xe=(this||be).session.getTextRange(we);(this||be).session.replace(we,xe.toUpperCase()),(this||be).selection.setSelectionRange(Ae)},x.prototype.indent=function(){var Ae=(this||be).session,we=this.getSelectionRange();if(!(we.start.row<we.end.row)){if(we.start.column<we.end.column){var xe,Se=Ae.getTextRange(we);if(!/^\s+$/.test(Se))return xe=this.$getSelectedRows(),void Ae.indentRows(xe.first,xe.last,"\t")}var ke=Ae.getLine(we.start.row),Te=(Se=we.start,Ae.getTabSize());Se=Ae.documentToScreenColumn(Se.row,Se.column);if((this||be).session.getUseSoftTabs())var Re=Te-Se%Te,_e=Ee.stringRepeat(" ",Re);else{for(Re=Se%Te;" "==ke[we.start.column-1]&&Re;)we.start.column--,Re--;(this||be).selection.setSelectionRange(we),_e="\t"}return this.insert(_e)}xe=this.$getSelectedRows(),Ae.indentRows(xe.first,xe.last,"\t")},x.prototype.blockIndent=function(){var Ae=this.$getSelectedRows();(this||be).session.indentRows(Ae.first,Ae.last,"\t")},x.prototype.blockOutdent=function(){var Ae=(this||be).session.getSelection();(this||be).session.outdentRows(Ae.getRange())},x.prototype.sortLines=function(){for(var Ae=this.$getSelectedRows(),we=(this||be).session,xe=[],Se=Ae.first;Se<=Ae.last;Se++)xe.push(we.getLine(Se));xe.sort((function(be,Ae){return be.toLowerCase()<Ae.toLowerCase()?-1:be.toLowerCase()>Ae.toLowerCase()?1:0}));var ke=new We(0,0,0,0);for(Se=Ae.first;Se<=Ae.last;Se++){var Te=we.getLine(Se);ke.start.row=Se,ke.end.row=Se,ke.end.column=Te.length,we.replace(ke,xe[Se-Ae.first])}},x.prototype.toggleCommentLines=function(){var Ae=(this||be).session.getState(this.getCursorPosition().row),we=this.$getSelectedRows();(this||be).session.getMode().toggleCommentLines(Ae,(this||be).session,we.first,we.last)},x.prototype.toggleBlockComment=function(){var Ae=this.getCursorPosition(),we=(this||be).session.getState(Ae.row),xe=this.getSelectionRange();(this||be).session.getMode().toggleBlockComment(we,(this||be).session,xe,Ae)},x.prototype.getNumberAt=function(Ae,we){for(var xe=/[\-]?[0-9]+(?:\.[0-9]+)?/g,Se=(xe.lastIndex=0,(this||be).session.getLine(Ae));xe.lastIndex<we;){var ke=xe.exec(Se);if(ke.index<=we&&ke.index+ke[0].length>=we)return{value:ke[0],start:ke.index,end:ke.index+ke[0].length}}return null},x.prototype.modifyNumber=function(Ae){var we,xe,Se,ke=(this||be).selection.getCursor().row,Te=(this||be).selection.getCursor().column,Ee=new We(ke,Te-1,ke,Te);Ee=(this||be).session.getTextRange(Ee);!isNaN(parseFloat(Ee))&&isFinite(Ee)?(Ee=this.getNumberAt(ke,Te))&&(Se=0<=Ee.value.indexOf(".")?Ee.start+Ee.value.indexOf(".")+1:Ee.end,we=Ee.start+Ee.value.length-Se,xe=parseFloat(Ee.value),xe*=Math.pow(10,we),Se!==Ee.end&&Te<Se?Ae*=Math.pow(10,Ee.end-Te-1):Ae*=Math.pow(10,Ee.end-Te),Se=(xe=(xe+=Ae)/Math.pow(10,we)).toFixed(we),Ae=new We(ke,Ee.start,ke,Ee.end),(this||be).session.replace(Ae,Se),this.moveCursorTo(ke,Math.max(Ee.start+1,Te+Se.length-Ee.value.length))):this.toggleWord()},x.prototype.toggleWord=function(){for(var Ae,we=(this||be).selection.getCursor().row,xe=(this||be).selection.getCursor().column,Se=((this||be).selection.selectWord(),this.getSelectedText()),ke=(this||be).selection.getWordRange().start.column,Te=Se.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Re=xe-ke-1,_e=(Re<0&&(Re=0),0),$e=this||be,Le=(Se.match(/[A-Za-z0-9_]+/)&&Te.forEach((function(be,xe){Ae=_e+be.length,_e<=Re&&Re<=Ae&&(Se=be,$e.selection.clearSelection(),$e.moveCursorTo(we,_e+ke),$e.selection.selectTo(we,Ae+ke)),_e=Ae})),(this||be).$toggleWordPairs),Ne=0;Ne<Le.length;Ne++)for(var Me=Le[Ne],Be=0;Be<=1;Be++){var We=+!Be,Pe=Se.match(new RegExp("^\\s?_?("+Ee.escapeRegExp(Me[Be])+")\\s?$","i"));Pe&&Se.match(new RegExp("([_]|^|\\s)("+Ee.escapeRegExp(Pe[1])+")($|\\s)","g"))&&(Pe=Se.replace(new RegExp(Ee.escapeRegExp(Me[Be]),"i"),(function(be){var Ae=Me[We];return be.toUpperCase()==be?Ae=Ae.toUpperCase():be.charAt(0).toUpperCase()==be.charAt(0)&&(Ae=Ae.substr(0,0)+Me[We].charAt(0).toUpperCase()+Ae.substr(1)),Ae})),this.insert(Pe))}},x.prototype.findLinkAt=function(Ae,we){Ae=(this||be).session.getLine(Ae).split(/((?:https?|ftp):\/\/[\S]+)/);var xe,ke,Te,Ee=we,Re=(Ee<0&&(Ee=0),0);try{for(var _e=Se(Ae),$e=_e.next();!$e.done;$e=_e.next()){var Le=$e.value,Ne=Re+Le.length;if(Re<=Ee&&Ee<=Ne&&Le.match(/((?:https?|ftp):\/\/[\S]+)/)){Te=Le.replace(/[\s:.,'";}\]]+$/,"");break}Re=Ne}}catch(Ae){xe={error:Ae}}finally{try{$e&&!$e.done&&(ke=_e.return)&&ke.call(_e)}finally{if(xe)throw xe.error}}return Te},x.prototype.openLink=function(){var Ae=(this||be).selection.getCursor();Ae=this.findLinkAt(Ae.row,Ae.column);return Ae&&window.open(Ae,"_blank"),null!=Ae},x.prototype.removeLines=function(){var Ae=this.$getSelectedRows();(this||be).session.removeFullLines(Ae.first,Ae.last),this.clearSelection()},x.prototype.duplicateSelection=function(){var Ae,we=(this||be).selection,xe=(this||be).session,Se=we.getRange(),ke=we.isBackwards();Se.isEmpty()?(Ae=Se.start.row,xe.duplicateLines(Ae,Ae)):(Ae=ke?Se.start:Se.end,xe=xe.insert(Ae,xe.getTextRange(Se)),Se.start=Ae,Se.end=xe,we.setSelectionRange(Se,ke))},x.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},x.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},x.prototype.moveText=function(Ae,we,xe){return(this||be).session.moveText(Ae,we,xe)},x.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},x.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},x.prototype.$moveLines=function(Ae,we){var xe=(this||be).selection;if(!xe.inMultiSelectMode||(this||be).inVirtualSelectionMode){var Se=xe.toOrientedRange(),ke=this.$getSelectedRows(Se),Te=(this||be).session.$moveLines(ke.first,ke.last,we?0:Ae);Se.moveBy(Te=we&&-1==Ae?0:Te,0),xe.fromOrientedRange(Se)}else{for(var Ee=xe.rangeList.ranges,Re=(xe.rangeList.detach((this||be).session),(this||be).inVirtualSelectionMode=!0,0),_e=0,$e=Ee.length,Le=0;Le<$e;Le++){for(var Ne=Le,Me=(Ee[Le].moveBy(Re,0),(ke=this.$getSelectedRows(Ee[Le])).first),Be=ke.last;++Le<$e;){_e&&Ee[Le].moveBy(_e,0);var We=this.$getSelectedRows(Ee[Le]);if(we&&We.first!=Be)break;if(!we&&We.first>Be+1)break;Be=We.last}for(Le--,Re=(this||be).session.$moveLines(Me,Be,we?0:Ae),we&&-1==Ae&&(Ne=Le+1);Ne<=Le;)Ee[Ne].moveBy(Re,0),Ne++;_e+=Re=we?Re:0}xe.fromOrientedRange(xe.ranges[0]),xe.rangeList.attach((this||be).session),(this||be).inVirtualSelectionMode=!1}},x.prototype.$getSelectedRows=function(Ae){return Ae=(Ae||this.getSelectionRange()).collapseRows(),{first:(this||be).session.getRowFoldStart(Ae.start.row),last:(this||be).session.getRowFoldEnd(Ae.end.row)}},x.prototype.onCompositionStart=function(Ae){(this||be).renderer.showComposition(Ae)},x.prototype.onCompositionUpdate=function(Ae){(this||be).renderer.setCompositionText(Ae)},x.prototype.onCompositionEnd=function(){(this||be).renderer.hideComposition()},x.prototype.getFirstVisibleRow=function(){return(this||be).renderer.getFirstVisibleRow()},x.prototype.getLastVisibleRow=function(){return(this||be).renderer.getLastVisibleRow()},x.prototype.isRowVisible=function(be){return be>=this.getFirstVisibleRow()&&be<=this.getLastVisibleRow()},x.prototype.isRowFullyVisible=function(Ae){return Ae>=(this||be).renderer.getFirstFullyVisibleRow()&&Ae<=(this||be).renderer.getLastFullyVisibleRow()},x.prototype.$getVisibleRowCount=function(){return(this||be).renderer.getScrollBottomRow()-(this||be).renderer.getScrollTopRow()+1},x.prototype.$moveByPage=function(Ae,we){var xe=(this||be).renderer,Se=(this||be).renderer.layerConfig,ke=Ae*Math.floor(Se.height/Se.lineHeight);Ae=(!0===we?(this||be).selection.$moveSelection((function(){this.moveCursorBy(ke,0)})):!1===we&&((this||be).selection.moveCursorBy(ke,0),(this||be).selection.clearSelection()),xe.scrollTop);xe.scrollBy(0,ke*Se.lineHeight),null!=we&&xe.scrollCursorIntoView(null,.5),xe.animateScrolling(Ae)},x.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},x.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},x.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},x.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},x.prototype.scrollPageDown=function(){this.$moveByPage(1)},x.prototype.scrollPageUp=function(){this.$moveByPage(-1)},x.prototype.scrollToRow=function(Ae){(this||be).renderer.scrollToRow(Ae)},x.prototype.scrollToLine=function(Ae,we,xe,Se){(this||be).renderer.scrollToLine(Ae,we,xe,Se)},x.prototype.centerSelection=function(){var Ae=this.getSelectionRange();Ae={row:Math.floor(Ae.start.row+(Ae.end.row-Ae.start.row)/2),column:Math.floor(Ae.start.column+(Ae.end.column-Ae.start.column)/2)};(this||be).renderer.alignCursor(Ae,.5)},x.prototype.getCursorPosition=function(){return(this||be).selection.getCursor()},x.prototype.getCursorPositionScreen=function(){return(this||be).session.documentToScreenPosition(this.getCursorPosition())},x.prototype.getSelectionRange=function(){return(this||be).selection.getRange()},x.prototype.selectAll=function(){(this||be).selection.selectAll()},x.prototype.clearSelection=function(){(this||be).selection.clearSelection()},x.prototype.moveCursorTo=function(Ae,we){(this||be).selection.moveCursorTo(Ae,we)},x.prototype.moveCursorToPosition=function(Ae){(this||be).selection.moveCursorToPosition(Ae)},x.prototype.jumpToMatching=function(Ae,we){var xe=this.getCursorPosition(),Se=new Oe((this||be).session,xe.row,xe.column),ke=Se.getCurrentToken(),Te=0,Ee=(ke=ke&&-1!==ke.type.indexOf("tag-name")?Se.stepBackward():ke)||Se.stepForward();if(Ee){var Re,_e,$e=!1,Le={},Ne=xe.column-Ee.start,Me={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Ee.value.match(/[{}()\[\]]/g)){for(;Ne<Ee.value.length&&!$e;Ne++)if(Me[Ee.value[Ne]])switch(_e=Me[Ee.value[Ne]]+"."+Ee.type.replace("rparen","lparen"),isNaN(Le[_e])&&(Le[_e]=0),Ee.value[Ne]){case"(":case"[":case"{":Le[_e]++;break;case")":case"]":case"}":Le[_e]--,-1===Le[_e]&&(Re="bracket",$e=!0)}}else-1!==Ee.type.indexOf("tag-name")&&(isNaN(Le[Ee.value])&&(Le[Ee.value]=0),"<"===ke.value&&1<Te?Le[Ee.value]++:"</"===ke.value&&Le[Ee.value]--,-1===Le[Ee.value])&&(Re="tag",$e=!0)}while($e||(ke=Ee,Te++,Ee=Se.stepForward(),Ne=0),Ee&&!$e);if(Re){if("bracket"===Re)!(Pe=(this||be).session.getBracketRange(xe))&&(He=(Pe=new We(Se.getCurrentTokenRow(),Se.getCurrentTokenColumn()+Ne-1,Se.getCurrentTokenRow(),Se.getCurrentTokenColumn()+Ne-1)).start,we||He.row===xe.row&&Math.abs(He.column-xe.column)<2)&&(Pe=(this||be).session.getBracketRange(He));else if("tag"===Re){if(!Ee||-1===Ee.type.indexOf("tag-name"))return;var Be,Pe,He=(He=0===(Pe=new We(Se.getCurrentTokenRow(),Se.getCurrentTokenColumn()-2,Se.getCurrentTokenRow(),Se.getCurrentTokenColumn()-2)).compare(xe.row,xe.column)&&(Be=(this||be).session.getMatchingTags(xe))?Be.openTag.contains(xe.row,xe.column)?(Pe=Be.closeTag).start:(Pe=Be.openTag,Be.closeTag.start.row===xe.row&&Be.closeTag.start.column===xe.column?Pe.end:Pe.start):He)||Pe.start}(He=Pe&&Pe.cursor||He)&&(Ae?Pe&&we?(this||be).selection.setRange(Pe):Pe&&Pe.isEqual(this.getSelectionRange())?this.clearSelection():(this||be).selection.selectTo(He.row,He.column):(this||be).selection.moveTo(He.row,He.column))}}},x.prototype.gotoLine=function(Ae,we,xe){(this||be).selection.clearSelection(),(this||be).session.unfold({row:Ae-1,column:we||0}),(this||be).exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(Ae-1,we||0),this.isRowFullyVisible(Ae-1)||this.scrollToLine(Ae-1,!0,xe)},x.prototype.navigateTo=function(Ae,we){(this||be).selection.moveTo(Ae,we)},x.prototype.navigateUp=function(Ae){var we;if((this||be).selection.isMultiLine()&&!(this||be).selection.isBackwards())return we=(this||be).selection.anchor.getPosition(),this.moveCursorToPosition(we);(this||be).selection.clearSelection(),(this||be).selection.moveCursorBy(-Ae||-1,0)},x.prototype.navigateDown=function(Ae){var we;if((this||be).selection.isMultiLine()&&(this||be).selection.isBackwards())return we=(this||be).selection.anchor.getPosition(),this.moveCursorToPosition(we);(this||be).selection.clearSelection(),(this||be).selection.moveCursorBy(Ae||1,0)},x.prototype.navigateLeft=function(Ae){if((this||be).selection.isEmpty())for(Ae=Ae||1;Ae--;)(this||be).selection.moveCursorLeft();else{var we=this.getSelectionRange().start;this.moveCursorToPosition(we)}this.clearSelection()},x.prototype.navigateRight=function(Ae){if((this||be).selection.isEmpty())for(Ae=Ae||1;Ae--;)(this||be).selection.moveCursorRight();else{var we=this.getSelectionRange().end;this.moveCursorToPosition(we)}this.clearSelection()},x.prototype.navigateLineStart=function(){(this||be).selection.moveCursorLineStart(),this.clearSelection()},x.prototype.navigateLineEnd=function(){(this||be).selection.moveCursorLineEnd(),this.clearSelection()},x.prototype.navigateFileEnd=function(){(this||be).selection.moveCursorFileEnd(),this.clearSelection()},x.prototype.navigateFileStart=function(){(this||be).selection.moveCursorFileStart(),this.clearSelection()},x.prototype.navigateWordRight=function(){(this||be).selection.moveCursorWordRight(),this.clearSelection()},x.prototype.navigateWordLeft=function(){(this||be).selection.moveCursorWordLeft(),this.clearSelection()},x.prototype.replace=function(Ae,we){we&&(this||be).$search.set(we);we=(this||be).$search.find((this||be).session);var xe=0;return we&&(this.$tryReplace(we,Ae)&&(xe=1),(this||be).selection.setSelectionRange(we),(this||be).renderer.scrollSelectionIntoView(we.start,we.end)),xe},x.prototype.replaceAll=function(Ae,we){we&&(this||be).$search.set(we);var xe=(this||be).$search.findAll((this||be).session),Se=0;if(xe.length){we=this.getSelectionRange();(this||be).selection.moveTo(0,0);for(var ke=xe.length-1;0<=ke;--ke)this.$tryReplace(xe[ke],Ae)&&Se++;(this||be).selection.setSelectionRange(we)}return Se},x.prototype.$tryReplace=function(Ae,we){var xe=(this||be).session.getTextRange(Ae);return null!==(we=(this||be).$search.replace(xe,we))?(Ae.end=(this||be).session.replace(Ae,we),Ae):null},x.prototype.getLastSearchOptions=function(){return(this||be).$search.getOptions()},x.prototype.find=function(Ae,we,xe){we=we||{},"string"==typeof Ae||Ae instanceof RegExp?we.needle=Ae:"object"==typeof Ae&&ke.mixin(we,Ae);var Se=(this||be).selection.getRange();Ae=(null==we.needle&&((Ae=(this||be).session.getTextRange(Se)||(this||be).$search.$options.needle)||(Se=(this||be).session.getWordRange(Se.start.row,Se.start.column),Ae=(this||be).session.getTextRange(Se)),(this||be).$search.set({needle:Ae})),(this||be).$search.set(we),we.start||(this||be).$search.set({start:Se}),(this||be).$search.find((this||be).session));return we.preventScroll?Ae:Ae?(this.revealRange(Ae,xe),Ae):(we.backwards?Se.start=Se.end:Se.end=Se.start,void(this||be).selection.setRange(Se))},x.prototype.findNext=function(be,Ae){this.find({skipCurrent:!0,backwards:!1},be,Ae)},x.prototype.findPrevious=function(be,Ae){this.find(be,{skipCurrent:!0,backwards:!0},Ae)},x.prototype.revealRange=function(Ae,we){(this||be).session.unfold(Ae),(this||be).selection.setSelectionRange(Ae);var xe=(this||be).renderer.scrollTop;(this||be).renderer.scrollSelectionIntoView(Ae.start,Ae.end,.5),!1!==we&&(this||be).renderer.animateScrolling(xe)},x.prototype.undo=function(){(this||be).session.getUndoManager().undo((this||be).session),(this||be).renderer.scrollCursorIntoView(null,.5)},x.prototype.redo=function(){(this||be).session.getUndoManager().redo((this||be).session),(this||be).renderer.scrollCursorIntoView(null,.5)},x.prototype.destroy=function(){(this||be).$toDestroy&&((this||be).$toDestroy.forEach((function(be){be.destroy()})),(this||be).$toDestroy=null),(this||be).$mouseHandler&&(this||be).$mouseHandler.destroy(),(this||be).renderer.destroy(),this._signal("destroy",this||be),(this||be).session&&(this||be).session.destroy(),(this||be)._$emitInputEvent&&(this||be)._$emitInputEvent.cancel(),this.removeAllListeners()},x.prototype.setAutoScrollEditorIntoView=function(Ae){var we,xe,Se,ke,Te,Ee,Re;Ae&&(Se=!1,(xe=this||be).$scrollAnchor||((this||be).$scrollAnchor=document.createElement("div")),(ke=(this||be).$scrollAnchor).style.cssText="position:absolute",(this||be).container.insertBefore(ke,(this||be).container.firstChild),Te=this.on("changeSelection",(function(){Se=!0})),Ee=(this||be).renderer.on("beforeRender",(function(){Se&&(we=xe.renderer.container.getBoundingClientRect())})),Re=(this||be).renderer.on("afterRender",(function(){var be,Ae,Te;Se&&we&&(xe.isFocused()||xe.searchBox&&xe.searchBox.isFocused())&&(be=(Ae=xe.renderer).$cursorLayer.$pixelPos,Ae=Ae.layerConfig,Te=be.top-Ae.offset,null!=(Se=0<=be.top&&Te+we.top<0||!(be.top<Ae.height&&be.top+we.top+Ae.lineHeight>window.innerHeight)&&null)&&(ke.style.top=Te+"px",ke.style.left=be.left+"px",ke.style.height=Ae.lineHeight+"px",ke.scrollIntoView(Se)),Se=we=null)})),(this||be).setAutoScrollEditorIntoView=function(Ae){Ae||(delete(this||be).setAutoScrollEditorIntoView,this.off("changeSelection",Te),(this||be).renderer.off("afterRender",Re),(this||be).renderer.off("beforeRender",Ee))})},x.prototype.$resetCursorStyle=function(){var Ae=(this||be).$cursorStyle||"ace",we=(this||be).renderer.$cursorLayer;we&&(we.setSmoothBlinking(/smooth/.test(Ae)),we.isBlinking=!(this||be).$readOnly&&"wide"!=Ae,Te.setCssClass(we.element,"ace_slim-cursors",/slim/.test(Ae)))},x.prototype.prompt=function(Ae,we,xe){var Se=this||be;Fe.loadModule("ace/ext/prompt",(function(be){be.prompt(Se,Ae,we,xe)}))},x);function x(Ae,we,xe){(this||be).session,(this||be).$toDestroy=[];var Se=Ae.getContainerElement();(this||be).container=Se,(this||be).renderer=Ae,(this||be).id="editor"+ ++x.$uid,(this||be).commands=new He(Re.isMac?"mac":"win",Ge),"object"==typeof document&&((this||be).textInput=new _e(Ae.getTextAreaContainer(),this||be),(this||be).renderer.textarea=(this||be).textInput.getElement(),(this||be).$mouseHandler=new $e(this||be),new Le(this||be)),(this||be).keyBinding=new Ne(this||be),(this||be).$search=(new Be).set({wrap:!0}),(this||be).$historyTracker=(this||be).$historyTracker.bind(this||be),(this||be).commands.on("exec",(this||be).$historyTracker),this.$initOperationListeners(),(this||be)._$emitInputEvent=Ee.delayedCall(function(){this._signal("input",{}),(this||be).session&&!(this||be).session.destroyed&&(this||be).session.bgTokenizer.scheduleStart()}.bind(this||be)),this.on("change",(function(be,Ae){Ae._$emitInputEvent.schedule(31)})),this.setSession(we||xe&&xe.session||new Me("")),Fe.resetOptions(this||be),xe&&this.setOptions(xe),Fe._signal("editor",this||be)}Ae.$uid=0,Ae.prototype.curOp=null,Ae.prototype.prevOp={},Ae.prototype.$mergeableCommands=["backspace","del","insertstring"],Ae.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],ke.implement(Ae.prototype,Pe),Fe.defineOptions(Ae.prototype,"editor",{selectionStyle:{set:function(be){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:be})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(be){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(Ae){(this||be).textInput.setReadOnly(Ae),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(Ae){(this||be).textInput.setCopyWithEmptySelection(Ae)},initialValue:!1},cursorStyle:{set:function(be){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(be){this.setAutoScrollEditorIntoView(be)}},keyboardHandler:{set:function(be){this.setKeyboardHandler(be)},get:function(){return(this||be).$keybindingId},handlesSet:!0},value:{set:function(Ae){(this||be).session.setValue(Ae)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(be){this.setSession(be)},get:function(){return(this||be).session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(Ae){(this||be).renderer.$gutterLayer.setShowLineNumbers(Ae),(this||be).renderer.$loop.schedule((this||be).renderer.CHANGE_GUTTER),Ae&&(this||be).$relativeLineNumbers?ze.attach(this||be):ze.detach(this||be)},initialValue:!0},relativeLineNumbers:{set:function(Ae){(this||be).$showLineNumbers&&Ae?ze.attach(this||be):ze.detach(this||be)}},placeholder:{set:function(Ae){(this||be).$updatePlaceholder||((this||be).$updatePlaceholder=function(){var Ae=(this||be).session&&((this||be).renderer.$composition||1<(this||be).session.getLength()||0<(this||be).session.getLine(0).length);Ae&&(this||be).renderer.placeholderNode?((this||be).renderer.off("afterRender",(this||be).$updatePlaceholder),Te.removeCssClass((this||be).container,"ace_hasPlaceholder"),(this||be).renderer.placeholderNode.remove(),(this||be).renderer.placeholderNode=null):Ae||(this||be).renderer.placeholderNode?!Ae&&(this||be).renderer.placeholderNode&&((this||be).renderer.placeholderNode.textContent=(this||be).$placeholder||""):((this||be).renderer.on("afterRender",(this||be).$updatePlaceholder),Te.addCssClass((this||be).container,"ace_hasPlaceholder"),(Ae=Te.createElement("div")).className="ace_placeholder",Ae.textContent=(this||be).$placeholder||"",(this||be).renderer.placeholderNode=Ae,(this||be).renderer.content.appendChild((this||be).renderer.placeholderNode))}.bind(this||be),this.on("input",(this||be).$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(Ae){function t(Ae){Ae.target==(this||be).renderer.scroller&&Ae.keyCode===Ke.enter&&(Ae.preventDefault(),Ae=this.getCursorPosition().row,this.isRowVisible(Ae)||this.scrollToLine(Ae,!0,!0),this.focus())}var we,xe={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(be){be.blur(),be.renderer.scroller.focus()},readOnly:!0};Ae?((this||be).renderer.enableKeyboardAccessibility=!0,(this||be).renderer.keyboardFocusClassName="ace_keyboard-focus",(this||be).textInput.getElement().setAttribute("tabindex",-1),(this||be).textInput.setNumberOfExtraLines(Re.isWin?3:0),(this||be).renderer.scroller.setAttribute("tabindex",0),(this||be).renderer.scroller.setAttribute("role","group"),(this||be).renderer.scroller.setAttribute("aria-roledescription",De("editor.scroller.aria-roledescription","editor")),(this||be).renderer.scroller.classList.add((this||be).renderer.keyboardFocusClassName),(this||be).renderer.scroller.setAttribute("aria-label",De("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),(this||be).renderer.scroller.addEventListener("keyup",t.bind(this||be)),(this||be).commands.addCommand(xe),(this||be).renderer.$gutter.setAttribute("tabindex",0),(this||be).renderer.$gutter.setAttribute("aria-hidden",!1),(this||be).renderer.$gutter.setAttribute("role","group"),(this||be).renderer.$gutter.setAttribute("aria-roledescription",De("editor.gutter.aria-roledescription","editor")),(this||be).renderer.$gutter.setAttribute("aria-label",De("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),(this||be).renderer.$gutter.classList.add((this||be).renderer.keyboardFocusClassName),(this||be).renderer.content.setAttribute("aria-hidden",!0),(we=we||new Ze(this||be)).addListener()):((this||be).renderer.enableKeyboardAccessibility=!1,(this||be).textInput.getElement().setAttribute("tabindex",0),(this||be).textInput.setNumberOfExtraLines(0),(this||be).renderer.scroller.setAttribute("tabindex",-1),(this||be).renderer.scroller.removeAttribute("role"),(this||be).renderer.scroller.removeAttribute("aria-roledescription"),(this||be).renderer.scroller.classList.remove((this||be).renderer.keyboardFocusClassName),(this||be).renderer.scroller.removeAttribute("aria-label"),(this||be).renderer.scroller.removeEventListener("keyup",t.bind(this||be)),(this||be).commands.removeCommand(xe),(this||be).renderer.content.removeAttribute("aria-hidden"),(this||be).renderer.$gutter.setAttribute("tabindex",-1),(this||be).renderer.$gutter.setAttribute("aria-hidden",!0),(this||be).renderer.$gutter.removeAttribute("role"),(this||be).renderer.$gutter.removeAttribute("aria-roledescription"),(this||be).renderer.$gutter.removeAttribute("aria-label"),(this||be).renderer.$gutter.classList.remove((this||be).renderer.keyboardFocusClassName),we&&we.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var ze={getText:function(be,Ae){return(Math.abs(be.selection.lead.row-Ae)||Ae+1+(Ae<9?"·":""))+""},getWidth:function(be,Ae,we){return Math.max(Ae.toString().length,(we.lastRow+1).toString().length,2)*we.characterWidth},update:function(be,Ae){Ae.renderer.$loop.schedule(Ae.renderer.CHANGE_GUTTER)},attach:function(Ae){Ae.renderer.$gutterLayer.$renderer=this||be,Ae.on("changeSelection",(this||be).update),this.update(null,Ae)},detach:function(Ae){Ae.renderer.$gutterLayer.$renderer==(this||be)&&(Ae.renderer.$gutterLayer.$renderer=null),Ae.off("changeSelection",(this||be).update),this.update(null,Ae)}};we.Editor=Ae})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(Ae,we,xe){var Se=Ae("../lib/dom");function i(Ae,we){(this||be).element=Ae,(this||be).canvasHeight=we||5e5,(this||be).element.style.height=2*(this||be).canvasHeight+"px",(this||be).cells=[],(this||be).cellCache=[],(this||be).$offsetCoefficient=0}i.prototype.moveContainer=function(Ae){Se.translate((this||be).element,0,-Ae.firstRowScreen*Ae.lineHeight%(this||be).canvasHeight-Ae.offset*(this||be).$offsetCoefficient)},i.prototype.pageChanged=function(Ae,we){return Math.floor(Ae.firstRowScreen*Ae.lineHeight/(this||be).canvasHeight)!==Math.floor(we.firstRowScreen*we.lineHeight/(this||be).canvasHeight)},i.prototype.computeLineTop=function(Ae,we,xe){var Se=we.firstRowScreen*we.lineHeight;Se=Math.floor(Se/(this||be).canvasHeight);return xe.documentToScreenRow(Ae,0)*we.lineHeight-Se*(this||be).canvasHeight},i.prototype.computeLineHeight=function(be,Ae,we){return Ae.lineHeight*we.getRowLineCount(be)},i.prototype.getLength=function(){return(this||be).cells.length},i.prototype.get=function(Ae){return(this||be).cells[Ae]},i.prototype.shift=function(){this.$cacheCell((this||be).cells.shift())},i.prototype.pop=function(){this.$cacheCell((this||be).cells.pop())},i.prototype.push=function(Ae){if(Array.isArray(Ae)){(this||be).cells.push.apply((this||be).cells,Ae);for(var we=Se.createFragment((this||be).element),xe=0;xe<Ae.length;xe++)we.appendChild(Ae[xe].element);(this||be).element.appendChild(we)}else(this||be).cells.push(Ae),(this||be).element.appendChild(Ae.element)},i.prototype.unshift=function(Ae){if(Array.isArray(Ae)){(this||be).cells.unshift.apply((this||be).cells,Ae);for(var we=Se.createFragment((this||be).element),xe=0;xe<Ae.length;xe++)we.appendChild(Ae[xe].element);(this||be).element.firstChild?(this||be).element.insertBefore(we,(this||be).element.firstChild):(this||be).element.appendChild(we)}else(this||be).cells.unshift(Ae),(this||be).element.insertAdjacentElement("afterbegin",Ae.element)},i.prototype.last=function(){return(this||be).cells.length?(this||be).cells[(this||be).cells.length-1]:null},i.prototype.$cacheCell=function(Ae){Ae&&(Ae.element.remove(),(this||be).cellCache.push(Ae))},i.prototype.createCell=function(Ae,we,xe,ke){var Te,Ee=(this||be).cellCache.pop();return Ee||(Te=Se.createElement("div"),ke&&ke(Te),(this||be).element.appendChild(Te),Ee={element:Te,text:"",row:Ae}),Ee.row=Ae,Ee},we.Lines=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(Ae,we,xe){var Se=Ae("../lib/dom"),ke=Ae("../lib/oop"),Te=Ae("../lib/lang"),Ee=Ae("../lib/event_emitter").EventEmitter,Re=Ae("./lines").Lines,_e=Ae("../config").nls;Ae=(a.prototype.setSession=function(Ae){(this||be).session&&(this||be).session.off("change",(this||be).$updateAnnotations),((this||be).session=Ae)&&Ae.on("change",(this||be).$updateAnnotations)},a.prototype.addGutterDecoration=function(Ae,we){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),(this||be).session.addGutterDecoration(Ae,we)},a.prototype.removeGutterDecoration=function(Ae,we){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),(this||be).session.removeGutterDecoration(Ae,we)},a.prototype.setAnnotations=function(Ae){(this||be).$annotations=[];for(var we=0;we<Ae.length;we++){var xe=Ae[we],Se=xe.row,ke=(ke=(this||be).$annotations[Se])||((this||be).$annotations[Se]={text:[],type:[]}),Ee=(Se=xe.text,xe.type);Se=Se?Te.escapeHTML(Se):xe.html||"",Se=(-1===ke.text.indexOf(Se)&&(ke.text.push(Se),ke.type.push(Ee)),xe.className);Se?ke.className=Se:"error"==Ee?ke.className=" ace_error":"warning"==Ee&&" ace_error"!=ke.className?ke.className=" ace_warning":"info"!=Ee||ke.className||(ke.className=" ace_info")}},a.prototype.$updateAnnotations=function(Ae){var we,xe;(this||be).$annotations.length&&(we=Ae.start.row,0!=(xe=Ae.end.row-we))&&("remove"==Ae.action?(this||be).$annotations.splice(we,1+xe,null):((Ae=new Array(1+xe)).unshift(we,1),(this||be).$annotations.splice.apply((this||be).$annotations,Ae)))},a.prototype.update=function(Ae){(this||be).config=Ae;for(var we=(this||be).session,xe=Ae.firstRow,Se=Math.min(Ae.lastRow+Ae.gutterOffset,we.getLength()-1),ke=((this||be).oldLastRow=Se,(this||be).config=Ae,(this||be).$lines.moveContainer(Ae),this.$updateCursorRow(),we.getNextFoldLine(xe)),Te=ke?ke.start.row:1/0,Ee=null,Re=-1,_e=xe;;){if(Te<_e&&(_e=ke.end.row+1,Te=(ke=we.getNextFoldLine(_e,ke))?ke.start.row:1/0),Se<_e){for(;(this||be).$lines.getLength()>Re+1;)(this||be).$lines.pop();break}(Ee=(this||be).$lines.get(++Re))?Ee.row=_e:(Ee=(this||be).$lines.createCell(_e,Ae,(this||be).session,c),(this||be).$lines.push(Ee)),this.$renderCell(Ee,Ae,ke,_e),_e++}this._signal("afterRender"),this.$updateGutterWidth(Ae)},a.prototype.$updateGutterWidth=function(Ae){var we=(this||be).session,xe=we.gutterRenderer||(this||be).$renderer,Se=we.$firstLineNumber,ke=(this||be).$lines.last()?(this||be).$lines.last().text:"";Se=(((this||be).$fixedWidth||we.$useWrapMode)&&(ke=we.getLength()+Se-1),xe?xe.getWidth(we,ke,Ae):ke.toString().length*Ae.characterWidth),xe=(this||be).$padding||this.$computePadding();(Se+=xe.left+xe.right)===(this||be).gutterWidth||isNaN(Se)||((this||be).gutterWidth=Se,(this||be).element.parentNode.style.width=(this||be).element.style.width=Math.ceil((this||be).gutterWidth)+"px",this._signal("changeGutterWidth",Se))},a.prototype.$updateCursorRow=function(){var Ae;(this||be).$highlightGutterLine&&(Ae=(this||be).session.selection.getCursor(),(this||be).$cursorRow!==Ae.row)&&((this||be).$cursorRow=Ae.row)},a.prototype.updateLineHighlight=function(){if((this||be).$highlightGutterLine){var Ae=(this||be).session.selection.cursor.row;if((this||be).$cursorRow=Ae,!(this||be).$cursorCell||(this||be).$cursorCell.row!=Ae){(this||be).$cursorCell&&((this||be).$cursorCell.element.className=(this||be).$cursorCell.element.className.replace("ace_gutter-active-line ",""));var we=(this||be).$lines.cells;(this||be).$cursorCell=null;for(var xe=0;xe<we.length;xe++){var Se=we[xe];if(Se.row>=(this||be).$cursorRow){if(Se.row>(this||be).$cursorRow){var ke=(this||be).session.getFoldLine((this||be).$cursorRow);if(!(0<xe&&ke&&ke.start.row==we[xe-1].row))break;Se=we[xe-1]}Se.element.className="ace_gutter-active-line "+Se.element.className,(this||be).$cursorCell=Se;break}}}}},a.prototype.scrollLines=function(Ae){var we=(this||be).config;if((this||be).config=Ae,this.$updateCursorRow(),(this||be).$lines.pageChanged(we,Ae))return this.update(Ae);(this||be).$lines.moveContainer(Ae);var xe=Math.min(Ae.lastRow+Ae.gutterOffset,(this||be).session.getLength()-1),Se=(this||be).oldLastRow;if((this||be).oldLastRow=xe,!we||Se<Ae.firstRow)return this.update(Ae);if(xe<we.firstRow)return this.update(Ae);if(we.firstRow<Ae.firstRow)for(var ke=(this||be).session.getFoldedRowCount(we.firstRow,Ae.firstRow-1);0<ke;ke--)(this||be).$lines.shift();if(xe<Se)for(ke=(this||be).session.getFoldedRowCount(xe+1,Se);0<ke;ke--)(this||be).$lines.pop();Ae.firstRow<we.firstRow&&(this||be).$lines.unshift(this.$renderLines(Ae,Ae.firstRow,we.firstRow-1)),Se<xe&&(this||be).$lines.push(this.$renderLines(Ae,Se+1,xe)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(Ae)},a.prototype.$renderLines=function(Ae,we,xe){for(var Se=[],ke=we,Te=(this||be).session.getNextFoldLine(ke),Ee=Te?Te.start.row:1/0;Ee<ke&&(ke=Te.end.row+1,Ee=(Te=(this||be).session.getNextFoldLine(ke,Te))?Te.start.row:1/0),!(xe<ke);){var Re=(this||be).$lines.createCell(ke,Ae,(this||be).session,c);this.$renderCell(Re,Ae,Te,ke),Se.push(Re),ke++}return Se},a.prototype.$renderCell=function(Ae,we,xe,ke){var Te,Ee,Re=Ae.element,$e=(this||be).session,Le=Re.childNodes[0],Ne=Re.childNodes[1],Me=Re.childNodes[2],Be=Me.firstChild,We=$e.$firstLineNumber,Pe=$e.$breakpoints,He=$e.$decorations,Ge=$e.gutterRenderer||(this||be).$renderer,Fe=(this||be).$showFoldWidgets&&$e.foldWidgets,Oe=xe?xe.start.row:Number.MAX_VALUE,Ve=we.lineHeight+"px",Ze=(this||be).$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",De=(this||be).$useSvgGutterIcons?"ace_icon_svg":"ace_icon",je=(Ge?Ge.getText($e,ke):ke+We).toString();if((this||be).$highlightGutterLine&&(ke==(this||be).$cursorRow||xe&&ke<(this||be).$cursorRow&&Oe<=ke&&(this||be).$cursorRow<=xe.end.row)&&(Ze+="ace_gutter-active-line ",(this||be).$cursorCell!=Ae)&&((this||be).$cursorCell&&((this||be).$cursorCell.element.className=(this||be).$cursorCell.element.className.replace("ace_gutter-active-line ","")),(this||be).$cursorCell=Ae),Pe[ke]&&(Ze+=Pe[ke]),He[ke]&&(Ze+=He[ke]),(this||be).$annotations[ke]&&ke!==Oe&&(Ze+=(this||be).$annotations[ke].className),Te=Fe&&null==(Te=Fe[ke])?Fe[ke]=$e.getFoldWidget(ke):Te){Ge="ace_fold-widget ace_"+Te,We="start"==Te&&ke==Oe&&ke<xe.end.row;if(We){Ge+=" ace_closed";for(var Ke="",ze=!1,Xe=ke+1;Xe<=xe.end.row;Xe++)if((this||be).$annotations[Xe]){if(" ace_error"===(this||be).$annotations[Xe].className){ze=!0,Ke=" ace_error_fold";break}" ace_warning"===(this||be).$annotations[Xe].className&&(ze=!0,Ke=" ace_warning_fold")}Ze+=Ke}else Ge+=" ace_open";Ne.className!=Ge&&(Ne.className=Ge),Se.setStyle(Ne.style,"height",Ve),Se.setStyle(Ne.style,"display","inline-block"),Ne.setAttribute("role","button"),Ne.setAttribute("tabindex","-1");Pe=$e.getFoldWidgetRange(ke);Pe?Ne.setAttribute("aria-label",_e("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[Pe.start.row+1,Pe.end.row+1])):xe?Ne.setAttribute("aria-label",_e("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[xe.start.row+1,xe.end.row+1])):Ne.setAttribute("aria-label",_e("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[ke+1])),We?(Ne.setAttribute("aria-expanded","false"),Ne.setAttribute("title",_e("gutter.code-folding.closed.title","Unfold code"))):(Ne.setAttribute("aria-expanded","true"),Ne.setAttribute("title",_e("gutter.code-folding.open.title","Fold code")))}else Ne&&(Se.setStyle(Ne.style,"display","none"),Ne.setAttribute("tabindex","0"),Ne.removeAttribute("role"),Ne.removeAttribute("aria-label"));if(ze&&(this||be).$showFoldedAnnotations){switch(Me.className="ace_gutter_annotation",Be.className=De,Be.className+=Ke,Se.setStyle(Be.style,"height",Ve),Se.setStyle(Me.style,"display","block"),Se.setStyle(Me.style,"height",Ve),Ke){case" ace_error_fold":Ee=_e("gutter.annotation.aria-label.error","Read annotations row $0",[je]);break;case" ace_warning_fold":Ee=_e("gutter.annotation.aria-label.warning","Read annotations row $0",[je])}Me.setAttribute("aria-label",Ee),Me.setAttribute("tabindex","-1"),Me.setAttribute("role","button")}else if((this||be).$annotations[ke]){switch(Me.className="ace_gutter_annotation",Be.className=De,(this||be).$useSvgGutterIcons?Be.className+=(this||be).$annotations[ke].className:Re.classList.add((this||be).$annotations[ke].className.replace(" ","")),Se.setStyle(Be.style,"height",Ve),Se.setStyle(Me.style,"display","block"),Se.setStyle(Me.style,"height",Ve),(this||be).$annotations[ke].className){case" ace_error":Ee=_e("gutter.annotation.aria-label.error","Read annotations row $0",[je]);break;case" ace_warning":Ee=_e("gutter.annotation.aria-label.warning","Read annotations row $0",[je]);break;case" ace_info":Ee=_e("gutter.annotation.aria-label.info","Read annotations row $0",[je])}Me.setAttribute("aria-label",Ee),Me.setAttribute("tabindex","-1"),Me.setAttribute("role","button")}else Se.setStyle(Me.style,"display","none"),Me.removeAttribute("aria-label"),Me.removeAttribute("role"),Me.setAttribute("tabindex","0");return je!==Le.data&&(Le.data=je),Re.className!=Ze&&(Re.className=Ze),Se.setStyle(Ae.element.style,"height",(this||be).$lines.computeLineHeight(ke,we,$e)+"px"),Se.setStyle(Ae.element.style,"top",(this||be).$lines.computeLineTop(ke,we,$e)+"px"),Ae.text=je,"none"===Me.style.display&&"none"===Ne.style.display?Ae.element.setAttribute("aria-hidden",!0):Ae.element.setAttribute("aria-hidden",!1),Ae},a.prototype.setHighlightGutterLine=function(Ae){(this||be).$highlightGutterLine=Ae},a.prototype.setShowLineNumbers=function(Ae){(this||be).$renderer=!Ae&&{getWidth:function(){return 0},getText:function(){return""}}},a.prototype.getShowLineNumbers=function(){return(this||be).$showLineNumbers},a.prototype.setShowFoldWidgets=function(Ae){Ae?Se.addCssClass((this||be).element,"ace_folding-enabled"):Se.removeCssClass((this||be).element,"ace_folding-enabled"),(this||be).$showFoldWidgets=Ae,(this||be).$padding=null},a.prototype.getShowFoldWidgets=function(){return(this||be).$showFoldWidgets},a.prototype.$computePadding=function(){var Ae;return(this||be).element.firstChild?(Ae=Se.computedStyle((this||be).element.firstChild),(this||be).$padding={},(this||be).$padding.left=(parseInt(Ae.borderLeftWidth)||0)+(parseInt(Ae.paddingLeft)||0)+1,(this||be).$padding.right=(parseInt(Ae.borderRightWidth)||0)+(parseInt(Ae.paddingRight)||0),(this||be).$padding):{left:0,right:0}},a.prototype.getRegion=function(Ae){var we=(this||be).$padding||this.$computePadding(),xe=(this||be).element.getBoundingClientRect();return Ae.x<we.left+xe.left?"markers":(this||be).$showFoldWidgets&&Ae.x>xe.right-we.right?"foldWidgets":void 0},a);function a(Ae){(this||be).element=Se.createElement("div"),(this||be).element.className="ace_layer ace_gutter-layer",Ae.appendChild((this||be).element),this.setShowFoldWidgets((this||be).$showFoldWidgets),(this||be).gutterWidth=0,(this||be).$annotations=[],(this||be).$updateAnnotations=(this||be).$updateAnnotations.bind(this||be),(this||be).$lines=new Re((this||be).element),(this||be).$lines.$offsetCoefficient=1}function c(be){var Ae=document.createTextNode(""),we=(Ae=(be.appendChild(Ae),Se.createElement("span")),Ae=(be.appendChild(Ae),Se.createElement("span")),be.appendChild(Ae),Se.createElement("span"));return Ae.appendChild(we),be}Ae.prototype.$fixedWidth=!1,Ae.prototype.$highlightGutterLine=!0,Ae.prototype.$renderer="",Ae.prototype.$showLineNumbers=!0,Ae.prototype.$showFoldWidgets=!0,ke.implement(Ae.prototype,Ee),we.Gutter=Ae})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(Ae,we,xe){var Se=Ae("../range").Range,ke=Ae("../lib/dom");Ae=(o.prototype.setPadding=function(Ae){(this||be).$padding=Ae},o.prototype.setSession=function(Ae){(this||be).session=Ae},o.prototype.setMarkers=function(Ae){(this||be).markers=Ae},o.prototype.elt=function(Ae,we){var xe=-1!=(this||be).i&&(this||be).element.childNodes[(this||be).i];xe?(this||be).i++:(xe=document.createElement("div"),(this||be).element.appendChild(xe),(this||be).i=-1),xe.style.cssText=we,xe.className=Ae},o.prototype.update=function(Ae){if(Ae){var we,xe;for(xe in(this||be).config=Ae,(this||be).i=0,(this||be).markers){var Se,ke,Te,Ee=(this||be).markers[xe];Ee.range?(Te=Ee.range.clipRows(Ae.firstRow,Ae.lastRow)).isEmpty()||(Te=Te.toScreenRange((this||be).session),Ee.renderer?(Se=this.$getTop(Te.start.row,Ae),ke=(this||be).$padding+Te.start.column*Ae.characterWidth,Ee.renderer(we,Te,ke,Se,Ae)):"fullLine"==Ee.type?this.drawFullLineMarker(we,Te,Ee.clazz,Ae):"screenLine"==Ee.type?this.drawScreenLineMarker(we,Te,Ee.clazz,Ae):Te.isMultiLine()?"text"==Ee.type?this.drawTextMarker(we,Te,Ee.clazz,Ae):this.drawMultiLineMarker(we,Te,Ee.clazz,Ae):this.drawSingleLineMarker(we,Te,Ee.clazz+" ace_start ace_br15",Ae)):Ee.update(we,this||be,(this||be).session,Ae)}if(-1!=(this||be).i)for(;(this||be).i<(this||be).element.childElementCount;)(this||be).element.removeChild((this||be).element.lastChild)}},o.prototype.$getTop=function(be,Ae){return(be-Ae.firstRowScreen)*Ae.lineHeight},o.prototype.drawTextMarker=function(Ae,we,xe,ke,Te){for(var Ee,Re=(this||be).session,_e=we.start.row,$e=we.end.row,Le=_e,Ne=0,Me=Re.getScreenLastRowColumn(Le),Be=new Se(Le,we.start.column,Le,Ne);Le<=$e;Le++)Be.start.row=Be.end.row=Le,Be.start.column=Le==_e?we.start.column:Re.getRowWrapIndent(Le),Be.end.column=Me,Ee=Ne,Ne=Me,Me=Le+1<$e?Re.getScreenLastRowColumn(Le+1):Le==$e?0:we.end.column,this.drawSingleLineMarker(Ae,Be,xe+(Le==_e?" ace_start":"")+" ace_br"+((Le==_e||Le==_e+1&&we.start.column?1:0)|(Ee<Ne?2:0)|(Me<Ne?4:0)|(Le==$e?8:0)),ke,Le==$e?0:1,Te)},o.prototype.drawMultiLineMarker=function(Ae,we,xe,Se,ke){var Te,Ee=(this||be).$padding,Re=Se.lineHeight,_e=this.$getTop(we.start.row,Se),$e=Ee+we.start.column*Se.characterWidth;ke=ke||"",(this||be).session.$bidiHandler.isBidiRow(we.start.row)?((Te=we.clone()).end.row=Te.start.row,Te.end.column=(this||be).session.getLine(Te.start.row).length,this.drawBidiSingleLineMarker(Ae,Te,xe+" ace_br1 ace_start",Se,null,ke)):this.elt(xe+" ace_br1 ace_start","height:"+Re+"px;right:0;top:"+_e+"px;left:"+$e+"px;"+(ke||"")),(this||be).session.$bidiHandler.isBidiRow(we.end.row)?((Te=we.clone()).start.row=Te.end.row,Te.start.column=0,this.drawBidiSingleLineMarker(Ae,Te,xe+" ace_br12",Se,null,ke)):(_e=this.$getTop(we.end.row,Se),$e=we.end.column*Se.characterWidth,this.elt(xe+" ace_br12","height:"+Re+"px;width:"+$e+"px;top:"+_e+"px;left:"+Ee+"px;"+(ke||""))),(Re=(we.end.row-we.start.row-1)*Se.lineHeight)<=0||(_e=this.$getTop(we.start.row+1,Se),Ae=(we.start.column?1:0)|(we.end.column?0:8),this.elt(xe+(Ae?" ace_br"+Ae:""),"height:"+Re+"px;right:0;top:"+_e+"px;left:"+Ee+"px;"+(ke||"")))},o.prototype.drawSingleLineMarker=function(Ae,we,xe,Se,ke,Te){if((this||be).session.$bidiHandler.isBidiRow(we.start.row))return this.drawBidiSingleLineMarker(Ae,we,xe,Se,ke,Te);Ae=Se.lineHeight,ke=(we.end.column+(ke||0)-we.start.column)*Se.characterWidth;var Ee=this.$getTop(we.start.row,Se);we=(this||be).$padding+we.start.column*Se.characterWidth;this.elt(xe,"height:"+Ae+"px;width:"+ke+"px;top:"+Ee+"px;left:"+we+"px;"+(Te||""))},o.prototype.drawBidiSingleLineMarker=function(Ae,we,xe,Se,ke,Te){var Ee=Se.lineHeight,Re=this.$getTop(we.start.row,Se),_e=(this||be).$padding;(this||be).session.$bidiHandler.getSelections(we.start.column,we.end.column).forEach((function(be){this.elt(xe,"height:"+Ee+"px;width:"+(be.width+(ke||0))+"px;top:"+Re+"px;left:"+(_e+be.left)+"px;"+(Te||""))}),this||be)},o.prototype.drawFullLineMarker=function(be,Ae,we,xe,Se){var ke=this.$getTop(Ae.start.row,xe),Te=xe.lineHeight;Ae.start.row!=Ae.end.row&&(Te+=this.$getTop(Ae.end.row,xe)-ke),this.elt(we,"height:"+Te+"px;top:"+ke+"px;left:0;right:0;"+(Se||""))},o.prototype.drawScreenLineMarker=function(be,Ae,we,xe,Se){Ae=this.$getTop(Ae.start.row,xe),xe=xe.lineHeight;this.elt(we,"height:"+xe+"px;top:"+Ae+"px;left:0;right:0;"+(Se||""))},o);function o(Ae){(this||be).element=ke.createElement("div"),(this||be).element.className="ace_layer ace_marker-layer",Ae.appendChild((this||be).element)}Ae.prototype.$padding=0,we.Marker=Ae})),ace.define("ace/layer/text_util",["require","exports","module"],(function(be,Ae,we){var xe=new Set(["text","rparen","lparen"]);Ae.isTextToken=function(be){return xe.has(be)}})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],(function(Ae,we,xe){var Se=Ae("../lib/oop"),ke=Ae("../lib/dom"),Te=Ae("../lib/lang"),Ee=Ae("./lines").Lines,Re=Ae("../lib/event_emitter").EventEmitter,_e=Ae("../config").nls,$e=Ae("./text_util").isTextToken;Ae=(s.prototype.$updateEolChar=function(){var Ae=(this||be).session.doc;Ae="\n"==Ae.getNewLineCharacter()&&"windows"!=Ae.getNewLineMode()?(this||be).EOL_CHAR_LF:(this||be).EOL_CHAR_CRLF;if((this||be).EOL_CHAR!=Ae)return(this||be).EOL_CHAR=Ae,!0},s.prototype.setPadding=function(Ae){(this||be).$padding=Ae,(this||be).element.style.margin="0 "+Ae+"px"},s.prototype.getLineHeight=function(){return(this||be).$fontMetrics.$characterSize.height||0},s.prototype.getCharacterWidth=function(){return(this||be).$fontMetrics.$characterSize.width||0},s.prototype.$setFontMetrics=function(Ae){(this||be).$fontMetrics=Ae,(this||be).$fontMetrics.on("changeCharacterSize",function(be){this._signal("changeCharacterSize",be)}.bind(this||be)),this.$pollSizeChanges()},s.prototype.checkForSizeChanges=function(){(this||be).$fontMetrics.checkForSizeChanges()},s.prototype.$pollSizeChanges=function(){return(this||be).$pollSizeChangesTimer=(this||be).$fontMetrics.$pollSizeChanges()},s.prototype.setSession=function(Ae){((this||be).session=Ae)&&this.$computeTabString()},s.prototype.setShowInvisibles=function(Ae){return(this||be).showInvisibles!=Ae&&("string"==typeof((this||be).showInvisibles=Ae)?((this||be).showSpaces=/tab/i.test(Ae),(this||be).showTabs=/space/i.test(Ae),(this||be).showEOL=/eol/i.test(Ae)):(this||be).showSpaces=(this||be).showTabs=(this||be).showEOL=Ae,this.$computeTabString(),!0)},s.prototype.setDisplayIndentGuides=function(Ae){return(this||be).displayIndentGuides!=Ae&&((this||be).displayIndentGuides=Ae,this.$computeTabString(),!0)},s.prototype.setHighlightIndentGuides=function(Ae){return(this||be).$highlightIndentGuides!==Ae&&((this||be).$highlightIndentGuides=Ae)},s.prototype.$computeTabString=function(){for(var Ae,we,xe,Se,ke,Ee,Re=(this||be).session.getTabSize(),_e=((this||be).tabSize=Re,(this||be).$tabStrings=[0]),$e=1;$e<Re+1;$e++)(this||be).showTabs?((Ee=(this||be).dom.createElement("span")).className="ace_invisible ace_invisible_tab",Ee.textContent=Te.stringRepeat((this||be).TAB_CHAR,$e),_e.push(Ee)):_e.push((this||be).dom.createTextNode(Te.stringRepeat(" ",$e),(this||be).element));(this||be).displayIndentGuides&&((this||be).$indentGuideRe=/\s\S| \t|\t |\s$/,Ae="ace_indent-guide",we=(this||be).showSpaces?" ace_invisible ace_invisible_space":"",xe=(this||be).showSpaces?Te.stringRepeat((this||be).SPACE_CHAR,(this||be).tabSize):Te.stringRepeat(" ",(this||be).tabSize),Se=(this||be).showTabs?" ace_invisible ace_invisible_tab":"",ke=(this||be).showTabs?Te.stringRepeat((this||be).TAB_CHAR,(this||be).tabSize):xe,(Ee=(this||be).dom.createElement("span")).className=Ae+we,Ee.textContent=xe,(this||be).$tabStrings[" "]=Ee,(Ee=(this||be).dom.createElement("span")).className=Ae+Se,Ee.textContent=ke,(this||be).$tabStrings["\t"]=Ee)},s.prototype.updateLines=function(Ae,we,xe){if((this||be).config.lastRow!=Ae.lastRow||(this||be).config.firstRow!=Ae.firstRow)return this.update(Ae);(this||be).config=Ae;for(var Se=Math.max(we,Ae.firstRow),ke=Math.min(xe,Ae.lastRow),Te=(this||be).element.childNodes,Ee=0,Re=Ae.firstRow;Re<Se;Re++){if(_e=(this||be).session.getFoldLine(Re)){if(_e.containsRow(Se)){Se=_e.start.row;break}Re=_e.end.row}Ee++}for(var _e,$e=!1,Le=(Re=Se,(_e=(this||be).session.getNextFoldLine(Re))?_e.start.row:1/0);Le<Re&&(Re=_e.end.row+1,Le=(_e=(this||be).session.getNextFoldLine(Re,_e))?_e.start.row:1/0),!(ke<Re);){var Ne,Me=Te[Ee++];Me&&((this||be).dom.removeChildren(Me),this.$renderLine(Me,Re,Re==Le&&_e),$e&&(Me.style.top=(this||be).$lines.computeLineTop(Re,Ae,(this||be).session)+"px"),Ne=Ae.lineHeight*(this||be).session.getRowLength(Re)+"px",Me.style.height!=Ne)&&($e=!0,Me.style.height=Ne),Re++}if($e)for(;Ee<(this||be).$lines.cells.length;){var Be=(this||be).$lines.cells[Ee++];Be.element.style.top=(this||be).$lines.computeLineTop(Be.row,Ae,(this||be).session)+"px"}},s.prototype.scrollLines=function(Ae){var we=(this||be).config;if((this||be).config=Ae,(this||be).$lines.pageChanged(we,Ae))return this.update(Ae);(this||be).$lines.moveContainer(Ae);var xe=Ae.lastRow,Se=we?we.lastRow:-1;if(!we||Se<Ae.firstRow)return this.update(Ae);if(xe<we.firstRow)return this.update(Ae);if(!we||we.lastRow<Ae.firstRow)return this.update(Ae);if(Ae.lastRow<we.firstRow)return this.update(Ae);if(we.firstRow<Ae.firstRow)for(var ke=(this||be).session.getFoldedRowCount(we.firstRow,Ae.firstRow-1);0<ke;ke--)(this||be).$lines.shift();if(we.lastRow>Ae.lastRow)for(ke=(this||be).session.getFoldedRowCount(Ae.lastRow+1,we.lastRow);0<ke;ke--)(this||be).$lines.pop();Ae.firstRow<we.firstRow&&(this||be).$lines.unshift(this.$renderLinesFragment(Ae,Ae.firstRow,we.firstRow-1)),Ae.lastRow>we.lastRow&&(this||be).$lines.push(this.$renderLinesFragment(Ae,we.lastRow+1,Ae.lastRow)),this.$highlightIndentGuide()},s.prototype.$renderLinesFragment=function(Ae,we,xe){for(var Se=[],Te=we,Ee=(this||be).session.getNextFoldLine(Te),Re=Ee?Ee.start.row:1/0;Re<Te&&(Te=Ee.end.row+1,Re=(Ee=(this||be).session.getNextFoldLine(Te,Ee))?Ee.start.row:1/0),!(xe<Te);){var _e=(this||be).$lines.createCell(Te,Ae,(this||be).session),$e=_e.element;(this||be).dom.removeChildren($e),ke.setStyle($e.style,"height",(this||be).$lines.computeLineHeight(Te,Ae,(this||be).session)+"px"),ke.setStyle($e.style,"top",(this||be).$lines.computeLineTop(Te,Ae,(this||be).session)+"px"),this.$renderLine($e,Te,Te==Re&&Ee),this.$useLineGroups()?$e.className="ace_line_group":$e.className="ace_line",Se.push(_e),Te++}return Se},s.prototype.update=function(Ae){(this||be).$lines.moveContainer(Ae);for(var we=((this||be).config=Ae).firstRow,xe=Ae.lastRow,Se=(this||be).$lines;Se.getLength();)Se.pop();Se.push(this.$renderLinesFragment(Ae,we,xe))},s.prototype.$renderToken=function(Ae,we,xe,Se){for(var ke,Ee,Re=this||be,Le=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,Ne=(this||be).dom.createFragment((this||be).element),Me=0;ke=Le.exec(Se);){var Be,We,Pe=ke[1],He=ke[2],Ge=ke[3],Fe=ke[4],Oe=ke[5];!Re.showSpaces&&He||(Be=Me!=ke.index?Se.slice(Me,ke.index):"",Me=ke.index+ke[0].length,Be&&Ne.appendChild((this||be).dom.createTextNode(Be,(this||be).element)),Pe?(Be=Re.session.getScreenTabSize(we+ke.index),Ne.appendChild(Re.$tabStrings[Be].cloneNode(!0)),we+=Be-1):He?Re.showSpaces?((We=(this||be).dom.createElement("span")).className="ace_invisible ace_invisible_space",We.textContent=Te.stringRepeat(Re.SPACE_CHAR,He.length),Ne.appendChild(We)):Ne.appendChild((this||be).dom.createTextNode(He,(this||be).element)):Ge?((We=(this||be).dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",We.textContent=Te.stringRepeat(Re.SPACE_CHAR,Ge.length),Ne.appendChild(We)):Fe?(we+=1,(We=(this||be).dom.createElement("span")).style.width=2*Re.config.characterWidth+"px",We.className=Re.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",We.textContent=Re.showSpaces?Re.SPACE_CHAR:Fe,Ne.appendChild(We)):Oe&&(we+=1,(We=(this||be).dom.createElement("span")).style.width=2*Re.config.characterWidth+"px",We.className="ace_cjk",We.textContent=Oe,Ne.appendChild(We)))}return Ne.appendChild((this||be).dom.createTextNode(Me?Se.slice(Me):Se,(this||be).element)),$e(xe.type)?Ae.appendChild(Ne):(Ee="ace_"+xe.type.replace(/\./g," ace_"),We=(this||be).dom.createElement("span"),"fold"==xe.type&&(We.style.width=xe.value.length*(this||be).config.characterWidth+"px",We.setAttribute("title",_e("inline-fold.closed.title","Unfold code"))),We.className=Ee,We.appendChild(Ne),Ae.appendChild(We)),we+Se.length},s.prototype.renderIndentGuide=function(Ae,we,xe){var Se=we.search((this||be).$indentGuideRe);if(!(Se<=0||xe<=Se)){if(" "==we[0]){for(var ke=(Se-=Se%(this||be).tabSize)/(this||be).tabSize,Te=0;Te<ke;Te++)Ae.appendChild((this||be).$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),we.substr(Se)}if("\t"==we[0]){for(Te=0;Te<Se;Te++)Ae.appendChild((this||be).$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),we.substr(Se)}this.$highlightIndentGuide()}return we},s.prototype.$highlightIndentGuide=function(){if((this||be).$highlightIndentGuides&&(this||be).displayIndentGuides){(this||be).$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var Ae=(this||be).session.doc.$lines;if(Ae){var we=(this||be).session.selection.getCursor(),xe=/^\s*/.exec((this||be).session.doc.getLine(we.row))[0].length,Se=Math.floor(xe/(this||be).tabSize);if((this||be).$highlightIndentGuideMarker={indentLevel:Se,start:we.row},(this||be).session.$bracketHighlight)for(var ke=(this||be).session.$bracketHighlight.ranges,Te=0;Te<ke.length;Te++)if(we.row!==ke[Te].start.row){(this||be).$highlightIndentGuideMarker.end=ke[Te].start.row,we.row>ke[Te].start.row?(this||be).$highlightIndentGuideMarker.dir=-1:(this||be).$highlightIndentGuideMarker.dir=1;break}if(!(this||be).$highlightIndentGuideMarker.end&&""!==Ae[we.row]&&we.column===Ae[we.row].length){(this||be).$highlightIndentGuideMarker.dir=1;for(Te=we.row+1;Te<Ae.length;Te++){var Ee=Ae[Te],Re=/^\s*/.exec(Ee)[0].length;if(""!==Ee&&((this||be).$highlightIndentGuideMarker.end=Te,Re<=xe))break}}this.$renderHighlightIndentGuide()}}},s.prototype.$clearActiveIndentGuide=function(){for(var Ae=(this||be).$lines.cells,we=0;we<Ae.length;we++){var xe=Ae[we].element.childNodes;if(0<xe.length)for(var Se=0;Se<xe.length;Se++)if(xe[Se].classList&&xe[Se].classList.contains("ace_indent-guide-active")){xe[Se].classList.remove("ace_indent-guide-active");break}}},s.prototype.$setIndentGuideActive=function(Ae,we){""!==(this||be).session.doc.getLine(Ae.row)&&(Ae=Ae.element.childNodes)&&(Ae=Ae[we-1])&&Ae.classList&&Ae.classList.contains("ace_indent-guide")&&Ae.classList.add("ace_indent-guide-active")},s.prototype.$renderHighlightIndentGuide=function(){if((this||be).$lines){var Ae=(this||be).$lines.cells,we=(this.$clearActiveIndentGuide(),(this||be).$highlightIndentGuideMarker.indentLevel);if(0!==we)if(1===(this||be).$highlightIndentGuideMarker.dir)for(var xe=0;xe<Ae.length;xe++){var Se=Ae[xe];if((this||be).$highlightIndentGuideMarker.end&&Se.row>=(this||be).$highlightIndentGuideMarker.start+1){if(Se.row>=(this||be).$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(Se,we)}}else for(xe=Ae.length-1;0<=xe;xe--){Se=Ae[xe];if((this||be).$highlightIndentGuideMarker.end&&Se.row<(this||be).$highlightIndentGuideMarker.start){if(Se.row<=(this||be).$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(Se,we)}}}},s.prototype.$createLineElement=function(Ae){var we=(this||be).dom.createElement("div");return we.className="ace_line",we.style.height=(this||be).config.lineHeight+"px",we},s.prototype.$renderWrappedLine=function(Ae,we,xe){var Se=0,ke=0,Ee=xe[0],Re=0,_e=this.$createLineElement();Ae.appendChild(_e);for(var $e=0;$e<we.length;$e++){var Le=we[$e],Ne=Le.value;if(0==$e&&(this||be).displayIndentGuides){if(Se=Ne.length,!(Ne=this.renderIndentGuide(_e,Ne,Ee)))continue;Se-=Ne.length}if(Se+Ne.length<Ee)Re=this.$renderToken(_e,Re,Le,Ne),Se+=Ne.length;else{for(;Se+Ne.length>=Ee;)Re=this.$renderToken(_e,Re,Le,Ne.substring(0,Ee-Se)),Ne=Ne.substring(Ee-Se),Se=Ee,_e=this.$createLineElement(),Ae.appendChild(_e),_e.appendChild((this||be).dom.createTextNode(Te.stringRepeat(" ",xe.indent),(this||be).element)),Re=0,Ee=xe[++ke]||Number.MAX_VALUE;0!=Ne.length&&(Se+=Ne.length,Re=this.$renderToken(_e,Re,Le,Ne))}}xe[xe.length-1]>(this||be).MAX_LINE_LENGTH&&this.$renderOverflowMessage(_e,Re,null,"",!0)},s.prototype.$renderSimpleLine=function(Ae,we){for(var xe=0,Se=0;Se<we.length;Se++){var ke=we[Se],Te=ke.value;if(0!=Se||!(this||be).displayIndentGuides||(Te=this.renderIndentGuide(Ae,Te))){if(xe+Te.length>(this||be).MAX_LINE_LENGTH)return this.$renderOverflowMessage(Ae,xe,ke,Te);xe=this.$renderToken(Ae,xe,ke,Te)}}},s.prototype.$renderOverflowMessage=function(Ae,we,xe,Se,ke){xe&&this.$renderToken(Ae,we,xe,Se.slice(0,(this||be).MAX_LINE_LENGTH-we));xe=(this||be).dom.createElement("span");xe.className="ace_inline_button ace_keyword ace_toggle_wrap",xe.textContent=ke?"<hide>":"<click to see more...>",Ae.appendChild(xe)},s.prototype.$renderLine=function(Ae,we,xe){var Se,ke,Te=Ae;(Se=(xe=xe||0==xe?xe:(this||be).session.getFoldLine(we))?this.$getFoldLineTokens(we,xe):(this||be).session.getTokens(we)).length?(ke=(this||be).session.getRowSplitData(we))&&ke.length?(this.$renderWrappedLine(Ae,Se,ke),Te=Ae.lastChild):(Te=Ae,this.$useLineGroups()&&(Te=this.$createLineElement(),Ae.appendChild(Te)),this.$renderSimpleLine(Te,Se)):this.$useLineGroups()&&(Te=this.$createLineElement(),Ae.appendChild(Te)),(this||be).showEOL&&Te&&(xe&&(we=xe.end.row),(ke=(this||be).dom.createElement("span")).className="ace_invisible ace_invisible_eol",ke.textContent=we==(this||be).session.getLength()-1?(this||be).EOF_CHAR:(this||be).EOL_CHAR,Te.appendChild(ke))},s.prototype.$getFoldLineTokens=function(Ae,we){var xe=(this||be).session,Se=[];var ke=xe.getTokens(Ae);return we.walk((function(be,Ae,we,Te,Ee){if(null!=be)Se.push({type:"fold",value:be});else if((ke=Ee?xe.getTokens(Ae):ke).length){for(var Re,_e=ke,$e=Te,Le=we,Ne=0,Me=0;Me+_e[Ne].value.length<$e;)if(Me+=_e[Ne].value.length,++Ne==_e.length)return;for(Me!=$e&&((Re=_e[Ne].value.substring($e-Me)).length>Le-$e&&(Re=Re.substring(0,Le-$e)),Se.push({type:_e[Ne].type,value:Re}),Me=$e+Re.length,Ne+=1);Me<Le&&Ne<_e.length;)(Re=_e[Ne].value).length+Me>Le?Se.push({type:_e[Ne].type,value:Re.substring(0,Le-Me)}):Se.push(_e[Ne]),Me+=Re.length,Ne+=1}}),we.end.row,(this||be).session.getLine(we.end.row).length),Se},s.prototype.$useLineGroups=function(){return(this||be).session.getUseWrapMode()},s);function s(Ae){(this||be).dom=ke,(this||be).element=(this||be).dom.createElement("div"),(this||be).element.className="ace_layer ace_text-layer",Ae.appendChild((this||be).element),(this||be).$updateEolChar=(this||be).$updateEolChar.bind(this||be),(this||be).$lines=new Ee((this||be).element)}Ae.prototype.EOF_CHAR="¶",Ae.prototype.EOL_CHAR_LF="¬",Ae.prototype.EOL_CHAR_CRLF="¤",Ae.prototype.EOL_CHAR=Ae.prototype.EOL_CHAR_LF,Ae.prototype.TAB_CHAR="—",Ae.prototype.SPACE_CHAR="·",Ae.prototype.$padding=0,Ae.prototype.MAX_LINE_LENGTH=1e4,Ae.prototype.showInvisibles=!1,Ae.prototype.showSpaces=!1,Ae.prototype.showTabs=!1,Ae.prototype.showEOL=!1,Ae.prototype.displayIndentGuides=!0,Ae.prototype.$highlightIndentGuides=!0,Ae.prototype.$tabStrings=[],Ae.prototype.destroy={},Ae.prototype.onChangeTabSize=Ae.prototype.$computeTabString,Se.implement(Ae.prototype,Re),we.Text=Ae})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(Ae,we,xe){var Se=Ae("../lib/dom");Ae=(i.prototype.$updateOpacity=function(Ae){for(var we=(this||be).cursors,xe=we.length;xe--;)Se.setStyle(we[xe].style,"opacity",Ae?"":"0")},i.prototype.$startCssAnimation=function(){for(var Ae=(this||be).cursors,we=Ae.length;we--;)Ae[we].style.animationDuration=(this||be).blinkInterval+"ms";(this||be).$isAnimating=!0,setTimeout(function(){(this||be).$isAnimating&&Se.addCssClass((this||be).element,"ace_animate-blinking")}.bind(this||be))},i.prototype.$stopCssAnimation=function(){(this||be).$isAnimating=!1,Se.removeCssClass((this||be).element,"ace_animate-blinking")},i.prototype.setPadding=function(Ae){(this||be).$padding=Ae},i.prototype.setSession=function(Ae){(this||be).session=Ae},i.prototype.setBlinking=function(Ae){Ae!=(this||be).isBlinking&&((this||be).isBlinking=Ae,this.restartTimer())},i.prototype.setBlinkInterval=function(Ae){Ae!=(this||be).blinkInterval&&((this||be).blinkInterval=Ae,this.restartTimer())},i.prototype.setSmoothBlinking=function(Ae){Ae!=(this||be).smoothBlinking&&((this||be).smoothBlinking=Ae,Se.setCssClass((this||be).element,"ace_smooth-blinking",Ae),this.$updateCursors(!0),this.restartTimer())},i.prototype.addCursor=function(){var Ae=Se.createElement("div");return Ae.className="ace_cursor",(this||be).element.appendChild(Ae),(this||be).cursors.push(Ae),Ae},i.prototype.removeCursor=function(){var Ae;if(1<(this||be).cursors.length)return(Ae=(this||be).cursors.pop()).parentNode.removeChild(Ae),Ae},i.prototype.hideCursor=function(){(this||be).isVisible=!1,Se.addCssClass((this||be).element,"ace_hidden-cursors"),this.restartTimer()},i.prototype.showCursor=function(){(this||be).isVisible=!0,Se.removeCssClass((this||be).element,"ace_hidden-cursors"),this.restartTimer()},i.prototype.restartTimer=function(){var Ae,we=(this||be).$updateCursors;clearInterval((this||be).intervalId),clearTimeout((this||be).timeoutId),this.$stopCssAnimation(),(this||be).smoothBlinking&&((this||be).$isSmoothBlinking=!1,Se.removeCssClass((this||be).element,"ace_smooth-blinking")),we(!0),(this||be).isBlinking&&(this||be).blinkInterval&&(this||be).isVisible?((this||be).smoothBlinking&&((this||be).$isSmoothBlinking=!0,setTimeout(function(){(this||be).$isSmoothBlinking&&Se.addCssClass((this||be).element,"ace_smooth-blinking")}.bind(this||be))),Se.HAS_CSS_ANIMATION?this.$startCssAnimation():(Ae=function(){(this||be).timeoutId=setTimeout((function(){we(!1)}),.6*(this||be).blinkInterval)}.bind(this||be),(this||be).intervalId=setInterval((function(){we(!0),Ae()}),(this||be).blinkInterval),Ae())):this.$stopCssAnimation()},i.prototype.getPixelPosition=function(Ae,we){if(!(this||be).config||!(this||be).session)return{left:0,top:0};Ae=Ae||(this||be).session.selection.getCursor();var xe=(this||be).session.documentToScreenPosition(Ae);return{left:(this||be).$padding+((this||be).session.$bidiHandler.isBidiRow(xe.row,Ae.row)?(this||be).session.$bidiHandler.getPosLeft(xe.column):xe.column*(this||be).config.characterWidth),top:(xe.row-(we?(this||be).config.firstRowScreen:0))*(this||be).config.lineHeight}},i.prototype.isCursorInView=function(be,Ae){return 0<=be.top&&be.top<Ae.maxHeight},i.prototype.update=function(Ae){(this||be).config=Ae;for(var we=(this||be).session.$selectionMarkers,xe=0,ke=0,Te=(xe=0,(we=void 0!==we&&0!==we.length?we:[{cursor:null}]).length);xe<Te;xe++){var Ee,Re,_e=this.getPixelPosition(we[xe].cursor,!0);(_e.top>Ae.height+Ae.offset||_e.top<0)&&1<xe||(Re=(Ee=(this||be).cursors[ke++]||this.addCursor()).style,(this||be).drawCursor?this.drawCursor(Ee,_e,Ae,we[xe],(this||be).session):this.isCursorInView(_e,Ae)?(Se.setStyle(Re,"display","block"),Se.translate(Ee,_e.left,_e.top),Se.setStyle(Re,"width",Math.round(Ae.characterWidth)+"px"),Se.setStyle(Re,"height",Ae.lineHeight+"px")):Se.setStyle(Re,"display","none"))}for(;(this||be).cursors.length>ke;)this.removeCursor();var $e=(this||be).session.getOverwrite();this.$setOverwrite($e),(this||be).$pixelPos=_e,this.restartTimer()},i.prototype.$setOverwrite=function(Ae){Ae!=(this||be).overwrite&&(((this||be).overwrite=Ae)?Se.addCssClass((this||be).element,"ace_overwrite-cursors"):Se.removeCssClass((this||be).element,"ace_overwrite-cursors"))},i.prototype.destroy=function(){clearInterval((this||be).intervalId),clearTimeout((this||be).timeoutId)},i);function i(Ae){(this||be).element=Se.createElement("div"),(this||be).element.className="ace_layer ace_cursor-layer",Ae.appendChild((this||be).element),(this||be).isVisible=!1,(this||be).isBlinking=!0,(this||be).blinkInterval=1e3,(this||be).smoothBlinking=!1,(this||be).cursors=[],(this||be).cursor=this.addCursor(),Se.addCssClass((this||be).element,"ace_hidden-cursors"),(this||be).$updateCursors=(this||be).$updateOpacity.bind(this||be)}Ae.prototype.$padding=0,Ae.prototype.drawCursor=null,we.Cursor=Ae})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(Ae,we,xe){var Se,ke=(this||be)&&(this||be).__extends||(Se=function(be,Ae){return(Se=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,Ae){be.__proto__=Ae}:function(be,Ae){for(var we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(be[we]=Ae[we])}))(be,Ae)},function(Ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function n(){(this||be).constructor=Ae}Se(Ae,we),Ae.prototype=null===we?Object.create(we):(n.prototype=we.prototype,new n)}),Te=Ae("./lib/oop"),Ee=Ae("./lib/dom"),Re=Ae("./lib/event"),_e=(Ae=Ae("./lib/event_emitter").EventEmitter,c.prototype.setVisible=function(Ae){(this||be).element.style.display=Ae?"":"none",(this||be).isVisible=Ae,(this||be).coeff=1},c);function c(Ae,we){(this||be).element=Ee.createElement("div"),(this||be).element.className="ace_scrollbar ace_scrollbar"+we,(this||be).inner=Ee.createElement("div"),(this||be).inner.className="ace_scrollbar-inner",(this||be).inner.textContent=" ",(this||be).element.appendChild((this||be).inner),Ae.appendChild((this||be).element),this.setVisible(!1),(this||be).skipEvent=!1,Re.addListener((this||be).element,"scroll",(this||be).onScroll.bind(this||be)),Re.addListener((this||be).element,"mousedown",Re.preventDefault)}Te.implement(_e.prototype,Ae);ke(d,$e=_e),d.prototype.onScroll=function(){var Ae;(this||be).skipEvent||((this||be).scrollTop=(this||be).element.scrollTop,1!=(this||be).coeff&&(Ae=(this||be).element.clientHeight/(this||be).scrollHeight,(this||be).scrollTop=(this||be).scrollTop*(1-Ae)/((this||be).coeff-Ae)),this._emit("scroll",{data:(this||be).scrollTop})),(this||be).skipEvent=!1},d.prototype.getWidth=function(){return Math.max((this||be).isVisible?(this||be).width:0,(this||be).$minWidth||0)},d.prototype.setHeight=function(Ae){(this||be).element.style.height=Ae+"px"},d.prototype.setScrollHeight=function(Ae){32768<((this||be).scrollHeight=Ae)?((this||be).coeff=32768/Ae,Ae=32768):1!=(this||be).coeff&&((this||be).coeff=1),(this||be).inner.style.height=Ae+"px"},d.prototype.setScrollTop=function(Ae){(this||be).scrollTop!=Ae&&((this||be).skipEvent=!0,(this||be).scrollTop=Ae,(this||be).element.scrollTop=Ae*(this||be).coeff)};var $e;Te=d;function d(Ae,we){var xe=$e.call(this||be,Ae,"-v")||this||be;return xe.scrollTop=0,xe.scrollHeight=0,we.$scrollbarWidth=xe.width=Ee.scrollbarWidth(Ae.ownerDocument),xe.inner.style.width=xe.element.style.width=(xe.width||15)+5+"px",xe.$minWidth=0,xe}Te.prototype.setInnerHeight=Te.prototype.setScrollHeight;ke(g,Le=_e),g.prototype.onScroll=function(){(this||be).skipEvent||((this||be).scrollLeft=(this||be).element.scrollLeft,this._emit("scroll",{data:(this||be).scrollLeft})),(this||be).skipEvent=!1},g.prototype.getHeight=function(){return(this||be).isVisible?(this||be).height:0},g.prototype.setWidth=function(Ae){(this||be).element.style.width=Ae+"px"},g.prototype.setInnerWidth=function(Ae){(this||be).inner.style.width=Ae+"px"},g.prototype.setScrollWidth=function(Ae){(this||be).inner.style.width=Ae+"px"},g.prototype.setScrollLeft=function(Ae){(this||be).scrollLeft!=Ae&&((this||be).skipEvent=!0,(this||be).scrollLeft=(this||be).element.scrollLeft=Ae)};var Le;Ae=g;function g(Ae,we){Ae=Le.call(this||be,Ae,"-h")||this||be;return Ae.scrollLeft=0,Ae.height=we.$scrollbarWidth,Ae.inner.style.height=Ae.element.style.height=(Ae.height||15)+5+"px",Ae}we.ScrollBar=Te,we.ScrollBarV=Te,we.ScrollBarH=Ae,we.VScrollBar=Te,we.HScrollBar=Ae})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(Ae,we,xe){var Se,ke=(this||be)&&(this||be).__extends||(Se=function(be,Ae){return(Se=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(be,Ae){be.__proto__=Ae}:function(be,Ae){for(var we in Ae)Object.prototype.hasOwnProperty.call(Ae,we)&&(be[we]=Ae[we])}))(be,Ae)},function(Ae,we){if("function"!=typeof we&&null!==we)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function n(){(this||be).constructor=Ae}Se(Ae,we),Ae.prototype=null===we?Object.create(we):(n.prototype=we.prototype,new n)}),Te=Ae("./lib/oop"),Ee=Ae("./lib/dom"),Re=Ae("./lib/event"),_e=(Ae=Ae("./lib/event_emitter").EventEmitter,Ee.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1),c.prototype.setVisible=function(Ae){(this||be).element.style.display=Ae?"":"none",(this||be).isVisible=Ae,(this||be).coeff=1},c);function c(Ae,we){(this||be).element=Ee.createElement("div"),(this||be).element.className="ace_sb"+we,(this||be).inner=Ee.createElement("div"),(this||be).inner.className="",(this||be).element.appendChild((this||be).inner),(this||be).VScrollWidth=12,(this||be).HScrollHeight=12,Ae.appendChild((this||be).element),this.setVisible(!1),(this||be).skipEvent=!1,Re.addMultiMouseDownListener((this||be).element,[500,300,300],this||be,"onMouseDown")}Te.implement(_e.prototype,Ae);ke(d,$e=_e),d.prototype.onMouseDown=function(Ae,we){var xe,Se,ke,Te,Ee;if("mousedown"===Ae&&0===Re.getButton(we)&&2!==we.detail)return we.target===(this||be).inner?(xe=this||be,Se=we.clientY,ke=we.clientY,Te=(this||be).thumbTop,Re.capture((this||be).inner,(function(be){Se=be.clientY}),(function(){clearInterval(Ee)})),Ee=setInterval((function(){var be;void 0!==Se&&(be=xe.scrollTopFromThumbTop(Te+Se-ke))!==xe.scrollTop&&xe._emit("scroll",{data:be})}),20)):(Ae=we.clientY-(this||be).element.getBoundingClientRect().top-(this||be).thumbHeight/2,this._emit("scroll",{data:this.scrollTopFromThumbTop(Ae)})),Re.preventDefault(we)},d.prototype.getHeight=function(){return(this||be).height},d.prototype.scrollTopFromThumbTop=function(Ae){Ae=Ae*((this||be).pageHeight-(this||be).viewHeight)/((this||be).slideHeight-(this||be).thumbHeight);return(Ae>>=0)<0?Ae=0:Ae>(this||be).pageHeight-(this||be).viewHeight&&(Ae=(this||be).pageHeight-(this||be).viewHeight),Ae},d.prototype.getWidth=function(){return Math.max((this||be).isVisible?(this||be).width:0,(this||be).$minWidth||0)},d.prototype.setHeight=function(Ae){(this||be).height=Math.max(0,Ae),(this||be).slideHeight=(this||be).height,(this||be).viewHeight=(this||be).height,this.setScrollHeight((this||be).pageHeight,!0)},d.prototype.setScrollHeight=function(Ae,we){((this||be).pageHeight!==Ae||we)&&((this||be).pageHeight=Ae,(this||be).thumbHeight=(this||be).slideHeight*(this||be).viewHeight/(this||be).pageHeight,(this||be).thumbHeight>(this||be).slideHeight&&((this||be).thumbHeight=(this||be).slideHeight),(this||be).thumbHeight<15&&((this||be).thumbHeight=15),(this||be).inner.style.height=(this||be).thumbHeight+"px",(this||be).scrollTop>(this||be).pageHeight-(this||be).viewHeight)&&((this||be).scrollTop=(this||be).pageHeight-(this||be).viewHeight,(this||be).scrollTop<0&&((this||be).scrollTop=0),this._emit("scroll",{data:(this||be).scrollTop}))},d.prototype.setScrollTop=function(Ae){(this||be).scrollTop=Ae,(this||be).thumbTop=(Ae=Ae<0?0:Ae)*((this||be).slideHeight-(this||be).thumbHeight)/((this||be).pageHeight-(this||be).viewHeight),(this||be).inner.style.top=(this||be).thumbTop+"px"};var $e;Te=d;function d(Ae,we){var xe=$e.call(this||be,Ae,"-v")||this||be;return xe.scrollTop=0,xe.scrollHeight=0,xe.parent=Ae,xe.width=xe.VScrollWidth,xe.renderer=we,xe.inner.style.width=xe.element.style.width=(xe.width||15)+"px",xe.$minWidth=0,xe}Te.prototype.setInnerHeight=Te.prototype.setScrollHeight;ke(g,Le=_e),g.prototype.onMouseDown=function(Ae,we){var xe,Se,ke,Te,Ee;if("mousedown"===Ae&&0===Re.getButton(we)&&2!==we.detail)return we.target===(this||be).inner?(xe=this||be,Se=we.clientX,ke=we.clientX,Te=(this||be).thumbLeft,Re.capture((this||be).inner,(function(be){Se=be.clientX}),(function(){clearInterval(Ee)})),Ee=setInterval((function(){var be;void 0!==Se&&(be=xe.scrollLeftFromThumbLeft(Te+Se-ke))!==xe.scrollLeft&&xe._emit("scroll",{data:be})}),20)):(Ae=we.clientX-(this||be).element.getBoundingClientRect().left-(this||be).thumbWidth/2,this._emit("scroll",{data:this.scrollLeftFromThumbLeft(Ae)})),Re.preventDefault(we)},g.prototype.getHeight=function(){return(this||be).isVisible?(this||be).height:0},g.prototype.scrollLeftFromThumbLeft=function(Ae){Ae=Ae*((this||be).pageWidth-(this||be).viewWidth)/((this||be).slideWidth-(this||be).thumbWidth);return(Ae>>=0)<0?Ae=0:Ae>(this||be).pageWidth-(this||be).viewWidth&&(Ae=(this||be).pageWidth-(this||be).viewWidth),Ae},g.prototype.setWidth=function(Ae){(this||be).width=Math.max(0,Ae),(this||be).element.style.width=(this||be).width+"px",(this||be).slideWidth=(this||be).width,(this||be).viewWidth=(this||be).width,this.setScrollWidth((this||be).pageWidth,!0)},g.prototype.setScrollWidth=function(Ae,we){((this||be).pageWidth!==Ae||we)&&((this||be).pageWidth=Ae,(this||be).thumbWidth=(this||be).slideWidth*(this||be).viewWidth/(this||be).pageWidth,(this||be).thumbWidth>(this||be).slideWidth&&((this||be).thumbWidth=(this||be).slideWidth),(this||be).thumbWidth<15&&((this||be).thumbWidth=15),(this||be).inner.style.width=(this||be).thumbWidth+"px",(this||be).scrollLeft>(this||be).pageWidth-(this||be).viewWidth)&&((this||be).scrollLeft=(this||be).pageWidth-(this||be).viewWidth,(this||be).scrollLeft<0&&((this||be).scrollLeft=0),this._emit("scroll",{data:(this||be).scrollLeft}))},g.prototype.setScrollLeft=function(Ae){(this||be).scrollLeft=Ae,(this||be).thumbLeft=(Ae=Ae<0?0:Ae)*((this||be).slideWidth-(this||be).thumbWidth)/((this||be).pageWidth-(this||be).viewWidth),(this||be).inner.style.left=(this||be).thumbLeft+"px"};var Le;Ae=g;function g(Ae,we){Ae=Le.call(this||be,Ae,"-h")||this||be;return Ae.scrollLeft=0,Ae.scrollWidth=0,Ae.height=Ae.HScrollHeight,Ae.inner.style.height=Ae.element.style.height=(Ae.height||12)+"px",Ae.renderer=we,Ae}Ae.prototype.setInnerWidth=Ae.prototype.setScrollWidth,we.ScrollBar=Te,we.ScrollBarV=Te,we.ScrollBarH=Ae,we.VScrollBar=Te,we.HScrollBar=Ae})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(Ae,we,xe){var Se=Ae("./lib/event");function o(Ae,we){(this||be).onRender=Ae,(this||be).pending=!1,(this||be).changes=0,(this||be).$recursionLimit=2,(this||be).window=we||window;var xe=this||be;(this||be)._flush=function(be){xe.pending=!1;var Ae=xe.changes;Ae&&(Se.blockIdle(100),xe.changes=0,xe.onRender(Ae)),xe.changes?xe.$recursionLimit--<0||xe.schedule():xe.$recursionLimit=2}}o.prototype.schedule=function(Ae){(this||be).changes=(this||be).changes|Ae,(this||be).changes&&!(this||be).pending&&(Se.nextFrame((this||be)._flush),(this||be).pending=!0)},o.prototype.clear=function(Ae){var we=(this||be).changes;return(this||be).changes=0,we},we.RenderLoop=o})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(Ae,we,xe){var Se=Ae("../lib/oop"),ke=Ae("../lib/dom"),Te=Ae("../lib/lang"),Ee=Ae("../lib/event"),Re=Ae("../lib/useragent"),_e=(Ae=Ae("../lib/event_emitter").EventEmitter,"function"==typeof ResizeObserver),$e=(h.prototype.$setMeasureNodeStyles=function(be,Ae){be.width=be.height="auto",be.left=be.top="0px",be.visibility="hidden",be.position="absolute",be.whiteSpace="pre",Re.isIE<8?be["font-family"]="inherit":be.font="inherit",be.overflow=Ae?"hidden":"visible"},h.prototype.checkForSizeChanges=function(Ae){var we;!(Ae=void 0===Ae?this.$measureSizes():Ae)||(this||be).$characterSize.width===Ae.width&&(this||be).$characterSize.height===Ae.height||((this||be).$measureNode.style.fontWeight="bold",we=this.$measureSizes(),(this||be).$measureNode.style.fontWeight="",(this||be).$characterSize=Ae,(this||be).charSizes=Object.create(null),(this||be).allowBoldFonts=we&&we.width===Ae.width&&we.height===Ae.height,this._emit("changeCharacterSize",{data:Ae}))},h.prototype.$addObserver=function(){var Ae=this||be;(this||be).$observer=new window.ResizeObserver((function(be){Ae.checkForSizeChanges()})),(this||be).$observer.observe((this||be).$measureNode)},h.prototype.$pollSizeChanges=function(){var Ae;return(this||be).$pollSizeChangesTimer||(this||be).$observer?(this||be).$pollSizeChangesTimer:(Ae=this||be).$pollSizeChangesTimer=Ee.onIdle((function e(){Ae.checkForSizeChanges(),Ee.onIdle(e,500)}),500)},h.prototype.setPolling=function(Ae){Ae?this.$pollSizeChanges():(this||be).$pollSizeChangesTimer&&(clearInterval((this||be).$pollSizeChangesTimer),(this||be).$pollSizeChangesTimer=0)},h.prototype.$measureSizes=function(Ae){Ae={height:(Ae||(this||be).$measureNode).clientHeight,width:(Ae||(this||be).$measureNode).clientWidth/512};return 0===Ae.width||0===Ae.height?null:Ae},h.prototype.$measureCharWidth=function(Ae){return(this||be).$main.textContent=Te.stringRepeat(Ae,512),(this||be).$main.getBoundingClientRect().width/512},h.prototype.getCharacterWidth=function(Ae){var we=(this||be).charSizes[Ae];return void 0===we?(this||be).charSizes[Ae]=this.$measureCharWidth(Ae)/(this||be).$characterSize.width:we},h.prototype.destroy=function(){clearInterval((this||be).$pollSizeChangesTimer),(this||be).$observer&&(this||be).$observer.disconnect(),(this||be).el&&(this||be).el.parentNode&&(this||be).el.parentNode.removeChild((this||be).el)},h.prototype.$getZoom=function(be){return be&&be.parentElement?(window.getComputedStyle(be).zoom||1)*this.$getZoom(be.parentElement):1},h.prototype.$initTransformMeasureNodes=function(){function e(be,Ae){return["div",{style:"position: absolute;top:"+be+"px;left:"+Ae+"px;"}]}(this||be).els=ke.buildDom([e(0,0),e(200,0),e(0,200),e(200,200)],(this||be).el)},h.prototype.transformCoordinates=function(Ae,we){function n(be,Ae,we){var xe=be[1]*Ae[0]-be[0]*Ae[1];return[(-Ae[1]*we[0]+Ae[0]*we[1])/xe,(+be[1]*we[0]-be[0]*we[1])/xe]}function i(be,Ae){return[be[0]-Ae[0],be[1]-Ae[1]]}function o(be,Ae){return[be[0]+Ae[0],be[1]+Ae[1]]}function r(be,Ae){return[be*Ae[0],be*Ae[1]]}function s(be){be=be.getBoundingClientRect();return[be.left,be.top]}Ae=Ae&&r(1/this.$getZoom((this||be).el),Ae),(this||be).els||this.$initTransformMeasureNodes();var xe,Se=s((this||be).els[0]),ke=s((this||be).els[1]),Te=s((this||be).els[2]),Ee=s((this||be).els[3]);Ee=n(i(Ee,ke),i(Ee,Te),i(o(ke,Te),o(Ee,Se))),ke=r(1+Ee[0],i(ke,Se)),Te=r(1+Ee[1],i(Te,Se));return we?(xe=Ee[0]*we[0]/200+Ee[1]*we[1]/200+1,we=o(r(we[0],ke),r(we[1],Te)),o(r(1/xe/200,we),Se)):(xe=i(Ae,Se),we=n(i(ke,r(Ee[0],xe)),i(Te,r(Ee[1],xe)),xe),r(200,we))},h);function h(Ae){(this||be).el=ke.createElement("div"),this.$setMeasureNodeStyles((this||be).el.style,!0),(this||be).$main=ke.createElement("div"),this.$setMeasureNodeStyles((this||be).$main.style),(this||be).$measureNode=ke.createElement("div"),this.$setMeasureNodeStyles((this||be).$measureNode.style),(this||be).el.appendChild((this||be).$main),(this||be).el.appendChild((this||be).$measureNode),Ae.appendChild((this||be).el),(this||be).$measureNode.textContent=Te.stringRepeat("X",512),(this||be).$characterSize={width:0,height:0},_e?this.$addObserver():this.checkForSizeChanges()}$e.prototype.$characterSize={width:0,height:0},Se.implement($e.prototype,Ae),we.FontMetrics=$e})),ace.define("ace/css/editor-css",["require","exports","module"],(function(be,Ae,we){we.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(Ae,we,xe){var Se=Ae("../lib/dom"),ke=Ae("../lib/oop"),Te=(Ae=Ae("../lib/event_emitter").EventEmitter,s.prototype.$updateDecorators=function(Ae){var we=!0===(this||be).renderer.theme.isDark?(this||be).colors.dark:(this||be).colors.light,xe=(Ae&&((this||be).maxHeight=Ae.maxHeight,(this||be).lineHeight=Ae.lineHeight,(this||be).canvasHeight=Ae.height,(Ae.lastRow+1)*(this||be).lineHeight<(this||be).canvasHeight?(this||be).heightRatio=1:(this||be).heightRatio=(this||be).canvasHeight/(this||be).maxHeight),(this||be).canvas.getContext("2d"));var Se=(this||be).renderer.session.$annotations;if(xe.clearRect(0,0,(this||be).canvas.width,(this||be).canvas.height),Se)for(var ke={info:1,warning:2,error:3},Te=(Se.forEach((function(be){be.priority=ke[be.type]||null})),Se=Se.sort((function(be,Ae){return be.priority<Ae.priority?-1:be.priority>Ae.priority?1:0})),(this||be).renderer.session.$foldData),Ee=0;Ee<Se.length;Ee++){var Re,_e=Se[Ee].row,$e=this.compensateFoldRows(_e,Te),Le=Math.round((_e-$e)*(this||be).lineHeight*(this||be).heightRatio),Ne=Math.round((_e-$e)*(this||be).lineHeight*(this||be).heightRatio);_e=Math.round(((_e-$e)*(this||be).lineHeight+(this||be).lineHeight)*(this||be).heightRatio);_e-Ne<(this||be).minDecorationHeight&&((Re=(Ne+_e)/2|0)<(this||be).halfMinDecorationHeight?Re=(this||be).halfMinDecorationHeight:Re+(this||be).halfMinDecorationHeight>(this||be).canvasHeight&&(Re=(this||be).canvasHeight-(this||be).halfMinDecorationHeight),Ne=Math.round(Re-(this||be).halfMinDecorationHeight),_e=Math.round(Re+(this||be).halfMinDecorationHeight)),xe.fillStyle=we[Se[Ee].type]||null,xe.fillRect(0,Le,(this||be).canvasWidth,_e-Ne)}Ae=(this||be).renderer.session.selection.getCursor();Ae&&($e=this.compensateFoldRows(Ae.row,Te),Le=Math.round((Ae.row-$e)*(this||be).lineHeight*(this||be).heightRatio),xe.fillStyle="rgba(0, 0, 0, 0.5)",xe.fillRect(0,Le,(this||be).canvasWidth,2))},s.prototype.compensateFoldRows=function(be,Ae){var we=0;if(Ae&&0<Ae.length)for(var xe=0;xe<Ae.length;xe++)be>Ae[xe].start.row&&be<Ae[xe].end.row?we+=be-Ae[xe].start.row:be>=Ae[xe].end.row&&(we+=Ae[xe].end.row-Ae[xe].start.row);return we},s);function s(Ae,we){(this||be).canvas=Se.createElement("canvas"),(this||be).renderer=we,(this||be).pixelRatio=1,(this||be).maxHeight=we.layerConfig.maxHeight,(this||be).lineHeight=we.layerConfig.lineHeight,(this||be).canvasHeight=Ae.parent.scrollHeight,(this||be).heightRatio=(this||be).canvasHeight/(this||be).maxHeight,(this||be).canvasWidth=Ae.width,(this||be).minDecorationHeight=2*(this||be).pixelRatio|0,(this||be).halfMinDecorationHeight=(this||be).minDecorationHeight/2|0,(this||be).canvas.width=(this||be).canvasWidth,(this||be).canvas.height=(this||be).canvasHeight,(this||be).canvas.style.top="0px",(this||be).canvas.style.right="0px",(this||be).canvas.style.zIndex="7px",(this||be).canvas.style.position="absolute",(this||be).colors={},(this||be).colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},(this||be).colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},Ae.element.appendChild((this||be).canvas)}ke.implement(Te.prototype,Ae),we.Decorator=Te})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],(function(Ae,we,xe){var Se=Ae("./lib/oop"),ke=Ae("./lib/dom"),Te=Ae("./lib/lang"),Ee=Ae("./config"),Re=Ae("./layer/gutter").Gutter,_e=Ae("./layer/marker").Marker,$e=Ae("./layer/text").Text,Le=Ae("./layer/cursor").Cursor,Ne=Ae("./scrollbar").HScrollBar,Me=Ae("./scrollbar").VScrollBar,Be=Ae("./scrollbar_custom").HScrollBar,We=Ae("./scrollbar_custom").VScrollBar,Pe=Ae("./renderloop").RenderLoop,He=Ae("./layer/font_metrics").FontMetrics,Ge=Ae("./lib/event_emitter").EventEmitter,Fe=Ae("./css/editor-css"),Oe=Ae("./layer/decorators").Decorator,Ve=Ae("./lib/useragent");Ae=(ke.importCssString(Fe,"ace_editor.css",!1),b.prototype.updateCharacterSize=function(){(this||be).$textLayer.allowBoldFonts!=(this||be).$allowBoldFonts&&((this||be).$allowBoldFonts=(this||be).$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!(this||be).$allowBoldFonts)),(this||be).layerConfig.characterWidth=(this||be).characterWidth=(this||be).$textLayer.getCharacterWidth(),(this||be).layerConfig.lineHeight=(this||be).lineHeight=(this||be).$textLayer.getLineHeight(),this.$updatePrintMargin(),ke.setStyle((this||be).scroller.style,"line-height",(this||be).lineHeight+"px")},b.prototype.setSession=function(Ae){(this||be).session&&(this||be).session.doc.off("changeNewLineMode",(this||be).onChangeNewLineMode),((this||be).session=Ae)&&(this||be).scrollMargin.top&&Ae.getScrollTop()<=0&&Ae.setScrollTop(-(this||be).scrollMargin.top),(this||be).$cursorLayer.setSession(Ae),(this||be).$markerBack.setSession(Ae),(this||be).$markerFront.setSession(Ae),(this||be).$gutterLayer.setSession(Ae),(this||be).$textLayer.setSession(Ae),Ae&&((this||be).$loop.schedule((this||be).CHANGE_FULL),(this||be).session.$setFontMetrics((this||be).$fontMetrics),(this||be).scrollBarH.scrollLeft=(this||be).scrollBarV.scrollTop=null,(this||be).onChangeNewLineMode=(this||be).onChangeNewLineMode.bind(this||be),this.onChangeNewLineMode(),(this||be).session.doc.on("changeNewLineMode",(this||be).onChangeNewLineMode))},b.prototype.updateLines=function(Ae,we,xe){if(void 0===we&&(we=1/0),(this||be).$changedLines?((this||be).$changedLines.firstRow>Ae&&((this||be).$changedLines.firstRow=Ae),(this||be).$changedLines.lastRow<we&&((this||be).$changedLines.lastRow=we)):(this||be).$changedLines={firstRow:Ae,lastRow:we},(this||be).$changedLines.lastRow<(this||be).layerConfig.firstRow){if(!xe)return;(this||be).$changedLines.lastRow=(this||be).layerConfig.lastRow}(this||be).$changedLines.firstRow>(this||be).layerConfig.lastRow||(this||be).$loop.schedule((this||be).CHANGE_LINES)},b.prototype.onChangeNewLineMode=function(){(this||be).$loop.schedule((this||be).CHANGE_TEXT),(this||be).$textLayer.$updateEolChar(),(this||be).session.$bidiHandler.setEolChar((this||be).$textLayer.EOL_CHAR)},b.prototype.onChangeTabSize=function(){(this||be).$loop.schedule((this||be).CHANGE_TEXT|(this||be).CHANGE_MARKER),(this||be).$textLayer.onChangeTabSize()},b.prototype.updateText=function(){(this||be).$loop.schedule((this||be).CHANGE_TEXT)},b.prototype.updateFull=function(Ae){Ae?this.$renderChanges((this||be).CHANGE_FULL,!0):(this||be).$loop.schedule((this||be).CHANGE_FULL)},b.prototype.updateFontSize=function(){(this||be).$textLayer.checkForSizeChanges()},b.prototype.$updateSizeAsync=function(){(this||be).$loop.pending?(this||be).$size.$dirty=!0:this.onResize()},b.prototype.onResize=function(Ae,we,xe,Se){if(!(2<(this||be).resizing)){0<(this||be).resizing?(this||be).resizing++:(this||be).resizing=Ae?1:0;var ke=(this||be).container;ke=(Se=Se||ke.clientHeight||ke.scrollHeight,xe=xe||ke.clientWidth||ke.scrollWidth,this.$updateCachedSize(Ae,we,xe,Se));if((this||be).$resizeTimer&&(this||be).$resizeTimer.cancel(),!(this||be).$size.scrollerHeight||!xe&&!Se)return(this||be).resizing=0;Ae&&((this||be).$gutterLayer.$padding=null),Ae?this.$renderChanges(ke|(this||be).$changes,!0):(this||be).$loop.schedule(ke|(this||be).$changes),(this||be).resizing&&((this||be).resizing=0),(this||be).scrollBarH.scrollLeft=(this||be).scrollBarV.scrollTop=null,(this||be).$customScrollbar&&this.$updateCustomScrollbar(!0)}},b.prototype.$updateCachedSize=function(Ae,we,xe,Se){Se-=(this||be).$extraHeight||0;var Te=0,Ee=(this||be).$size,Re={width:Ee.width,height:Ee.height,scrollerHeight:Ee.scrollerHeight,scrollerWidth:Ee.scrollerWidth};return Se&&(Ae||Ee.height!=Se)&&(Ee.height=Se,Te|=(this||be).CHANGE_SIZE,Ee.scrollerHeight=Ee.height,(this||be).$horizScroll&&(Ee.scrollerHeight-=(this||be).scrollBarH.getHeight()),(this||be).scrollBarV.setHeight(Ee.scrollerHeight),(this||be).scrollBarV.element.style.bottom=(this||be).scrollBarH.getHeight()+"px",Te|=(this||be).CHANGE_SCROLL),xe&&(Ae||Ee.width!=xe)&&(Te|=(this||be).CHANGE_SIZE,Ee.width=xe,null==we&&(we=(this||be).$showGutter?(this||be).$gutter.offsetWidth:0),(this||be).gutterWidth=we,ke.setStyle((this||be).scrollBarH.element.style,"left",we+"px"),ke.setStyle((this||be).scroller.style,"left",we+(this||be).margin.left+"px"),Ee.scrollerWidth=Math.max(0,xe-we-(this||be).scrollBarV.getWidth()-(this||be).margin.h),ke.setStyle((this||be).$gutter.style,"left",(this||be).margin.left+"px"),we=(this||be).scrollBarV.getWidth()+"px",ke.setStyle((this||be).scrollBarH.element.style,"right",we),ke.setStyle((this||be).scroller.style,"right",we),ke.setStyle((this||be).scroller.style,"bottom",(this||be).scrollBarH.getHeight()),(this||be).scrollBarH.setWidth(Ee.scrollerWidth),(this||be).session&&(this||be).session.getUseWrapMode()&&this.adjustWrapLimit()||Ae)&&(Te|=(this||be).CHANGE_FULL),Ee.$dirty=!xe||!Se,Te&&this._signal("resize",Re),Te},b.prototype.onGutterResize=function(Ae){Ae=(this||be).$showGutter?Ae:0;Ae!=(this||be).gutterWidth&&((this||be).$changes|=this.$updateCachedSize(!0,Ae,(this||be).$size.width,(this||be).$size.height)),(this||be).session.getUseWrapMode()&&this.adjustWrapLimit()||(this||be).$size.$dirty?(this||be).$loop.schedule((this||be).CHANGE_FULL):this.$computeLayerConfig()},b.prototype.adjustWrapLimit=function(){var Ae=(this||be).$size.scrollerWidth-2*(this||be).$padding;Ae=Math.floor(Ae/(this||be).characterWidth);return(this||be).session.adjustWrapLimit(Ae,(this||be).$showPrintMargin&&(this||be).$printMarginColumn)},b.prototype.setAnimatedScroll=function(be){this.setOption("animatedScroll",be)},b.prototype.getAnimatedScroll=function(){return(this||be).$animatedScroll},b.prototype.setShowInvisibles=function(Ae){this.setOption("showInvisibles",Ae),(this||be).session.$bidiHandler.setShowInvisibles(Ae)},b.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},b.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},b.prototype.setDisplayIndentGuides=function(be){this.setOption("displayIndentGuides",be)},b.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},b.prototype.setHighlightIndentGuides=function(be){this.setOption("highlightIndentGuides",be)},b.prototype.setShowPrintMargin=function(be){this.setOption("showPrintMargin",be)},b.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},b.prototype.setPrintMarginColumn=function(be){this.setOption("printMarginColumn",be)},b.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},b.prototype.getShowGutter=function(){return this.getOption("showGutter")},b.prototype.setShowGutter=function(be){return this.setOption("showGutter",be)},b.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},b.prototype.setFadeFoldWidgets=function(be){this.setOption("fadeFoldWidgets",be)},b.prototype.setHighlightGutterLine=function(be){this.setOption("highlightGutterLine",be)},b.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},b.prototype.$updatePrintMargin=function(){var Ae;((this||be).$showPrintMargin||(this||be).$printMarginEl)&&((this||be).$printMarginEl||((Ae=ke.createElement("div")).className="ace_layer ace_print-margin-layer",(this||be).$printMarginEl=ke.createElement("div"),(this||be).$printMarginEl.className="ace_print-margin",Ae.appendChild((this||be).$printMarginEl),(this||be).content.insertBefore(Ae,(this||be).content.firstChild)),(Ae=(this||be).$printMarginEl.style).left=Math.round((this||be).characterWidth*(this||be).$printMarginColumn+(this||be).$padding)+"px",Ae.visibility=(this||be).$showPrintMargin?"visible":"hidden",(this||be).session)&&-1==(this||be).session.$wrap&&this.adjustWrapLimit()},b.prototype.getContainerElement=function(){return(this||be).container},b.prototype.getMouseEventTarget=function(){return(this||be).scroller},b.prototype.getTextAreaContainer=function(){return(this||be).container},b.prototype.$moveTextAreaToCursor=function(){var Ae,we,xe,Se,Te,Ee,Re;(this||be).$isMousePressed||(Ae=(this||be).textarea.style,Ee=(this||be).$composition,(this||be).$keepTextAreaAtCursor||Ee?(xe=(this||be).$cursorLayer.$pixelPos)&&(Ee&&Ee.markerRange&&(xe=(this||be).$cursorLayer.getPixelPosition(Ee.markerRange.start,!0)),Re=(this||be).layerConfig,we=xe.top,xe=xe.left,we-=Re.offset,Se=Ee&&Ee.useTextareaForIME||Ve.isMobile?(this||be).lineHeight:1,we<0||we>Re.height-Se?ke.translate((this||be).textarea,0,0):(Re=1,Te=(this||be).$size.height-Se,Ee?Ee.useTextareaForIME?(Ee=(this||be).textarea.value,Re=(this||be).characterWidth*(this||be).session.$getStringScreenWidth(Ee)[0]):we+=(this||be).lineHeight+2:we+=(this||be).lineHeight,(xe-=(this||be).scrollLeft)>(this||be).$size.scrollerWidth-Re&&(xe=(this||be).$size.scrollerWidth-Re),xe+=(this||be).gutterWidth+(this||be).margin.left,ke.setStyle(Ae,"height",Se+"px"),ke.setStyle(Ae,"width",Re+"px"),ke.translate((this||be).textarea,Math.min(xe,(this||be).$size.scrollerWidth-Re),Math.min(we,Te)))):ke.translate((this||be).textarea,-100,0))},b.prototype.getFirstVisibleRow=function(){return(this||be).layerConfig.firstRow},b.prototype.getFirstFullyVisibleRow=function(){return(this||be).layerConfig.firstRow+(0===(this||be).layerConfig.offset?0:1)},b.prototype.getLastFullyVisibleRow=function(){var Ae=(this||be).layerConfig,we=Ae.lastRow;return(this||be).session.documentToScreenRow(we,0)*Ae.lineHeight-(this||be).session.getScrollTop()>Ae.height-Ae.lineHeight?we-1:we},b.prototype.getLastVisibleRow=function(){return(this||be).layerConfig.lastRow},b.prototype.setPadding=function(Ae){(this||be).$padding=Ae,(this||be).$textLayer.setPadding(Ae),(this||be).$cursorLayer.setPadding(Ae),(this||be).$markerFront.setPadding(Ae),(this||be).$markerBack.setPadding(Ae),(this||be).$loop.schedule((this||be).CHANGE_FULL),this.$updatePrintMargin()},b.prototype.setScrollMargin=function(Ae,we,xe,Se){var ke=(this||be).scrollMargin;ke.top=0|Ae,ke.bottom=0|we,ke.right=0|Se,ke.left=0|xe,ke.v=ke.top+ke.bottom,ke.h=ke.left+ke.right,ke.top&&(this||be).scrollTop<=0&&(this||be).session&&(this||be).session.setScrollTop(-ke.top),this.updateFull()},b.prototype.setMargin=function(Ae,we,xe,Se){var ke=(this||be).margin;ke.top=0|Ae,ke.bottom=0|we,ke.right=0|Se,ke.left=0|xe,ke.v=ke.top+ke.bottom,ke.h=ke.left+ke.right,this.$updateCachedSize(!0,(this||be).gutterWidth,(this||be).$size.width,(this||be).$size.height),this.updateFull()},b.prototype.getHScrollBarAlwaysVisible=function(){return(this||be).$hScrollBarAlwaysVisible},b.prototype.setHScrollBarAlwaysVisible=function(be){this.setOption("hScrollBarAlwaysVisible",be)},b.prototype.getVScrollBarAlwaysVisible=function(){return(this||be).$vScrollBarAlwaysVisible},b.prototype.setVScrollBarAlwaysVisible=function(be){this.setOption("vScrollBarAlwaysVisible",be)},b.prototype.$updateScrollBarV=function(){var Ae=(this||be).layerConfig.maxHeight,we=(this||be).$size.scrollerHeight;!(this||be).$maxLines&&(this||be).$scrollPastEnd&&(Ae-=(we-(this||be).lineHeight)*(this||be).$scrollPastEnd,(this||be).scrollTop>Ae-we)&&(Ae=(this||be).scrollTop+we,(this||be).scrollBarV.scrollTop=null),(this||be).scrollBarV.setScrollHeight(Ae+(this||be).scrollMargin.v),(this||be).scrollBarV.setScrollTop((this||be).scrollTop+(this||be).scrollMargin.top)},b.prototype.$updateScrollBarH=function(){(this||be).scrollBarH.setScrollWidth((this||be).layerConfig.width+2*(this||be).$padding+(this||be).scrollMargin.h),(this||be).scrollBarH.setScrollLeft((this||be).scrollLeft+(this||be).scrollMargin.left)},b.prototype.freeze=function(){(this||be).$frozen=!0},b.prototype.unfreeze=function(){(this||be).$frozen=!1},b.prototype.$renderChanges=function(Ae,we){if((this||be).$changes&&(Ae|=(this||be).$changes,(this||be).$changes=0),(this||be).session&&(this||be).container.offsetWidth&&!(this||be).$frozen&&(Ae||we)){if((this||be).$size.$dirty)return(this||be).$changes|=Ae,this.onResize(!0);(this||be).lineHeight||(this||be).$textLayer.checkForSizeChanges(),this._signal("beforeRender",Ae),(this||be).session&&(this||be).session.$bidiHandler&&(this||be).session.$bidiHandler.updateCharacterWidths((this||be).$fontMetrics);var xe,Se;we=(this||be).layerConfig;(Ae&(this||be).CHANGE_FULL||Ae&(this||be).CHANGE_SIZE||Ae&(this||be).CHANGE_TEXT||Ae&(this||be).CHANGE_LINES||Ae&(this||be).CHANGE_SCROLL||Ae&(this||be).CHANGE_H_SCROLL)&&(Ae|=this.$computeLayerConfig()|(this||be).$loop.clear(),we.firstRow!=(this||be).layerConfig.firstRow&&we.firstRowScreen==(this||be).layerConfig.firstRowScreen&&0<(xe=(this||be).scrollTop+(we.firstRow-Math.max((this||be).layerConfig.firstRow,0))*(this||be).lineHeight)&&((this||be).scrollTop=xe,Ae=(Ae|=(this||be).CHANGE_SCROLL)|this.$computeLayerConfig()|(this||be).$loop.clear()),we=(this||be).layerConfig,this.$updateScrollBarV(),Ae&(this||be).CHANGE_H_SCROLL&&this.$updateScrollBarH(),ke.translate((this||be).content,-(this||be).scrollLeft,-we.offset),xe=we.width+2*(this||be).$padding+"px",Se=we.minHeight+"px",ke.setStyle((this||be).content.style,"width",xe),ke.setStyle((this||be).content.style,"height",Se)),Ae&(this||be).CHANGE_H_SCROLL&&(ke.translate((this||be).content,-(this||be).scrollLeft,-we.offset),(this||be).scroller.className=(this||be).scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",(this||be).enableKeyboardAccessibility)&&((this||be).scroller.className+=(this||be).keyboardFocusClassName),Ae&(this||be).CHANGE_FULL?((this||be).$changedLines=null,(this||be).$textLayer.update(we),(this||be).$showGutter&&(this||be).$gutterLayer.update(we),(this||be).$customScrollbar&&(this||be).$scrollDecorator.$updateDecorators(we),(this||be).$markerBack.update(we),(this||be).$markerFront.update(we),(this||be).$cursorLayer.update(we),this.$moveTextAreaToCursor()):Ae&(this||be).CHANGE_SCROLL?((this||be).$changedLines=null,Ae&(this||be).CHANGE_TEXT||Ae&(this||be).CHANGE_LINES?(this||be).$textLayer.update(we):(this||be).$textLayer.scrollLines(we),(this||be).$showGutter&&(Ae&(this||be).CHANGE_GUTTER||Ae&(this||be).CHANGE_LINES?(this||be).$gutterLayer.update(we):(this||be).$gutterLayer.scrollLines(we)),(this||be).$customScrollbar&&(this||be).$scrollDecorator.$updateDecorators(we),(this||be).$markerBack.update(we),(this||be).$markerFront.update(we),(this||be).$cursorLayer.update(we),this.$moveTextAreaToCursor()):(Ae&(this||be).CHANGE_TEXT?((this||be).$changedLines=null,(this||be).$textLayer.update(we),(this||be).$showGutter&&(this||be).$gutterLayer.update(we),(this||be).$customScrollbar&&(this||be).$scrollDecorator.$updateDecorators(we)):Ae&(this||be).CHANGE_LINES?((this.$updateLines()||Ae&(this||be).CHANGE_GUTTER&&(this||be).$showGutter)&&(this||be).$gutterLayer.update(we),(this||be).$customScrollbar&&(this||be).$scrollDecorator.$updateDecorators(we)):Ae&(this||be).CHANGE_TEXT||Ae&(this||be).CHANGE_GUTTER?((this||be).$showGutter&&(this||be).$gutterLayer.update(we),(this||be).$customScrollbar&&(this||be).$scrollDecorator.$updateDecorators(we)):Ae&(this||be).CHANGE_CURSOR&&((this||be).$highlightGutterLine&&(this||be).$gutterLayer.updateLineHighlight(we),(this||be).$customScrollbar)&&(this||be).$scrollDecorator.$updateDecorators(we),Ae&(this||be).CHANGE_CURSOR&&((this||be).$cursorLayer.update(we),this.$moveTextAreaToCursor()),Ae&((this||be).CHANGE_MARKER|(this||be).CHANGE_MARKER_FRONT)&&(this||be).$markerFront.update(we),Ae&((this||be).CHANGE_MARKER|(this||be).CHANGE_MARKER_BACK)&&(this||be).$markerBack.update(we)),this._signal("afterRender",Ae)}else(this||be).$changes|=Ae},b.prototype.$autosize=function(){var Ae=(this||be).session.getScreenLength()*(this||be).lineHeight,we=(this||be).$maxLines*(this||be).lineHeight,xe=Math.min(we,Math.max(((this||be).$minLines||1)*(this||be).lineHeight,Ae))+(this||be).scrollMargin.v+((this||be).$extraHeight||0);(this||be).$horizScroll&&(xe+=(this||be).scrollBarH.getHeight());we=!((xe=(this||be).$maxPixelHeight&&xe>(this||be).$maxPixelHeight?(this||be).$maxPixelHeight:xe)<=2*(this||be).lineHeight)&&we<Ae;xe==(this||be).desiredHeight&&(this||be).$size.height==(this||be).desiredHeight&&we==(this||be).$vScroll||(we!=(this||be).$vScroll&&((this||be).$vScroll=we,(this||be).scrollBarV.setVisible(we)),Ae=(this||be).container.clientWidth,(this||be).container.style.height=xe+"px",this.$updateCachedSize(!0,(this||be).$gutterWidth,Ae,xe),(this||be).desiredHeight=xe,this._signal("autosize"))},b.prototype.$computeLayerConfig=function(){var Ae,we=(this||be).session,xe=(this||be).$size,Se=xe.height<=2*(this||be).lineHeight,ke=(this||be).session.getScreenLength()*(this||be).lineHeight,Te=this.$getLongestLine(),Ee=!Se&&((this||be).$hScrollBarAlwaysVisible||xe.scrollerWidth-Te-2*(this||be).$padding<0),Re=(this||be).$horizScroll!==Ee,_e=(Ee=(Re&&((this||be).$horizScroll=Ee,(this||be).scrollBarH.setVisible(Ee)),(this||be).$vScroll),(this||be).$maxLines&&1<(this||be).lineHeight&&this.$autosize(),xe.scrollerHeight+(this||be).lineHeight),$e=!(this||be).$maxLines&&(this||be).$scrollPastEnd?(xe.scrollerHeight-(this||be).lineHeight)*(this||be).$scrollPastEnd:0,Le=(ke+=$e,(this||be).scrollMargin),Ne=(Se=((this||be).session.setScrollTop(Math.max(-Le.top,Math.min((this||be).scrollTop,ke-xe.scrollerHeight+Le.bottom))),(this||be).session.setScrollLeft(Math.max(-Le.left,Math.min((this||be).scrollLeft,Te+2*(this||be).$padding-xe.scrollerWidth+Le.right))),!Se&&((this||be).$vScrollBarAlwaysVisible||xe.scrollerHeight-ke+$e<0||(this||be).scrollTop>Le.top)),$e=Ee!==Se,Le=($e&&((this||be).$vScroll=Se,(this||be).scrollBarV.setVisible(Se)),(this||be).scrollTop%(this||be).lineHeight),Ee=Math.ceil(_e/(this||be).lineHeight)-1,Ee=(Se=Math.max(0,Math.round(((this||be).scrollTop-Le)/(this||be).lineHeight)))+Ee,(this||be).lineHeight),Me=(Se=we.screenToDocumentRow(Se,0),we.getFoldLine(Se));we=(Me&&(Se=Me.start.row),Me=we.documentToScreenRow(Se,0),Ae=we.getRowLength(Se)*Ne,Ee=Math.min(we.screenToDocumentRow(Ee,0),we.getLength()-1),_e=xe.scrollerHeight+we.getRowLength(Ee)*Ne+Ae,Le=(this||be).scrollTop-Me*Ne,0);return(this||be).layerConfig.width==Te&&!Re||(we=(this||be).CHANGE_H_SCROLL),(Re||$e)&&(we|=this.$updateCachedSize(!0,(this||be).gutterWidth,xe.width,xe.height),this._signal("scrollbarVisibilityChanged"),$e)&&(Te=this.$getLongestLine()),(this||be).layerConfig={width:Te,padding:(this||be).$padding,firstRow:Se,firstRowScreen:Me,lastRow:Ee,lineHeight:Ne,characterWidth:(this||be).characterWidth,minHeight:_e,maxHeight:ke,offset:Le,gutterOffset:Ne?Math.max(0,Math.ceil((Le+xe.height-xe.scrollerHeight)/Ne)):0,height:(this||be).$size.scrollerHeight},(this||be).session.$bidiHandler&&(this||be).session.$bidiHandler.setContentWidth(Te-(this||be).$padding),we},b.prototype.$updateLines=function(){if((this||be).$changedLines){var Ae=(this||be).$changedLines.firstRow,we=(this||be).$changedLines.lastRow,xe=((this||be).$changedLines=null,(this||be).layerConfig);if(!(Ae>xe.lastRow+1||we<xe.firstRow)){if(we!==1/0)return(this||be).$textLayer.updateLines(xe,Ae,we),!0;(this||be).$showGutter&&(this||be).$gutterLayer.update(xe),(this||be).$textLayer.update(xe)}}},b.prototype.$getLongestLine=function(){var Ae=(this||be).session.getScreenWidth();return(this||be).showInvisibles&&!(this||be).session.$useWrapMode&&(Ae+=1),(this||be).$textLayer&&Ae>(this||be).$textLayer.MAX_LINE_LENGTH&&(Ae=(this||be).$textLayer.MAX_LINE_LENGTH+30),Math.max((this||be).$size.scrollerWidth-2*(this||be).$padding,Math.round(Ae*(this||be).characterWidth))},b.prototype.updateFrontMarkers=function(){(this||be).$markerFront.setMarkers((this||be).session.getMarkers(!0)),(this||be).$loop.schedule((this||be).CHANGE_MARKER_FRONT)},b.prototype.updateBackMarkers=function(){(this||be).$markerBack.setMarkers((this||be).session.getMarkers()),(this||be).$loop.schedule((this||be).CHANGE_MARKER_BACK)},b.prototype.addGutterDecoration=function(Ae,we){(this||be).$gutterLayer.addGutterDecoration(Ae,we)},b.prototype.removeGutterDecoration=function(Ae,we){(this||be).$gutterLayer.removeGutterDecoration(Ae,we)},b.prototype.updateBreakpoints=function(Ae){(this||be)._rows=Ae,(this||be).$loop.schedule((this||be).CHANGE_GUTTER)},b.prototype.setAnnotations=function(Ae){(this||be).$gutterLayer.setAnnotations(Ae),(this||be).$loop.schedule((this||be).CHANGE_GUTTER)},b.prototype.updateCursor=function(){(this||be).$loop.schedule((this||be).CHANGE_CURSOR)},b.prototype.hideCursor=function(){(this||be).$cursorLayer.hideCursor()},b.prototype.showCursor=function(){(this||be).$cursorLayer.showCursor()},b.prototype.scrollSelectionIntoView=function(be,Ae,we){this.scrollCursorIntoView(be,we),this.scrollCursorIntoView(Ae,we)},b.prototype.scrollCursorIntoView=function(Ae,we,xe){var Se,ke,Te;0!==(this||be).$size.scrollerHeight&&(Se=(Ae=(this||be).$cursorLayer.getPixelPosition(Ae)).left,Ae=Ae.top,ke=xe&&xe.top||0,xe=xe&&xe.bottom||0,(this||be).$scrollAnimation&&((this||be).$stopAnimation=!0),Ae<(Te=(this||be).$scrollAnimation?(this||be).session.getScrollTop():(this||be).scrollTop)+ke?(we&&Te+ke>Ae+(this||be).lineHeight&&(Ae-=we*(this||be).$size.scrollerHeight),0===Ae&&(Ae=-(this||be).scrollMargin.top),(this||be).session.setScrollTop(Ae)):Te+(this||be).$size.scrollerHeight-xe<Ae+(this||be).lineHeight&&(we&&Te+(this||be).$size.scrollerHeight-xe<Ae-(this||be).lineHeight&&(Ae+=we*(this||be).$size.scrollerHeight),(this||be).session.setScrollTop(Ae+(this||be).lineHeight+xe-(this||be).$size.scrollerHeight)),ke=(this||be).scrollLeft,Se-(Te=2*(this||be).layerConfig.characterWidth)<ke?((Se-=Te)<(this||be).$padding+Te&&(Se=-(this||be).scrollMargin.left),(this||be).session.setScrollLeft(Se)):ke+(this||be).$size.scrollerWidth<(Se+=Te)+(this||be).characterWidth?(this||be).session.setScrollLeft(Math.round(Se+(this||be).characterWidth-(this||be).$size.scrollerWidth)):ke<=(this||be).$padding&&Se-ke<(this||be).characterWidth&&(this||be).session.setScrollLeft(0))},b.prototype.getScrollTop=function(){return(this||be).session.getScrollTop()},b.prototype.getScrollLeft=function(){return(this||be).session.getScrollLeft()},b.prototype.getScrollTopRow=function(){return(this||be).scrollTop/(this||be).lineHeight},b.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor(((this||be).scrollTop+(this||be).$size.scrollerHeight)/(this||be).lineHeight)-1)},b.prototype.scrollToRow=function(Ae){(this||be).session.setScrollTop(Ae*(this||be).lineHeight)},b.prototype.alignCursor=function(Ae,we){Ae=(this||be).$cursorLayer.getPixelPosition(Ae="number"==typeof Ae?{row:Ae,column:0}:Ae);var xe=(this||be).$size.scrollerHeight-(this||be).lineHeight;Ae=Ae.top-xe*(we||0);return(this||be).session.setScrollTop(Ae),Ae},b.prototype.$calcSteps=function(Ae,we){var xe,Se,ke=0,Te=(this||be).STEPS,Ee=[];for(ke=0;ke<Te;++ke)Ee.push((xe=ke/(this||be).STEPS,(we-(Se=Ae))*(Math.pow(xe-1,3)+1)+Se));return Ee},b.prototype.scrollToLine=function(Ae,we,xe,Se){Ae=(this||be).$cursorLayer.getPixelPosition({row:Ae,column:0}).top,we&&(Ae-=(this||be).$size.scrollerHeight/2),we=(this||be).scrollTop;(this||be).session.setScrollTop(Ae),!1!==xe&&this.animateScrolling(we,Se)},b.prototype.animateScrolling=function(Ae,we){var xe=(this||be).scrollTop;if((this||be).$animatedScroll){var Se=this||be;if(Ae!=xe){if((this||be).$scrollAnimation){var ke=(this||be).$scrollAnimation.steps;if(ke.length&&(Ae=ke[0])==xe)return}var Te=Se.$calcSteps(Ae,xe);(this||be).$scrollAnimation={from:Ae,to:xe,steps:Te},clearInterval((this||be).$timer),Se.session.setScrollTop(Te.shift()),Se.session.$scrollTop=xe,(this||be).$timer=setInterval((function(){if(!Se.$stopAnimation)return Se.session?void(Te.length?(Se.session.setScrollTop(Te.shift()),Se.session.$scrollTop=xe):null!=xe?(Se.session.$scrollTop=-1,Se.session.setScrollTop(xe),xe=null):s()):clearInterval(Se.$timer);s()}),10)}}function s(){Se.$timer=clearInterval(Se.$timer),Se.$scrollAnimation=null,Se.$stopAnimation=!1,we&&we()}},b.prototype.scrollToY=function(Ae){(this||be).scrollTop!==Ae&&((this||be).$loop.schedule((this||be).CHANGE_SCROLL),(this||be).scrollTop=Ae)},b.prototype.scrollToX=function(Ae){(this||be).scrollLeft!==Ae&&((this||be).scrollLeft=Ae),(this||be).$loop.schedule((this||be).CHANGE_H_SCROLL)},b.prototype.scrollTo=function(Ae,we){(this||be).session.setScrollTop(we),(this||be).session.setScrollLeft(Ae)},b.prototype.scrollBy=function(Ae,we){we&&(this||be).session.setScrollTop((this||be).session.getScrollTop()+we),Ae&&(this||be).session.setScrollLeft((this||be).session.getScrollLeft()+Ae)},b.prototype.isScrollableBy=function(Ae,we){return we<0&&(this||be).session.getScrollTop()>=1-(this||be).scrollMargin.top||0<we&&(this||be).session.getScrollTop()+(this||be).$size.scrollerHeight-(this||be).layerConfig.maxHeight<-1+(this||be).scrollMargin.bottom||Ae<0&&(this||be).session.getScrollLeft()>=1-(this||be).scrollMargin.left||0<Ae&&(this||be).session.getScrollLeft()+(this||be).$size.scrollerWidth-(this||be).layerConfig.width<-1+(this||be).scrollMargin.right||void 0},b.prototype.pixelToScreenCoordinates=function(Ae,we){(this||be).$hasCssTransforms?(Se={top:0,left:0},Ae=(xe=(this||be).$fontMetrics.transformCoordinates([Ae,we]))[1]-(this||be).gutterWidth-(this||be).margin.left,we=xe[0]):Se=(this||be).scroller.getBoundingClientRect();var xe=Ae+(this||be).scrollLeft-Se.left-(this||be).$padding,Se=(Ae=xe/(this||be).characterWidth,we=Math.floor((we+(this||be).scrollTop-Se.top)/(this||be).lineHeight),(this||be).$blockCursor?Math.floor(Ae):Math.round(Ae));return{row:we,column:Se,side:0<Ae-Se?1:-1,offsetX:xe}},b.prototype.screenToTextCoordinates=function(Ae,we){(this||be).$hasCssTransforms?(xe={top:0,left:0},Ae=(Se=(this||be).$fontMetrics.transformCoordinates([Ae,we]))[1]-(this||be).gutterWidth-(this||be).margin.left,we=Se[0]):xe=(this||be).scroller.getBoundingClientRect();var xe,Se=Ae+(this||be).scrollLeft-xe.left-(this||be).$padding;Ae=Se/(this||be).characterWidth,Ae=(this||be).$blockCursor?Math.floor(Ae):Math.round(Ae),we=Math.floor((we+(this||be).scrollTop-xe.top)/(this||be).lineHeight);return(this||be).session.screenToDocumentPosition(we,Math.max(Ae,0),Se)},b.prototype.textToScreenCoordinates=function(Ae,we){var xe=(this||be).scroller.getBoundingClientRect();we=(this||be).session.documentToScreenPosition(Ae,we),Ae=(this||be).$padding+((this||be).session.$bidiHandler.isBidiRow(we.row,Ae)?(this||be).session.$bidiHandler.getPosLeft(we.column):Math.round(we.column*(this||be).characterWidth)),we=we.row*(this||be).lineHeight;return{pageX:xe.left+Ae-(this||be).scrollLeft,pageY:xe.top+we-(this||be).scrollTop}},b.prototype.visualizeFocus=function(){ke.addCssClass((this||be).container,"ace_focus")},b.prototype.visualizeBlur=function(){ke.removeCssClass((this||be).container,"ace_focus")},b.prototype.showComposition=function(Ae){((this||be).$composition=Ae).cssText||(Ae.cssText=(this||be).textarea.style.cssText),null==Ae.useTextareaForIME&&(Ae.useTextareaForIME=(this||be).$useTextareaForIME),(this||be).$useTextareaForIME?(ke.addCssClass((this||be).textarea,"ace_composition"),(this||be).textarea.style.cssText="",this.$moveTextAreaToCursor(),(this||be).$cursorLayer.element.style.display="none"):Ae.markerId=(this||be).session.addMarker(Ae.markerRange,"ace_composition_marker","text")},b.prototype.setCompositionText=function(Ae){var we=(this||be).session.selection.cursor;this.addToken(Ae,"composition_placeholder",we.row,we.column),this.$moveTextAreaToCursor()},b.prototype.hideComposition=function(){var Ae;(this||be).$composition&&((this||be).$composition.markerId&&(this||be).session.removeMarker((this||be).$composition.markerId),ke.removeCssClass((this||be).textarea,"ace_composition"),(this||be).textarea.style.cssText=(this||be).$composition.cssText,Ae=(this||be).session.selection.cursor,this.removeExtraToken(Ae.row,Ae.column),(this||be).$composition=null,(this||be).$cursorLayer.element.style.display="")},b.prototype.setGhostText=function(Ae,we){var xe,Se,ke=(this||be).session.selection.cursor;we=we||{row:ke.row,column:ke.column},ke=(this.removeGhostText(),Ae.split("\n"));this.addToken(ke[0],"ghost_text",we.row,we.column),(this||be).$ghostText={text:Ae,position:{row:we.row,column:we.column}},1<ke.length&&((this||be).$ghostTextWidget={text:ke.slice(1).join("\n"),row:we.row,column:we.column,className:"ace_ghost_text"},(this||be).session.widgetManager.addLineWidget((this||be).$ghostTextWidget),Ae=(this||be).$cursorLayer.getPixelPosition(we,!0),xe=(this||be).container.getBoundingClientRect().height,(Se=ke.length*(this||be).lineHeight)<xe-Ae.top||(Se<xe?this.scrollBy(0,(ke.length-1)*(this||be).lineHeight):this.scrollToRow(we.row)))},b.prototype.removeGhostText=function(){var Ae;(this||be).$ghostText&&(Ae=(this||be).$ghostText.position,this.removeExtraToken(Ae.row,Ae.column),(this||be).$ghostTextWidget&&((this||be).session.widgetManager.removeLineWidget((this||be).$ghostTextWidget),(this||be).$ghostTextWidget=null),(this||be).$ghostText=null)},b.prototype.addToken=function(Ae,we,xe,Se){var ke=(this||be).session,Te=(ke.bgTokenizer.lines[xe]=null,{type:we,value:Ae}),Ee=ke.getTokens(xe);if(null!=Se&&Ee.length)for(var Re=0,_e=0;_e<Ee.length;_e++){var $e=Ee[_e];if(Se<=(Re+=$e.value.length)){var Le=$e.value.length-(Re-Se),Ne=$e.value.slice(0,Le);Le=$e.value.slice(Le);Ee.splice(_e,1,{type:$e.type,value:Ne},Te,{type:$e.type,value:Le});break}}else Ee.push(Te);this.updateLines(xe,xe)},b.prototype.removeExtraToken=function(Ae,we){(this||be).session.bgTokenizer.lines[Ae]=null,this.updateLines(Ae,Ae)},b.prototype.setTheme=function(Ae,we){var xe,Se=this||be;function t(be){if(Se.$themeId!=Ae)return we&&we();if(!be||!be.cssClass)throw new Error("couldn't load module "+Ae+" or it didn't call define");be.$id&&(Se.$themeId=be.$id),ke.importCssString(be.cssText,be.cssClass,Se.container),Se.theme&&ke.removeCssClass(Se.container,Se.theme.cssClass);var xe="padding"in be?be.padding:"padding"in(Se.theme||{})?4:Se.$padding;Se.$padding&&xe!=Se.$padding&&Se.setPadding(xe),Se.$theme=be.cssClass,Se.theme=be,ke.addCssClass(Se.container,be.cssClass),ke.setCssClass(Se.container,"ace_dark",be.isDark),Se.$size&&(Se.$size.width=0,Se.$updateSizeAsync()),Se._dispatchEvent("themeLoaded",{theme:be}),we&&we()}(this||be).$themeId=Ae,Se._dispatchEvent("themeChange",{theme:Ae}),Ae&&"string"!=typeof Ae?t(Ae):(xe=Ae||(this||be).$options.theme.initialValue,Ee.loadModule(["theme",xe],t))},b.prototype.getTheme=function(){return(this||be).$themeId},b.prototype.setStyle=function(Ae,we){ke.setCssClass((this||be).container,Ae,!1!==we)},b.prototype.unsetStyle=function(Ae){ke.removeCssClass((this||be).container,Ae)},b.prototype.setCursorStyle=function(Ae){ke.setStyle((this||be).scroller.style,"cursor",Ae)},b.prototype.setMouseCursor=function(Ae){ke.setStyle((this||be).scroller.style,"cursor",Ae)},b.prototype.attachToShadowRoot=function(){ke.importCssString(Fe,"ace_editor.css",(this||be).container)},b.prototype.destroy=function(){this.freeze(),(this||be).$fontMetrics.destroy(),(this||be).$cursorLayer.destroy(),this.removeAllListeners(),(this||be).container.textContent="",this.setOption("useResizeObserver",!1)},b.prototype.$updateCustomScrollbar=function(Ae){var we=this||be;(this||be).$horizScroll=(this||be).$vScroll=null,(this||be).scrollBarV.element.remove(),(this||be).scrollBarH.element.remove(),(this||be).$scrollDecorator&&delete(this||be).$scrollDecorator,!0===Ae?((this||be).scrollBarV=new We((this||be).container,this||be),(this||be).scrollBarH=new Be((this||be).container,this||be),(this||be).scrollBarV.setHeight((this||be).$size.scrollerHeight),(this||be).scrollBarH.setWidth((this||be).$size.scrollerWidth),(this||be).scrollBarV.addEventListener("scroll",(function(be){we.$scrollAnimation||we.session.setScrollTop(be.data-we.scrollMargin.top)})),(this||be).scrollBarH.addEventListener("scroll",(function(be){we.$scrollAnimation||we.session.setScrollLeft(be.data-we.scrollMargin.left)})),(this||be).$scrollDecorator=new Oe((this||be).scrollBarV,this||be),(this||be).$scrollDecorator.$updateDecorators()):((this||be).scrollBarV=new Me((this||be).container,this||be),(this||be).scrollBarH=new Ne((this||be).container,this||be),(this||be).scrollBarV.addEventListener("scroll",(function(be){we.$scrollAnimation||we.session.setScrollTop(be.data-we.scrollMargin.top)})),(this||be).scrollBarH.addEventListener("scroll",(function(be){we.$scrollAnimation||we.session.setScrollLeft(be.data-we.scrollMargin.left)})))},b.prototype.$addResizeObserver=function(){var Ae;window.ResizeObserver&&!(this||be).$resizeObserver&&((Ae=this||be).$resizeTimer=Te.delayedCall((function(){Ae.destroyed||Ae.onResize()}),50),(this||be).$resizeObserver=new window.ResizeObserver((function(be){var we=be[0].contentRect.width;be=be[0].contentRect.height;1<Math.abs(Ae.$size.width-we)||1<Math.abs(Ae.$size.height-be)?Ae.$resizeTimer.delay():Ae.$resizeTimer.cancel()})),(this||be).$resizeObserver.observe((this||be).container))},b);function b(Ae,we){var xe=this||be;Ae=((this||be).container=Ae||ke.createElement("div"),ke.addCssClass((this||be).container,"ace_editor"),ke.HI_DPI&&ke.addCssClass((this||be).container,"ace_hidpi"),this.setTheme(we),null==Ee.get("useStrictCSP")&&Ee.set("useStrictCSP",!1),(this||be).$gutter=ke.createElement("div"),(this||be).$gutter.className="ace_gutter",(this||be).container.appendChild((this||be).$gutter),(this||be).$gutter.setAttribute("aria-hidden","true"),(this||be).scroller=ke.createElement("div"),(this||be).scroller.className="ace_scroller",(this||be).container.appendChild((this||be).scroller),(this||be).content=ke.createElement("div"),(this||be).content.className="ace_content",(this||be).scroller.appendChild((this||be).content),(this||be).$gutterLayer=new Re((this||be).$gutter),(this||be).$gutterLayer.on("changeGutterWidth",(this||be).onGutterResize.bind(this||be)),(this||be).$markerBack=new _e((this||be).content),(this||be).$textLayer=new $e((this||be).content));(this||be).canvas=Ae.element,(this||be).$markerFront=new _e((this||be).content),(this||be).$cursorLayer=new Le((this||be).content),(this||be).$horizScroll=!1,(this||be).$vScroll=!1,(this||be).scrollBar=(this||be).scrollBarV=new Me((this||be).container,this||be),(this||be).scrollBarH=new Ne((this||be).container,this||be),(this||be).scrollBarV.on("scroll",(function(be){xe.$scrollAnimation||xe.session.setScrollTop(be.data-xe.scrollMargin.top)})),(this||be).scrollBarH.on("scroll",(function(be){xe.$scrollAnimation||xe.session.setScrollLeft(be.data-xe.scrollMargin.left)})),(this||be).scrollTop=0,(this||be).scrollLeft=0,(this||be).cursorPos={row:0,column:0},(this||be).$fontMetrics=new He((this||be).container),(this||be).$textLayer.$setFontMetrics((this||be).$fontMetrics),(this||be).$textLayer.on("changeCharacterSize",(function(be){xe.updateCharacterSize(),xe.onResize(!0,xe.gutterWidth,xe.$size.width,xe.$size.height),xe._signal("changeCharacterSize",be)})),(this||be).$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},(this||be).layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},(this||be).scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},(this||be).margin={left:0,right:0,top:0,bottom:0,v:0,h:0},(this||be).$keepTextAreaAtCursor=!Ve.isIOS,(this||be).$loop=new Pe((this||be).$renderChanges.bind(this||be),(this||be).container.ownerDocument.defaultView),(this||be).$loop.schedule((this||be).CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),Ee.resetOptions(this||be),Ee._signal("renderer",this||be)}Ae.prototype.CHANGE_CURSOR=1,Ae.prototype.CHANGE_MARKER=2,Ae.prototype.CHANGE_GUTTER=4,Ae.prototype.CHANGE_SCROLL=8,Ae.prototype.CHANGE_LINES=16,Ae.prototype.CHANGE_TEXT=32,Ae.prototype.CHANGE_SIZE=64,Ae.prototype.CHANGE_MARKER_BACK=128,Ae.prototype.CHANGE_MARKER_FRONT=256,Ae.prototype.CHANGE_FULL=512,Ae.prototype.CHANGE_H_SCROLL=1024,Ae.prototype.$changes=0,Ae.prototype.$padding=null,Ae.prototype.$frozen=!1,Ae.prototype.STEPS=8,Se.implement(Ae.prototype,Ge),Ee.defineOptions(Ae.prototype,"renderer",{useResizeObserver:{set:function(Ae){!Ae&&(this||be).$resizeObserver?((this||be).$resizeObserver.disconnect(),(this||be).$resizeTimer.cancel(),(this||be).$resizeTimer=(this||be).$resizeObserver=null):Ae&&!(this||be).$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(Ae){(this||be).$textLayer.setShowInvisibles(Ae)&&(this||be).$loop.schedule((this||be).CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(Ae){"number"==typeof Ae&&((this||be).$printMarginColumn=Ae),(this||be).$showPrintMargin=!!Ae,this.$updatePrintMargin()},get:function(){return(this||be).$showPrintMargin&&(this||be).$printMarginColumn}},showGutter:{set:function(Ae){(this||be).$gutter.style.display=Ae?"block":"none",(this||be).$loop.schedule((this||be).CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(Ae){(this||be).$gutterLayer.$useSvgGutterIcons=Ae},initialValue:!1},showFoldedAnnotations:{set:function(Ae){(this||be).$gutterLayer.$showFoldedAnnotations=Ae},initialValue:!1},fadeFoldWidgets:{set:function(Ae){ke.setCssClass((this||be).$gutter,"ace_fade-fold-widgets",Ae)},initialValue:!1},showFoldWidgets:{set:function(Ae){(this||be).$gutterLayer.setShowFoldWidgets(Ae),(this||be).$loop.schedule((this||be).CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(Ae){(this||be).$textLayer.setDisplayIndentGuides(Ae)&&(this||be).$loop.schedule((this||be).CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(Ae){1==(this||be).$textLayer.setHighlightIndentGuides(Ae)?(this||be).$textLayer.$highlightIndentGuide():(this||be).$textLayer.$clearActiveIndentGuide((this||be).$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(Ae){(this||be).$gutterLayer.setHighlightGutterLine(Ae),(this||be).$loop.schedule((this||be).CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(Ae){(this||be).$hScrollBarAlwaysVisible&&(this||be).$horizScroll||(this||be).$loop.schedule((this||be).CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(Ae){(this||be).$vScrollBarAlwaysVisible&&(this||be).$vScroll||(this||be).$loop.schedule((this||be).CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(Ae){"number"==typeof Ae&&(Ae+="px"),(this||be).container.style.fontSize=Ae,this.updateFontSize()},initialValue:12},fontFamily:{set:function(Ae){(this||be).container.style.fontFamily=Ae,this.updateFontSize()}},maxLines:{set:function(be){this.updateFull()}},minLines:{set:function(Ae){(this||be).$minLines<562949953421311||((this||be).$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(be){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(Ae){(this||be).$scrollPastEnd!=(Ae=+Ae||0)&&((this||be).$scrollPastEnd=Ae,(this||be).$loop.schedule((this||be).CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(Ae){(this||be).$gutterLayer.$fixedWidth=!!Ae,(this||be).$loop.schedule((this||be).CHANGE_GUTTER)}},customScrollbar:{set:function(be){this.$updateCustomScrollbar(be)},initialValue:!1},theme:{set:function(be){this.setTheme(be)},get:function(){return(this||be).$themeId||(this||be).theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!Ve.isMobile&&!Ve.isIE}}),we.VirtualRenderer=Ae})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(Ae,we,xe){var Se=Ae("../lib/oop"),ke=Ae("../lib/net"),Te=Ae("../lib/event_emitter").EventEmitter,Ee=Ae("../config");function l(be){var Ae;return"undefined"==typeof Worker?{postMessage:function(){},terminate:function(){}}:Ee.get("loadWorkerFromBlob")?(Ae=function(be){be="importScripts('"+ke.qualifyURL(be)+"');";try{return new Blob([be],{type:"application/javascript"})}catch(we){var Ae=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return Ae.append(be),Ae.getBlob("application/javascript")}}(be),Ae=(window.URL||window.webkitURL).createObjectURL(Ae),new Worker(Ae)):new Worker(be)}function d(Ae){Ae.postMessage||(Ae=(this||be).$createWorkerFromOldConfig.apply(this||be,arguments)),(this||be).$worker=Ae,(this||be).$sendDeltaQueue=(this||be).$sendDeltaQueue.bind(this||be),(this||be).changeListener=(this||be).changeListener.bind(this||be),(this||be).onMessage=(this||be).onMessage.bind(this||be),(this||be).callbackId=1,(this||be).callbacks={},(this||be).$worker.onmessage=(this||be).onMessage}(function(){Se.implement(this||be,Te),(this||be).$createWorkerFromOldConfig=function(we,xe,Se,ke,Te){var Re,_e;return Ae.nameToUrl&&!Ae.toUrl&&(Ae.toUrl=Ae.nameToUrl),Ee.get("packaged")||!Ae.toUrl?ke=ke||Ee.moduleUrl(xe,"worker"):(Re=(this||be).$normalizePath,ke=ke||Re(Ae.toUrl("ace/worker/worker.js",null,"_")),_e={},we.forEach((function(be){_e[be]=Re(Ae.toUrl(be,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))),(this||be).$worker=l(ke),Te&&this.send("importScripts",Te),(this||be).$worker.postMessage({init:!0,tlns:_e,module:xe,classname:Se}),(this||be).$worker},(this||be).onMessage=function(Ae){var we=Ae.data;switch(we.type){case"event":this._signal(we.name,{data:we.data});break;case"call":var xe=(this||be).callbacks[we.id];xe&&(xe(we.data),delete(this||be).callbacks[we.id]);break;case"error":this.reportError(we.data);break;case"log":window.console&&console.log&&console.log.apply(console,we.data)}},(this||be).reportError=function(be){window.console&&console.error&&console.error(be)},(this||be).$normalizePath=function(be){return ke.qualifyURL(be)},(this||be).terminate=function(){this._signal("terminate",{}),(this||be).deltaQueue=null,(this||be).$worker.terminate(),(this||be).$worker.onerror=function(be){be.preventDefault()},(this||be).$worker=null,(this||be).$doc&&(this||be).$doc.off("change",(this||be).changeListener),(this||be).$doc=null},(this||be).send=function(Ae,we){(this||be).$worker.postMessage({command:Ae,args:we})},(this||be).call=function(Ae,we,xe){var Se;xe&&(Se=(this||be).callbackId++,(this||be).callbacks[Se]=xe,we.push(Se)),this.send(Ae,we)},(this||be).emit=function(Ae,we){try{we.data&&we.data.err&&(we.data.err={message:we.data.err.message,stack:we.data.err.stack,code:we.data.err.code}),(this||be).$worker&&(this||be).$worker.postMessage({event:Ae,data:{data:we.data}})}catch(Ae){console.error(Ae.stack)}},(this||be).attachToDocument=function(Ae){(this||be).$doc&&this.terminate(),(this||be).$doc=Ae,this.call("setValue",[Ae.getValue()]),Ae.on("change",(this||be).changeListener,!0)},(this||be).changeListener=function(Ae){(this||be).deltaQueue||((this||be).deltaQueue=[],setTimeout((this||be).$sendDeltaQueue,0)),"insert"==Ae.action?(this||be).deltaQueue.push(Ae.start,Ae.lines):(this||be).deltaQueue.push(Ae.start,Ae.end)},(this||be).$sendDeltaQueue=function(){var Ae=(this||be).deltaQueue;Ae&&((this||be).deltaQueue=null,50<Ae.length&&Ae.length>(this||be).$doc.getLength()>>1?this.call("setValue",[(this||be).$doc.getValue()]):this.emit("change",{data:Ae}))}}).call(d.prototype);we.UIWorkerClient=function(be,Ae,we){var xe=null,Se=!1,ke=Object.create(Te),Re=[],_e=new d({messageBuffer:Re,terminate:function(){},postMessage:function(be){Re.push(be),xe&&(Se?setTimeout($e):$e())}}),$e=(_e.setEmitSync=function(be){Se=be},function(){var be=Re.shift();be.command?xe[be.command].apply(xe,be.args):be.event&&ke._signal(be.event,be.data)});return ke.postMessage=function(be){_e.onMessage({data:be})},ke.callback=function(be,Ae){this.postMessage({type:"call",id:Ae,data:be})},ke.emit=function(be,Ae){this.postMessage({type:"event",name:be,data:Ae})},Ee.loadModule(["worker",Ae],(function(be){for(xe=new be[we](ke);Re.length;)$e()})),_e},we.WorkerClient=d,we.createWorker=l})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(Ae,we,xe){var Se=Ae("./range").Range,ke=Ae("./lib/event_emitter").EventEmitter,Te=(Ae=Ae("./lib/oop"),r.prototype.setup=function(){var Ae=this||be,we=(this||be).doc,xe=(this||be).session,ke=((this||be).selectionBefore=xe.selection.toJSON(),xe.selection.inMultiSelectMode&&xe.selection.toSingleRange(),(this||be).pos=we.createAnchor((this||be).$pos.row,(this||be).$pos.column),(this||be).pos);ke.$insertRight=!0,ke.detach(),ke.markerId=xe.addMarker(new Se(ke.row,ke.column,ke.row,ke.column+(this||be).length),(this||be).mainClass,null,!1),(this||be).others=[],(this||be).$others.forEach((function(be){be=we.createAnchor(be.row,be.column);be.$insertRight=!0,be.detach(),Ae.others.push(be)})),xe.setUndoSelect(!1)},r.prototype.showOtherMarkers=function(){var Ae,we;(this||be).othersActive||(Ae=(this||be).session,(we=this||be).othersActive=!0,(this||be).others.forEach((function(be){be.markerId=Ae.addMarker(new Se(be.row,be.column,be.row,be.column+we.length),we.othersClass,null,!1)})))},r.prototype.hideOtherMarkers=function(){if((this||be).othersActive){(this||be).othersActive=!1;for(var Ae=0;Ae<(this||be).others.length;Ae++)(this||be).session.removeMarker((this||be).others[Ae].markerId)}},r.prototype.onUpdate=function(Ae){if((this||be).$updating)return this.updateAnchors(Ae);var we=Ae;if(we.start.row===we.end.row&&we.start.row===(this||be).pos.row){(this||be).$updating=!0;var xe="insert"===Ae.action?we.end.column-we.start.column:we.start.column-we.end.column,ke=we.start.column>=(this||be).pos.column&&we.start.column<=(this||be).pos.column+(this||be).length+1,Te=we.start.column-(this||be).pos.column;if(this.updateAnchors(Ae),ke&&((this||be).length+=xe),ke&&!(this||be).session.$fromUndo)if("insert"===Ae.action)for(var Ee=(this||be).others.length-1;0<=Ee;Ee--){var Re={row:(_e=(this||be).others[Ee]).row,column:_e.column+Te};(this||be).doc.insertMergedLines(Re,Ae.lines)}else if("remove"===Ae.action)for(Ee=(this||be).others.length-1;0<=Ee;Ee--){var _e;Re={row:(_e=(this||be).others[Ee]).row,column:_e.column+Te};(this||be).doc.remove(new Se(Re.row,Re.column,Re.row,Re.column-xe))}(this||be).$updating=!1,this.updateMarkers()}},r.prototype.updateAnchors=function(Ae){(this||be).pos.onChange(Ae);for(var we=(this||be).others.length;we--;)(this||be).others[we].onChange(Ae);this.updateMarkers()},r.prototype.updateMarkers=function(){if(!(this||be).$updating){var Ae=this||be,we=(this||be).session,e=function(be,xe){we.removeMarker(be.markerId),be.markerId=we.addMarker(new Se(be.row,be.column,be.row,be.column+Ae.length),xe,null,!1)};e((this||be).pos,(this||be).mainClass);for(var xe=(this||be).others.length;xe--;)e((this||be).others[xe],(this||be).othersClass)}},r.prototype.onCursorChange=function(Ae){var we;!(this||be).$updating&&(this||be).session&&((we=(this||be).session.selection.getCursor()).row===(this||be).pos.row&&we.column>=(this||be).pos.column&&we.column<=(this||be).pos.column+(this||be).length?(this.showOtherMarkers(),this._emit("cursorEnter",Ae)):(this.hideOtherMarkers(),this._emit("cursorLeave",Ae)))},r.prototype.detach=function(){(this||be).session.removeMarker((this||be).pos&&(this||be).pos.markerId),this.hideOtherMarkers(),(this||be).doc.off("change",(this||be).$onUpdate),(this||be).session.selection.off("changeCursor",(this||be).$onCursorChange),(this||be).session.setUndoSelect(!0),(this||be).session=null},r.prototype.cancel=function(){if(-1!==(this||be).$undoStackDepth){for(var Ae=(this||be).session.getUndoManager(),we=(Ae.$undoStack||Ae.$undostack).length-(this||be).$undoStackDepth,xe=0;xe<we;xe++)Ae.undo((this||be).session,!0);(this||be).selectionBefore&&(this||be).session.selection.fromJSON((this||be).selectionBefore)}},r);function r(Ae,we,xe,Se,ke,Te){var Ee=this||be;we=((this||be).length=we,(this||be).session=Ae,(this||be).doc=Ae.getDocument(),(this||be).mainClass=ke,(this||be).othersClass=Te,(this||be).$onUpdate=(this||be).onUpdate.bind(this||be),(this||be).doc.on("change",(this||be).$onUpdate,!0),(this||be).$others=Se,(this||be).$onCursorChange=function(){setTimeout((function(){Ee.onCursorChange()}))},(this||be).$pos=xe,Ae.getUndoManager().$undoStack||Ae.getUndoManager().$undostack||{length:-1});(this||be).$undoStackDepth=we.length,this.setup(),Ae.selection.on("changeCursor",(this||be).$onCursorChange)}Ae.implement(Te.prototype,ke),we.PlaceHolder=Te})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(be,Ae,we){var xe=be("../lib/event"),Se=be("../lib/useragent");function T(be,Ae){return be.row==Ae.row&&be.column==Ae.column}Ae.onMouseDown=function(be){var Ae=be.domEvent,we=Ae.altKey,ke=Ae.shiftKey,Te=Ae.ctrlKey,Ee=be.getAccelKey(),Re=be.getButton();if(Te&&Se.isMac&&(Re=Ae.button),be.editor.inMultiSelectMode&&2==Re)be.editor.textInput.onContextMenu(be.domEvent);else if(Te||we||Ee){if(0===Re){var _e,$e,Le,Ne,Me,Be,We,Pe,He=be.editor,Ge=He.selection,Fe=He.inMultiSelectMode,Oe=be.getDocumentPosition(),Ve=Ge.getCursor(),Ze=(Ve=be.inSelection()||Ge.isEmpty()&&T(Oe,Ve),be.x),De=be.y,je=He.session,Ke=He.renderer.pixelToScreenCoordinates(Ze,De),ze=Ke;if(He.$mouseHandler.$enableJumpToDef)Te&&we||Ee&&we?_e=ke?"block":"add":we&&He.$blockSelectEnabled&&(_e="block");else if(Ee&&!we){if(_e="add",!Fe&&ke)return}else we&&He.$blockSelectEnabled&&(_e="block");if(_e&&Se.isMac&&Ae.ctrlKey&&He.$mouseHandler.cancelContextMenu(),"add"==_e)!Fe&&Ve||(Fe||($e=Ge.toOrientedRange(),He.addSelectionMarker($e)),Le=Ge.rangeList.rangeAtPoint(Oe),He.inVirtualSelectionMode=!0,ke&&(Le=null,$e=Ge.ranges[0]||$e,He.removeSelectionMarker($e)),He.once("mouseup",(function(){var be=Ge.toOrientedRange();Le&&be.isEmpty()&&T(Le.cursor,be.cursor)?Ge.substractPoint(be.cursor):(ke?Ge.substractPoint($e.cursor):$e&&(He.removeSelectionMarker($e),Ge.addRange($e)),Ge.addRange(be)),He.inVirtualSelectionMode=!1})));else if("block"==_e)return be.stop(),He.inVirtualSelectionMode=!0,Me=[],Be=function(){var be=He.renderer.pixelToScreenCoordinates(Ze,De),Ae=je.screenToDocumentPosition(be.row,be.column,be.offsetX);T(ze,be)&&T(Ae,Ge.lead)||(ze=be,He.selection.moveToPosition(Ae),He.renderer.scrollCursorIntoView(),He.removeSelectionMarkers(Me),Me=Ge.rectangularRangeBlock(ze,Ke),He.$mouseHandler.$clickSelection&&1==Me.length&&Me[0].isEmpty()&&(Me[0]=He.$mouseHandler.$clickSelection.clone()),Me.forEach(He.addSelectionMarker,He),He.updateSelectionMarkers())},Fe&&!Ee?Ge.toSingleRange():!Fe&&Ee&&(Ne=Ge.toOrientedRange(),He.addSelectionMarker(Ne)),ke?Ke=je.documentToScreenPosition(Ge.lead):Ge.moveToPosition(Oe),ze={row:-1,column:-1},We=Be,xe.capture(He.container,(function(be){Ze=be.clientX,De=be.clientY}),(function(be){Be(),clearInterval(Pe),He.removeSelectionMarkers(Me),Me.length||(Me=[Ge.toOrientedRange()]),Ne&&(He.removeSelectionMarker(Ne),Ge.toSingleRange(Ne));for(var Ae=0;Ae<Me.length;Ae++)Ge.addRange(Me[Ae]);He.inVirtualSelectionMode=!1,He.$mouseHandler.$clickSelection=null})),Pe=setInterval((function(){We()}),20),be.preventDefault()}}else 0===Re&&be.editor.inMultiSelectMode&&be.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(be,Ae,we){Ae.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(be){be.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(be){be.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(be){be.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(be){be.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(be){be.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(be){be.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(be){be.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(be){be.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(be){1<be.multiSelect.rangeCount?be.multiSelect.joinSelections():be.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(be){be.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(be){be.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(be){be.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],Ae.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(be){be.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(be){return be&&be.inMultiSelectMode}}];be=be("../keyboard/hash_handler").HashHandler;Ae.keyboardHandler=new be(Ae.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(Ae,we,xe){var Se=Ae("./range_list").RangeList,ke=Ae("./range").Range,Te=Ae("./selection").Selection,Ee=Ae("./mouse/multi_select_handler").onMouseDown,Re=Ae("./lib/event"),_e=Ae("./lib/lang"),$e=Ae("./commands/multi_select_commands");we.commands=$e.defaultCommands.concat($e.multiSelectCommands);var Le=new(Ae("./search").Search);var Ne=Ae("./edit_session").EditSession;Ne=(!function(){(this||be).getSelectionMarkers=function(){return(this||be).$selectionMarkers}}.call(Ne.prototype),!function(){(this||be).ranges=null,(this||be).rangeList=null,(this||be).addRange=function(Ae,we){if(Ae){if(!(this||be).inMultiSelectMode&&0===(this||be).rangeCount){var xe=this.toOrientedRange();if((this||be).rangeList.add(xe),(this||be).rangeList.add(Ae),2!=(this||be).rangeList.ranges.length)return(this||be).rangeList.removeAll(),we||this.fromOrientedRange(Ae);(this||be).rangeList.removeAll(),(this||be).rangeList.add(xe),this.$onAddRange(xe)}Ae.cursor||(Ae.cursor=Ae.end);xe=(this||be).rangeList.add(Ae);return this.$onAddRange(Ae),xe.length&&this.$onRemoveRange(xe),1<(this||be).rangeCount&&!(this||be).inMultiSelectMode&&(this._signal("multiSelect"),(this||be).inMultiSelectMode=!0,(this||be).session.$undoSelect=!1,(this||be).rangeList.attach((this||be).session)),we||this.fromOrientedRange(Ae)}},(this||be).toSingleRange=function(Ae){Ae=Ae||(this||be).ranges[0];var we=(this||be).rangeList.removeAll();we.length&&this.$onRemoveRange(we),Ae&&this.fromOrientedRange(Ae)},(this||be).substractPoint=function(Ae){Ae=(this||be).rangeList.substractPoint(Ae);if(Ae)return this.$onRemoveRange(Ae),Ae[0]},(this||be).mergeOverlappingRanges=function(){var Ae=(this||be).rangeList.merge();Ae.length&&this.$onRemoveRange(Ae)},(this||be).$onAddRange=function(Ae){(this||be).rangeCount=(this||be).rangeList.ranges.length,(this||be).ranges.unshift(Ae),this._signal("addRange",{range:Ae})},(this||be).$onRemoveRange=function(Ae){var we;(this||be).rangeCount=(this||be).rangeList.ranges.length,1==(this||be).rangeCount&&(this||be).inMultiSelectMode&&(we=(this||be).rangeList.ranges.pop(),Ae.push(we),(this||be).rangeCount=0);for(var xe=Ae.length;xe--;){var Se=(this||be).ranges.indexOf(Ae[xe]);(this||be).ranges.splice(Se,1)}this._signal("removeRange",{ranges:Ae}),0===(this||be).rangeCount&&(this||be).inMultiSelectMode&&((this||be).inMultiSelectMode=!1,this._signal("singleSelect"),(this||be).session.$undoSelect=!0,(this||be).rangeList.detach((this||be).session)),(we=we||(this||be).ranges[0])&&!we.isEqual(this.getRange())&&this.fromOrientedRange(we)},(this||be).$initRangeList=function(){(this||be).rangeList||((this||be).rangeList=new Se,(this||be).ranges=[],(this||be).rangeCount=0)},(this||be).getAllRanges=function(){return(this||be).rangeCount?(this||be).rangeList.ranges.concat():[this.getRange()]},(this||be).splitIntoLines=function(){for(var Ae=(this||be).ranges.length?(this||be).ranges:[this.getRange()],we=[],xe=0;xe<Ae.length;xe++){var Se=Ae[xe],Te=Se.start.row,Ee=Se.end.row;if(Te===Ee)we.push(Se.clone());else{for(we.push(new ke(Te,Se.start.column,Te,(this||be).session.getLine(Te).length));++Te<Ee;)we.push(this.getLineRange(Te,!0));we.push(new ke(Ee,0,Ee,Se.end.column))}0!=xe||this.isBackwards()||(we=we.reverse())}this.toSingleRange();for(xe=we.length;xe--;)this.addRange(we[xe])},(this||be).joinSelections=function(){var Ae=(this||be).rangeList.ranges,we=Ae[Ae.length-1];Ae=ke.fromPoints(Ae[0].start,we.end);this.toSingleRange(),this.setSelectionRange(Ae,we.cursor==we.start)},(this||be).toggleBlockSelection=function(){var Ae,we;1<(this||be).rangeCount?(we=(Ae=(this||be).rangeList.ranges)[Ae.length-1],Ae=ke.fromPoints(Ae[0].start,we.end),this.toSingleRange(),this.setSelectionRange(Ae,we.cursor==we.start)):(Ae=(this||be).session.documentToScreenPosition((this||be).cursor),we=(this||be).session.documentToScreenPosition((this||be).anchor),this.rectangularRangeBlock(Ae,we).forEach((this||be).addRange,this||be))},(this||be).rectangularRangeBlock=function(Ae,we,xe){var Se,Te,Ee,Re,_e,$e,Le,Ne=[],Me=Ae.column<we.column,Be=(Re=(Me?(Se=Ae.column,Te=we.column,Ee=Ae.offsetX,we):(Se=we.column,Te=Ae.column,Ee=we.offsetX,Ae)).offsetX,Ae.row<we.row);$e=(Be?(_e=Ae.row,we):(_e=we.row,Ae)).row,Se<0&&(Se=0),(_e=_e<0?0:_e)==$e&&(xe=!0);for(var We,Pe,He=_e;He<=$e;He++){var Ge=ke.fromPoints((this||be).session.screenToDocumentPosition(He,Se,Ee),(this||be).session.screenToDocumentPosition(He,Te,Re));if(Ge.isEmpty()){if(Le&&(We=Ge.end,Pe=Le,We.row==Pe.row)&&We.column==Pe.column)break;Le=Ge.end}Ge.cursor=Me?Ge.start:Ge.end,Ne.push(Ge)}if(Be&&Ne.reverse(),!xe){for(var Fe=Ne.length-1;Ne[Fe].isEmpty()&&0<Fe;)Fe--;if(0<Fe)for(var Oe=0;Ne[Oe].isEmpty();)Oe++;for(var Ve=Fe;Oe<=Ve;Ve--)Ne[Ve].isEmpty()&&Ne.splice(Ve,1)}return Ne}}.call(Te.prototype),Ae("./editor").Editor);function c(be){var Ae,xe;function i(be){xe&&(Ae.renderer.setMouseCursor(""),xe=!1)}be.$multiselectOnSessionChange||(be.$onAddRange=be.$onAddRange.bind(be),be.$onRemoveRange=be.$onRemoveRange.bind(be),be.$onMultiSelect=be.$onMultiSelect.bind(be),be.$onSingleSelect=be.$onSingleSelect.bind(be),be.$multiselectOnSessionChange=we.onSessionChange.bind(be),be.$checkMultiselectChange=be.$checkMultiselectChange.bind(be),be.$multiselectOnSessionChange(be),be.on("changeSession",be.$multiselectOnSessionChange),be.on("mousedown",Ee),be.commands.addCommands($e.defaultCommands),(Ae=be).textInput&&(be=Ae.textInput.getElement(),xe=!1,Re.addListener(be,"keydown",(function(be){be=18==be.keyCode&&!(be.ctrlKey||be.shiftKey||be.metaKey);Ae.$blockSelectEnabled&&be?xe||(Ae.renderer.setMouseCursor("crosshair"),xe=!0):xe&&i()}),Ae),Re.addListener(be,"keyup",i,Ae),Re.addListener(be,"blur",i,Ae)))}!function(){(this||be).updateSelectionMarkers=function(){(this||be).renderer.updateCursor(),(this||be).renderer.updateBackMarkers()},(this||be).addSelectionMarker=function(Ae){Ae.cursor||(Ae.cursor=Ae.end);var we=this.getSelectionStyle();return Ae.marker=(this||be).session.addMarker(Ae,"ace_selection",we),(this||be).session.$selectionMarkers.push(Ae),(this||be).session.selectionMarkerCount=(this||be).session.$selectionMarkers.length,Ae},(this||be).removeSelectionMarker=function(Ae){Ae.marker&&((this||be).session.removeMarker(Ae.marker),-1!=(Ae=(this||be).session.$selectionMarkers.indexOf(Ae))&&(this||be).session.$selectionMarkers.splice(Ae,1),(this||be).session.selectionMarkerCount=(this||be).session.$selectionMarkers.length)},(this||be).removeSelectionMarkers=function(Ae){for(var we=(this||be).session.$selectionMarkers,xe=Ae.length;xe--;){var Se=Ae[xe];Se.marker&&((this||be).session.removeMarker(Se.marker),-1!=(Se=we.indexOf(Se)))&&we.splice(Se,1)}(this||be).session.selectionMarkerCount=we.length},(this||be).$onAddRange=function(Ae){this.addSelectionMarker(Ae.range),(this||be).renderer.updateCursor(),(this||be).renderer.updateBackMarkers()},(this||be).$onRemoveRange=function(Ae){this.removeSelectionMarkers(Ae.ranges),(this||be).renderer.updateCursor(),(this||be).renderer.updateBackMarkers()},(this||be).$onMultiSelect=function(Ae){(this||be).inMultiSelectMode||((this||be).inMultiSelectMode=!0,this.setStyle("ace_multiselect"),(this||be).keyBinding.addKeyboardHandler($e.keyboardHandler),(this||be).commands.setDefaultHandler("exec",(this||be).$onMultiSelectExec),(this||be).renderer.updateCursor(),(this||be).renderer.updateBackMarkers())},(this||be).$onSingleSelect=function(Ae){(this||be).session.multiSelect.inVirtualMode||((this||be).inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),(this||be).keyBinding.removeKeyboardHandler($e.keyboardHandler),(this||be).commands.removeDefaultHandler("exec",(this||be).$onMultiSelectExec),(this||be).renderer.updateCursor(),(this||be).renderer.updateBackMarkers(),this._emit("changeSelection"))},(this||be).$onMultiSelectExec=function(be){var Ae,we=be.command,xe=be.editor;if(xe.multiSelect)return we.multiSelectAction?Ae="forEach"==we.multiSelectAction?xe.forEachSelection(we,be.args):"forEachLine"==we.multiSelectAction?xe.forEachSelection(we,be.args,!0):"single"==we.multiSelectAction?(xe.exitMultiSelectMode(),we.exec(xe,be.args||{})):we.multiSelectAction(xe,be.args||{}):(Ae=we.exec(xe,be.args||{}),xe.multiSelect.addRange(xe.multiSelect.toOrientedRange()),xe.multiSelect.mergeOverlappingRanges()),Ae},(this||be).forEachSelection=function(Ae,we,xe){if(!(this||be).inVirtualSelectionMode){var Se,ke=xe&&xe.keepOrder,Ee=1==xe||xe&&xe.$byLines,Re=(this||be).session,_e=(xe=(this||be).selection,xe.rangeList),$e=(ke?xe:_e).ranges;if(!$e.length)return Ae.exec?Ae.exec(this||be,we||{}):Ae(this||be,we||{});ke=xe._eventRegistry;var Le=(xe._eventRegistry={},new Te(Re));(this||be).inVirtualSelectionMode=!0;for(var Ne=$e.length;Ne--;){if(Ee)for(;0<Ne&&$e[Ne].start.row==$e[Ne-1].end.row;)Ne--;Le.fromOrientedRange($e[Ne]),Le.index=Ne,(this||be).selection=Re.selection=Le;var Me=Ae.exec?Ae.exec(this||be,we||{}):Ae(this||be,we||{});Se||void 0===Me||(Se=Me),Le.toOrientedRange($e[Ne])}Le.detach(),(this||be).selection=Re.selection=xe,(this||be).inVirtualSelectionMode=!1,xe._eventRegistry=ke,xe.mergeOverlappingRanges(),xe.ranges[0]&&xe.fromOrientedRange(xe.ranges[0]);_e=(this||be).renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),_e&&_e.from==_e.to&&(this||be).renderer.animateScrolling(_e.from),Se}},(this||be).exitMultiSelectMode=function(){(this||be).inMultiSelectMode&&!(this||be).inVirtualSelectionMode&&(this||be).multiSelect.toSingleRange()},(this||be).getSelectedText=function(){var Ae="";if((this||be).inMultiSelectMode&&!(this||be).inVirtualSelectionMode){for(var we=(this||be).multiSelect.rangeList.ranges,xe=[],Se=0;Se<we.length;Se++)xe.push((this||be).session.getTextRange(we[Se]));var ke=(this||be).session.getDocument().getNewLineCharacter();(Ae=xe.join(ke)).length==(xe.length-1)*ke.length&&(Ae="")}else(this||be).selection.isEmpty()||(Ae=(this||be).session.getTextRange(this.getSelectionRange()));return Ae},(this||be).$checkMultiselectChange=function(Ae,we){var xe;(this||be).inMultiSelectMode&&!(this||be).inVirtualSelectionMode&&(xe=(this||be).multiSelect.ranges[0],(this||be).multiSelect.isEmpty()&&we==(this||be).multiSelect.anchor||((xe=we==(this||be).multiSelect.anchor?xe.cursor==xe.start?xe.end:xe.start:xe.cursor).row!=we.row||(this||be).session.$clipPositionToDocument(xe.row,xe.column).column!=we.column?(this||be).multiSelect.toSingleRange((this||be).multiSelect.toOrientedRange()):(this||be).multiSelect.mergeOverlappingRanges()))},(this||be).findAll=function(Ae,we,xe){(we=we||{}).needle=Ae||we.needle,null==we.needle&&(Se=(this||be).selection.isEmpty()?(this||be).selection.getWordRange():(this||be).selection.getRange(),we.needle=(this||be).session.getTextRange(Se)),(this||be).$search.set(we);var Se,ke=(this||be).$search.findAll((this||be).session);if(!ke.length)return 0;var Te=(this||be).multiSelect;xe||Te.toSingleRange(ke[0]);for(var Ee=ke.length;Ee--;)Te.addRange(ke[Ee],!0);return Se&&Te.rangeList.rangeAtPoint(Se.start)&&Te.addRange(Se,!0),ke.length},(this||be).selectMoreLines=function(Ae,we){var xe,Se,Te,Ee=(this||be).selection.toOrientedRange(),Re=Ee.cursor==Ee.end,_e=(this||be).session.documentToScreenPosition(Ee.cursor),$e=((this||be).selection.$desiredColumn&&(_e.column=(this||be).selection.$desiredColumn),(this||be).session.screenToDocumentPosition(_e.row+Ae,_e.column));Ae=Ee.isEmpty()?$e:(xe=(this||be).session.documentToScreenPosition(Re?Ee.end:Ee.start),(this||be).session.screenToDocumentPosition(xe.row+Ae,xe.column)),Re?(Se=ke.fromPoints($e,Ae)).cursor=Se.start:(Se=ke.fromPoints(Ae,$e)).cursor=Se.end,Se.desiredColumn=_e.column,(this||be).selection.inMultiSelectMode?we&&(Te=Ee.cursor):(this||be).selection.addRange(Ee),(this||be).selection.addRange(Se),Te&&(this||be).selection.substractPoint(Te)},(this||be).transposeSelections=function(Ae){for(var we,xe=(this||be).session,Se=xe.multiSelect,ke=Se.ranges,Te=ke.length;Te--;)(Re=ke[Te]).isEmpty()&&(we=xe.getWordRange(Re.start.row,Re.start.column),Re.start.row=we.start.row,Re.start.column=we.start.column,Re.end.row=we.end.row,Re.end.column=we.end.column);Se.mergeOverlappingRanges();var Ee=[];for(Te=ke.length;Te--;){var Re=ke[Te];Ee.unshift(xe.getTextRange(Re))}Ae<0?Ee.unshift(Ee.pop()):Ee.push(Ee.shift());for(Te=ke.length;Te--;){var _e=(Re=ke[Te]).clone();xe.replace(Re,Ee[Te]),Re.start.row=_e.start.row,Re.start.column=_e.start.column}Se.fromOrientedRange(Se.ranges[0])},(this||be).selectMore=function(Ae,we,xe){var Se,ke=(this||be).session,Te=ke.multiSelect.toOrientedRange();Te.isEmpty()&&((Te=ke.getWordRange(Te.start.row,Te.start.column)).cursor=-1==Ae?Te.start:Te.end,(this||be).multiSelect.addRange(Te),xe)||(xe=ke.getTextRange(Te),ke,xe,Se=Ae,Le.$options.wrap=!0,Le.$options.needle=xe,Le.$options.backwards=-1==Se,(xe=Le.find(ke))&&(xe.cursor=-1==Ae?xe.start:xe.end,(this||be).session.unfold(xe),(this||be).multiSelect.addRange(xe),(this||be).renderer.scrollCursorIntoView(null,.5)),we&&(this||be).multiSelect.substractPoint(Te.cursor))},(this||be).alignCursors=function(){var Ae=(this||be).session,we=Ae.multiSelect,xe=we.ranges,Se=-1,Te=xe.filter((function(be){if(be.cursor.row==Se)return!0;Se=be.cursor.row}));if(xe.length&&Te.length!=xe.length-1){Te.forEach((function(be){we.substractPoint(be.cursor)}));var Ee=0,Re=1/0,$e=xe.map((function(be){be=be.cursor;var we=Ae.getLine(be.row).substr(be.column).search(/\S/g);return be.column>Ee&&(Ee=be.column),(we=-1==we?0:we)<Re&&(Re=we),we}));xe.forEach((function(be,we){var xe=be.cursor,Se=Ee-xe.column;we=$e[we]-Re;we<Se?Ae.insert(xe,_e.stringRepeat(" ",Se-we)):Ae.remove(new ke(xe.row,xe.column,xe.row,xe.column-Se+we)),be.start.column=be.end.column=Ee,be.start.row=be.end.row=xe.row,be.cursor=be.end})),we.fromOrientedRange(xe[0]),(this||be).renderer.updateCursor(),(this||be).renderer.updateBackMarkers()}else{Te=(this||be).selection.getRange();var Le=Te.start.row,Ne=Te.end.row;xe=Le==Ne;if(xe){for(var Me,Be=(this||be).session.getLength();Me=(this||be).session.getLine(Ne),/[=:]/.test(Me)&&++Ne<Be;);for(;Me=(this||be).session.getLine(Le),/[=:]/.test(Me)&&0<--Le;);Le<0&&(Le=0),Be<=Ne&&(Ne=Be-1)}var We=(this||be).session.removeFullLines(Le,Ne);We=this.$reAlignText(We,xe);(this||be).session.insert({row:Le,column:0},We.join("\n")+"\n"),xe||(Te.start.column=0,Te.end.column=We[We.length-1].length),(this||be).selection.setRange(Te)}},(this||be).$reAlignText=function(be,Ae){var we,xe,Se,ke=!0,Te=!0;return be.map((function(be){var Ae=be.match(/(\s*)(.*?)(\s*)([=:].*)/);return Ae?(null==we?(we=Ae[1].length,xe=Ae[2].length,Se=Ae[3].length):(we+xe+Se!=Ae[1].length+Ae[2].length+Ae[3].length&&(Te=!1),we!=Ae[1].length&&(ke=!1),we>Ae[1].length&&(we=Ae[1].length),xe<Ae[2].length&&(xe=Ae[2].length),Se>Ae[3].length&&(Se=Ae[3].length)),Ae):[be]})).map(Ae?l:ke?Te?function(be){return be[2]?a(we+xe-be[2].length)+be[2]+a(Se)+be[4].replace(/^([=:])\s+/,"$1 "):be[0]}:l:function(be){return be[2]?a(we)+be[2]+a(Se)+be[4].replace(/^([=:])\s+/,"$1 "):be[0]});function a(be){return _e.stringRepeat(" ",be)}function l(be){return be[2]?a(we)+be[2]+a(xe-be[2].length+Se)+be[4].replace(/^([=:])\s+/,"$1 "):be[0]}}}.call(Ne.prototype),we.onSessionChange=function(Ae){var we=Ae.session;Ae=(we&&!we.multiSelect&&(we.$selectionMarkers=[],we.selection.$initRangeList(),we.multiSelect=we.selection),(this||be).multiSelect=we&&we.multiSelect,Ae.oldSession);Ae&&(Ae.multiSelect.off("addRange",(this||be).$onAddRange),Ae.multiSelect.off("removeRange",(this||be).$onRemoveRange),Ae.multiSelect.off("multiSelect",(this||be).$onMultiSelect),Ae.multiSelect.off("singleSelect",(this||be).$onSingleSelect),Ae.multiSelect.lead.off("change",(this||be).$checkMultiselectChange),Ae.multiSelect.anchor.off("change",(this||be).$checkMultiselectChange)),we&&(we.multiSelect.on("addRange",(this||be).$onAddRange),we.multiSelect.on("removeRange",(this||be).$onRemoveRange),we.multiSelect.on("multiSelect",(this||be).$onMultiSelect),we.multiSelect.on("singleSelect",(this||be).$onSingleSelect),we.multiSelect.lead.on("change",(this||be).$checkMultiselectChange),we.multiSelect.anchor.on("change",(this||be).$checkMultiselectChange)),we&&(this||be).inMultiSelectMode!=we.selection.inMultiSelectMode&&(we.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},we.MultiSelect=c,Ae("./config").defineOptions(Ne.prototype,"editor",{enableMultiselect:{set:function(Ae){c(this||be),Ae?this.on("mousedown",Ee):this.off("mousedown",Ee)},value:!0},enableBlockSelect:{set:function(Ae){(this||be).$blockSelectEnabled=Ae},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(Ae,we,xe){var Se=Ae("../../range").Range;Ae=we.FoldMode=function(){};!function(){(this||be).foldingStartMarker=null,(this||be).foldingStopMarker=null,(this||be).getFoldWidget=function(Ae,we,xe){Ae=Ae.getLine(xe);return(this||be).foldingStartMarker.test(Ae)?"start":"markbeginend"==we&&(this||be).foldingStopMarker&&(this||be).foldingStopMarker.test(Ae)?"end":""},(this||be).getFoldWidgetRange=function(be,Ae,we){return null},(this||be).indentationBlock=function(be,Ae,we){var xe=/\S/,ke=be.getLine(Ae),Te=ke.search(xe);if(-1!=Te){we=we||ke.length;for(var Ee,Re=be.getLength(),_e=(ke=Ae,Ae);++Ae<Re;){var $e=be.getLine(Ae).search(xe);if(-1!=$e){if($e<=Te){$e=be.getTokenAt(Ae,0);if(!$e||"string"!==$e.type)break}_e=Ae}}return ke<_e?(Ee=be.getLine(_e).length,new Se(ke,we,_e,Ee)):void 0}},(this||be).openingBracketBlock=function(be,Ae,we,xe,ke){we={row:we,column:xe+1},xe=be.$findClosingBracket(Ae,we,ke);if(xe)return"start"==(Ae=null==(Ae=be.foldWidgets[xe.row])?be.getFoldWidget(xe.row):Ae)&&xe.row>we.row&&(xe.row--,xe.column=be.getLine(xe.row).length),Se.fromPoints(we,xe)},(this||be).closingBracketBlock=function(be,Ae,we,xe,ke){we={row:we,column:xe},xe=be.$findOpeningBracket(Ae,we);if(xe)return xe.column++,we.column--,Se.fromPoints(xe,we)}}.call(Ae.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],(function(be,Ae,we){var xe=be("../line_widgets").LineWidgets,Se=be("../lib/dom"),ke=be("../range").Range,Te=be("../config").nls;function u(be,Ae,we){var xe=be.getAnnotations().sort(ke.comparePoints);if(xe.length){var Se=function(be,Ae,we){for(var xe=0,Se=be.length-1;xe<=Se;){var ke=xe+Se>>1,Te=we(Ae,be[ke]);if(0<Te)xe=1+ke;else{if(!(Te<0))return ke;Se=ke-1}}return-(xe+1)}(xe,{row:Ae,column:-1},ke.comparePoints),Te=((Se=Se<0?-Se-1:Se)>=xe.length?Se=0<we?0:xe.length-1:0===Se&&we<0&&(Se=xe.length-1),xe[Se]);if(Te&&we){if(Te.row===Ae){for(;(Te=xe[Se+=we])&&Te.row===Ae;);if(!Te)return xe.slice()}var Ee=[];for(Ae=Te.row;Ee[we<0?"unshift":"push"](Te),(Te=xe[Se+=we])&&Te.row==Ae;);return Ee.length&&Ee}}}Ae.showErrorMarker=function(be,Ae){var we,ke=be.session,Ee=(ke.widgetManager||(ke.widgetManager=new xe(ke),ke.widgetManager.attach(be)),be.getCursorPosition()),Re=Ee.row,_e=ke.widgetManager.getWidgetsAtRow(Re).filter((function(be){return"errorMarker"==be.type}))[0];Re=(_e?_e.destroy():Re-=Ae,u(ke,Re,Ae));if(Re){Ae=Re[0];Ee.column=(Ae.pos&&"number"!=typeof Ae.column?Ae.pos.sc:Ae.column)||0,Ee.row=Ae.row,we=be.renderer.$gutterLayer.$annotations[Ee.row]}else{if(_e)return;we={text:[Te("error-marker.good-state","Looks good!")],className:"ace_ok"}}be.session.unfold(Ee.row),be.selection.moveToPosition(Ee);function a(be,Ae,we){if(0===Ae&&("esc"===we||"return"===we))return $e.destroy(),{command:"null"}}var $e={row:Ee.row,fixedWidth:!0,coverGutter:!0,el:Se.createElement("div"),type:"errorMarker"};Re=$e.el.appendChild(Se.createElement("div")),Ae=$e.el.appendChild(Se.createElement("div")),_e=(Ae.className="error_widget_arrow "+we.className,be.renderer.$cursorLayer.getPixelPosition(Ee).left);Ae.style.left=_e+be.renderer.gutterWidth-5+"px",$e.el.className="error_widget_wrapper",Re.className="error_widget "+we.className,Re.innerHTML=we.text.join("<br>"),Re.appendChild(Se.createElement("div"));$e.destroy=function(){be.$mouseHandler.isMousePressed||(be.keyBinding.removeKeyboardHandler(a),ke.widgetManager.removeLineWidget($e),be.off("changeSelection",$e.destroy),be.off("changeSession",$e.destroy),be.off("mouseup",$e.destroy),be.off("change",$e.destroy))},be.keyBinding.addKeyboardHandler(a),be.on("changeSelection",$e.destroy),be.on("changeSession",$e.destroy),be.on("mouseup",$e.destroy),be.on("change",$e.destroy),be.session.widgetManager.addLineWidget($e),$e.el.onmousedown=be.focus.bind(be),be.renderer.scrollCursorIntoView(null,.5,{bottom:$e.el.offsetHeight})},Se.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(be,Ae,we){be("./loader_build")(Ae);var xe=be("./lib/dom"),Se=be("./range").Range,ke=be("./editor").Editor,Te=be("./edit_session").EditSession,Ee=be("./undomanager").UndoManager,Re=be("./virtual_renderer").VirtualRenderer;be("./worker/worker_client"),be("./keyboard/hash_handler"),be("./placeholder"),be("./multi_select"),be("./mode/folding/fold_mode"),be("./theme/textmate"),be("./ext/error_marker"),Ae.config=be("./config"),Ae.edit=function(be,we){if("string"==typeof be){var Se=be;if(!(be=document.getElementById(Se)))throw new Error("ace.edit can't find div #"+Se)}var Te,Ee;return be&&be.env&&be.env.editor instanceof ke?be.env.editor:(Se="",be&&/input|textarea/i.test(be.tagName)?(Se=(Te=be).value,be=xe.createElement("pre"),Te.parentNode.replaceChild(be,Te)):be&&(Se=be.textContent,be.innerHTML=""),Se=Ae.createEditSession(Se),be=new ke(new Re(be),Se,we),Ee={document:Se,editor:be,onResize:be.resize.bind(be,null)},Te&&(Ee.textarea=Te),be.on("destroy",(function(){Ee.editor.container.env=null})),be.container.env=be.env=Ee,be)},Ae.createEditSession=function(be,Ae){be=new Te(be,Ae);return be.setUndoManager(new Ee),be},Ae.Range=Se,Ae.Editor=ke,Ae.EditSession=Te,Ae.UndoManager=Ee,Ae.VirtualRenderer=Re,Ae.version=Ae.config.version})),ace.require(["ace/ace"],(function(we){we&&(we.config.init(!0),we.define=ace.define);var xe,Se=function(){return this||be}();for(xe in(Se=(Se=Se||"undefined"==typeof window?Se:window)||"undefined"==typeof self?Se:self).ace||(Se.ace=we),we)we.hasOwnProperty(xe)&&(Se.ace[xe]=we[xe]);Se.ace.default=Se.ace,Ae&&(Ae.exports=Se.ace)}))},6489:function(Ae,we,xe){Ae=xe.nmd(Ae),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],(function(Ae,we,xe){var Se=Ae("./lib/dom"),ke=Ae("./lib/oop"),Te=Ae("./lib/event_emitter").EventEmitter,Ee=Ae("./lib/lang"),Re=Ae("./range").Range,_e=Ae("./range_list").RangeList,$e=Ae("./keyboard/hash_handler").HashHandler,Le=Ae("./tokenizer").Tokenizer,Ne=Ae("./clipboard"),Me={CURRENT_WORD:function(be){return be.session.getTextRange(be.session.getWordRange())},SELECTION:function(be,Ae,we){be=be.session.getTextRange();return we?be.replace(/\n\r?([ \t]*\S)/g,"\n"+we+"$1"):be},CURRENT_LINE:function(be){return be.session.getLine(be.getCursorPosition().row)},PREV_LINE:function(be){return be.session.getLine(be.getCursorPosition().row-1)},LINE_INDEX:function(be){return be.getCursorPosition().row},LINE_NUMBER:function(be){return be.getCursorPosition().row+1},SOFT_TABS:function(be){return be.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(be){return be.session.getTabSize()},CLIPBOARD:function(be){return Ne.getText&&Ne.getText()},FILENAME:function(be){return/[^/\\]*$/.exec(this.FILEPATH(be))[0]},FILENAME_BASE:function(be){return/[^/\\]*$/.exec(this.FILEPATH(be))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(be){return this.FILEPATH(be).replace(/[^/\\]*$/,"")},FILEPATH:function(be){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(be){be=be.session.$mode||{};return be.blockComment&&be.blockComment.start||""},BLOCK_COMMENT_END:function(be){be=be.session.$mode||{};return be.blockComment&&be.blockComment.end||""},LINE_COMMENT:function(be){return(be.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:g.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:g.bind(null,{year:"2-digit"}),CURRENT_MONTH:g.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:g.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:g.bind(null,{month:"short"}),CURRENT_DATE:g.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:g.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:g.bind(null,{weekday:"short"}),CURRENT_HOUR:g.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:g.bind(null,{minute:"2-digit"}),CURRENT_SECOND:g.bind(null,{second:"2-digit"})};function g(be){be=(new Date).toLocaleString("en-us",be);return 1==be.length?"0"+be:be}Me.SELECTED_TEXT=Me.SELECTION;m.prototype.getTokenizer=function(){return m.$tokenizer||this.createTokenizer()},m.prototype.createTokenizer=function(){function i(be){return be=be.substr(1),/^\d+$/.test(be)?[{tabstopId:parseInt(be,10)}]:[{text:be}]}function e(be){return"(?:[^\\\\"+be+"]|\\\\.)"}var Ae={regex:"/("+e("/")+"+)/",onMatch:function(be,Ae,we){we=we[0];return we.fmtString=!0,we.guard=be.slice(1,-1),we.flag=""},next:"formatString"};return m.$tokenizer=new Le({start:[{regex:/\\./,onMatch:function(be,Ae,we){var xe=be[1];return[be="}"==xe&&we.length||-1!="`$\\".indexOf(xe)?xe:be]}},{regex:/}/,onMatch:function(be,Ae,we){return[we.length?we.shift():be]}},{regex:/\$(?:\d+|\w+)/,onMatch:i},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(be,Ae,we){be=i(be.substr(1));return we.unshift(be[0]),be},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(be,Ae,we){be=be.slice(1,-1).replace(/\\[,|\\]|,/g,(function(be){return 2==be.length?be[1]:"\0"})).split("\0").map((function(be){return{value:be}}));return[(we[0].choices=be)[0]]},next:"start"},Ae,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(be,Ae,we){return we.length&&we[0].expectElse?(we[0].expectElse=!1,we[0].ifEnd={elseEnd:we[0]},[we[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(be,Ae,we){var xe=be[1];return"}"==xe&&we.length||-1!="`$\\".indexOf(xe)?be=xe:"n"==xe?be="\n":"t"==xe?be="\t":-1!="ulULE".indexOf(xe)&&(be={changeCase:xe,local:"a"<xe}),[be]}},{regex:"/\\w*}",onMatch:function(Ae,we,xe){xe=xe.shift();return xe&&(xe.flag=Ae.slice(1,-1)),(this||be).next=xe&&xe.tabstopId?"start":"",[xe||Ae]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(be,Ae,we){return[{text:be.slice(1)}]}},{regex:/\${\w+/,onMatch:function(be,Ae,we){be={text:be.slice(2)};return we.unshift(be),[be]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(Ae,we,xe){xe=xe.shift();return(this||be).next=xe&&xe.tabstopId?"start":"",[xe||Ae]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(be,Ae,we){return we[0].formatFunction=be.slice(2,-1),[we.shift()]},next:"formatString"},Ae,{regex:/:[\?\-+]?/,onMatch:function(be,Ae,we){"+"==be[1]&&(we[0].ifEnd=we[0]),"?"==be[1]&&(we[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},m.prototype.tokenizeTmSnippet=function(be,Ae){return this.getTokenizer().getLineTokens(be,Ae).tokens.map((function(be){return be.value||be}))},m.prototype.getVariableValue=function(Ae,we,xe){var Se;return/^\d+$/.test(we)?((this||be).variables.__||{})[we]||"":/^[A-Z]\d+$/.test(we)?((this||be).variables[we[0]+"__"]||{})[we.substr(1)]||"":(we=we.replace(/^TM_/,""),(this||be).variables.hasOwnProperty(we)&&null!=(Se="function"==typeof(Se=(this||be).variables[we])?(this||be).variables[we](Ae,we,xe):Se)?Se:"")},m.prototype.tmStrFormat=function(Ae,we,xe){var Se,ke,Te,Ee;return we.fmt?(Se=we.flag||"",ke=we.guard,ke=new RegExp(ke,Se.replace(/[^gim]/g,"")),Te="string"==typeof we.fmt?this.tokenizeTmSnippet(we.fmt,"formatString"):we.fmt,Ee=this||be,Ae.replace(ke,(function(){for(var be=Ee.variables.__,Ae=(Ee.variables.__=[].slice.call(arguments),Ee.resolveVariables(Te,xe)),we="E",Se=0;Se<Ae.length;Se++){var ke,Re=Ae[Se];"object"==typeof Re?(Ae[Se]="",Re.changeCase&&Re.local?(ke=Ae[Se+1])&&"string"==typeof ke&&("u"==Re.changeCase?Ae[Se]=ke[0].toUpperCase():Ae[Se]=ke[0].toLowerCase(),Ae[Se+1]=ke.substr(1)):Re.changeCase&&(we=Re.changeCase)):"U"==we?Ae[Se]=Re.toUpperCase():"L"==we&&(Ae[Se]=Re.toLowerCase())}return Ee.variables.__=be,Ae.join("")}))):Ae},m.prototype.tmFormatFunction=function(be,Ae,we){return"upcase"==Ae.formatFunction?be.toUpperCase():"downcase"==Ae.formatFunction?be.toLowerCase():be},m.prototype.resolveVariables=function(be,Ae){for(var we=[],xe="",Se=!0,ke=0;ke<be.length;ke++){var Te,Ee=be[ke];"string"==typeof Ee?(we.push(Ee),"\n"==Ee?(Se=!0,xe=""):Se&&(xe=/^\t*/.exec(Ee)[0],Se=/\S/.test(Ee))):Ee&&(Se=!1,Ee.fmtString&&(-1==(Te=be.indexOf(Ee,ke+1))&&(Te=be.length),Ee.fmt=be.slice(ke+1,Te),ke=Te),Ee.text?(Te=this.getVariableValue(Ae,Ee.text,xe)+"",Ee.fmtString&&(Te=this.tmStrFormat(Te,Ee,Ae)),(Te=Ee.formatFunction?this.tmFormatFunction(Te,Ee,Ae):Te)&&!Ee.ifEnd?(we.push(Te),l(Ee)):!Te&&Ee.ifEnd&&l(Ee.ifEnd)):Ee.elseEnd?l(Ee.elseEnd):null==Ee.tabstopId&&null==Ee.changeCase||we.push(Ee))}function l(Ae){Ae=be.indexOf(Ae,ke+1);-1!=Ae&&(ke=Ae)}return we},m.prototype.getDisplayTextForSnippet=function(Ae,we){return f.call(this||be,Ae,we).text},m.prototype.insertSnippetForSelection=function(Ae,we,xe){we=f.call(this||be,Ae,we,xe=void 0===xe?{}:xe),xe=Ae.getSelectionRange();var Se=Ae.session.replace(xe,we.text),ke=new We(Ae);Ae=Ae.inVirtualSelectionMode&&Ae.selection.index;ke.addTabstops(we.tabstops,xe.start,Se,Ae)},m.prototype.insertSnippet=function(Ae,we,xe){void 0===xe&&(xe={});var Se=this||be;if(Ae.inVirtualSelectionMode)return Se.insertSnippetForSelection(Ae,we,xe);Ae.forEachSelection((function(){Se.insertSnippetForSelection(Ae,we,xe)}),null,{keepOrder:!0}),Ae.tabstopManager&&Ae.tabstopManager.tabNext()},m.prototype.$getScope=function(be){var Ae,we=be.session.$mode.$id||"";return"html"!==(we=we.split("/").pop())&&"php"!==we||("php"!==we||be.session.$mode.inlinePhp||(we="html"),Ae=be.getCursorPosition(),(be="object"==typeof(be=be.session.getState(Ae.row))?be[0]:be).substring&&("js-"==be.substring(0,3)?we="javascript":"css-"==be.substring(0,4)?we="css":"php-"==be.substring(0,4)&&(we="php"))),we},m.prototype.getActiveScopes=function(Ae){Ae=this.$getScope(Ae);var we=[Ae],xe=(this||be).snippetMap;return xe[Ae]&&xe[Ae].includeScopes&&we.push.apply(we,xe[Ae].includeScopes),we.push("_"),we},m.prototype.expandWithTab=function(Ae,we){var xe=this||be,Se=Ae.forEachSelection((function(){return xe.expandSnippetForSelection(Ae,we)}),null,{keepOrder:!0});return Se&&Ae.tabstopManager&&Ae.tabstopManager.tabNext(),Se},m.prototype.expandSnippetForSelection=function(Ae,we){var xe,Se=Ae.getCursorPosition(),ke=Ae.session.getLine(Se.row),Te=ke.substring(0,Se.column),Ee=ke.substr(Se.column),Re=(this||be).snippetMap;return this.getActiveScopes(Ae).some((function(be){be=Re[be];return!!(xe=be?this.findMatchingSnippet(be,Te,Ee):xe)}),this||be),!!xe&&(we&&we.dryRun||(Ae.session.doc.removeInLine(Se.row,Se.column-xe.replaceBefore.length,Se.column+xe.replaceAfter.length),(this||be).variables.M__=xe.matchBefore,(this||be).variables.T__=xe.matchAfter,this.insertSnippetForSelection(Ae,xe.content),(this||be).variables.M__=(this||be).variables.T__=null),!0)},m.prototype.findMatchingSnippet=function(be,Ae,we){for(var xe=be.length;xe--;){var Se=be[xe];if((!Se.startRe||Se.startRe.test(Ae))&&(!Se.endRe||Se.endRe.test(we))&&(Se.startRe||Se.endRe))return Se.matchBefore=Se.startRe?Se.startRe.exec(Ae):[""],Se.matchAfter=Se.endRe?Se.endRe.exec(we):[""],Se.replaceBefore=Se.triggerRe?Se.triggerRe.exec(Ae)[0]:"",Se.replaceAfter=Se.endTriggerRe?Se.endTriggerRe.exec(we)[0]:"",Se}},m.prototype.register=function(Ae,we){var xe=(this||be).snippetMap,Se=(this||be).snippetNameMap,ke=this||be;function a(be){return(be=be&&!/^\^?\(.*\)\$?$|^\\b$/.test(be)?"(?:"+be+")":be)||""}function l(be,Ae,we){return be=a(be),Ae=a(Ae),we?(be=Ae+be)&&"$"!=be[be.length-1]&&(be+="$"):(be+=Ae)&&"^"!=be[0]&&(be="^"+be),new RegExp(be)}function n(be){be.scope||(be.scope=we||"_"),we=be.scope,xe[we]||(xe[we]=[],Se[we]={});var Ae,Te=Se[we];be.name&&((Ae=Te[be.name])&&ke.unregister(Ae),Te[be.name]=be),xe[we].push(be),be.prefix&&(be.tabTrigger=be.prefix),!be.content&&be.body&&(be.content=Array.isArray(be.body)?be.body.join("\n"):be.body),be.tabTrigger&&!be.trigger&&(!be.guard&&/^\w/.test(be.tabTrigger)&&(be.guard="\\b"),be.trigger=Ee.escapeRegExp(be.tabTrigger)),(be.trigger||be.guard||be.endTrigger||be.endGuard)&&(be.startRe=l(be.trigger,be.guard,!0),be.triggerRe=new RegExp(be.trigger),be.endRe=l(be.endTrigger,be.endGuard,!0),be.endTriggerRe=new RegExp(be.endTrigger))}Ae=Ae||[],Array.isArray(Ae)?Ae.forEach(n):Object.keys(Ae).forEach((function(be){n(Ae[be])})),this._signal("registerSnippets",{scope:we})},m.prototype.unregister=function(Ae,we){var xe=(this||be).snippetMap,Se=(this||be).snippetNameMap;function t(be){var Ae=Se[be.scope||we];Ae&&Ae[be.name]&&(delete Ae[be.name],0<=(be=(Ae=xe[be.scope||we])&&Ae.indexOf(be)))&&Ae.splice(be,1)}Ae.content?t(Ae):Array.isArray(Ae)&&Ae.forEach(t)},m.prototype.parseSnippetFile=function(be){be=be.replace(/\r/g,"");for(var Ae,we,xe,Se=[],ke={},Te=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;we=Te.exec(be);){if(we[1])try{ke=JSON.parse(we[1]),Se.push(ke)}catch(be){}we[4]?(ke.content=we[4].replace(/^\t/gm,""),Se.push(ke),ke={}):(Ae=we[2],we=we[3],"regex"==Ae?(ke.guard=(xe=/\/((?:[^\/\\]|\\.)*)|$/g).exec(we)[1],ke.trigger=xe.exec(we)[1],ke.endTrigger=xe.exec(we)[1],ke.endGuard=xe.exec(we)[1]):"snippet"==Ae?(ke.tabTrigger=we.match(/^\S*/)[0],ke.name||(ke.name=we)):Ae&&(ke[Ae]=we))}return Se},m.prototype.getSnippetByName=function(Ae,we){var xe,Se=(this||be).snippetNameMap;return this.getActiveScopes(we).some((function(be){be=Se[be];return!!(xe=be?be[Ae]:xe)}),this||be),xe};var Be=m;function m(){(this||be).snippetMap={},(this||be).snippetNameMap={},(this||be).variables=Me}ke.implement(Be.prototype,Te);var f=function(be,Ae,we){void 0===we&&(we={});var xe=be.getCursorPosition(),Se=be.session.getLine(xe.row),ke=be.session.getTabString(),Te=Se.match(/^\s*/)[0],Ee=(xe.column<Te.length&&(Te=Te.slice(0,xe.column)),Ae=Ae.replace(/\r/g,""),this.tokenizeTmSnippet(Ae)),Re=(Ee=(Ee=this.resolveVariables(Ee,be)).map((function(be){return"\n"!=be||we.excludeExtraIndent?"string"==typeof be?be.replace(/\t/g,ke):be:be+Te})),[]),_e=(Ee.forEach((function(be,Ae){var we,xe,Se;"object"==typeof be&&(Se=be.tabstopId,(we=Re[Se])||((we=Re[Se]=[]).index=Se,we.value="",we.parents={}),-1===we.indexOf(be))&&(be.choices&&!we.choices&&(we.choices=be.choices),we.push(be),-1!==(xe=Ee.indexOf(be,Ae+1)))&&((Se=Ee.slice(Ae+1,xe)).some((function(be){return"object"==typeof be}))&&!we.value?we.value=Se:!Se.length||we.value&&"string"==typeof we.value||(we.value=Se.join("")))})),Re.forEach((function(be){be.length=0})),{});for(var $e=0;$e<Ee.length;$e++){var Le,Ne,Me,Be=Ee[$e];"object"==typeof Be&&(Me=Be.tabstopId,Le=Re[Me],Ne=Ee.indexOf(Be,$e+1),_e[Me]?_e[Me]===Be&&(delete _e[Me],Object.keys(_e).forEach((function(be){Le.parents[be]=!0}))):(_e[Me]=Be,"string"!=typeof(Me=Le.value)?Me=function(be){for(var Ae=[],we=0;we<be.length;we++){if("object"==typeof(xe=be[we])){if(_e[xe.tabstopId])continue;var xe=Ae[be.lastIndexOf(xe,we-1)]||{tabstopId:xe.tabstopId}}Ae[we]=xe}return Ae}(Me):Be.fmt&&(Me=this.tmStrFormat(Me,Be,be)),Ee.splice.apply(Ee,[$e+1,Math.max(0,Ne-$e)].concat(Me,Be)),-1===Le.indexOf(Be)&&Le.push(Be)))}var We=0,Pe=0,He="";return Ee.forEach((function(be){var Ae;"string"==typeof be?(1<(Ae=be.split("\n")).length?(Pe=Ae[Ae.length-1].length,We+=Ae.length-1):Pe+=be.length,He+=be):be&&(be.start?be.end={row:We,column:Pe}:be.start={row:We,column:Pe})})),{text:He,tabstops:Re,tokens:Ee}},We=(y.prototype.attach=function(Ae){(this||be).$openTabstops=null,(this||be).selectedTabstop=null,(this||be).editor=Ae,(this||be).session=Ae.session,(this||be).editor.on("change",(this||be).$onChange),(this||be).editor.on("changeSelection",(this||be).$onChangeSelection),(this||be).editor.on("changeSession",(this||be).$onChangeSession),(this||be).editor.commands.on("afterExec",(this||be).$onAfterExec),(this||be).editor.keyBinding.addKeyboardHandler((this||be).keyboardHandler)},y.prototype.detach=function(){(this||be).tabstops.forEach((this||be).removeTabstopMarkers,this||be),(this||be).ranges.length=0,(this||be).tabstops.length=0,(this||be).selectedTabstop=null,(this||be).editor.off("change",(this||be).$onChange),(this||be).editor.off("changeSelection",(this||be).$onChangeSelection),(this||be).editor.off("changeSession",(this||be).$onChangeSession),(this||be).editor.commands.off("afterExec",(this||be).$onAfterExec),(this||be).editor.keyBinding.removeKeyboardHandler((this||be).keyboardHandler),(this||be).editor.tabstopManager=null,(this||be).session=null,(this||be).editor=null},y.prototype.onChange=function(Ae){for(var we="r"==Ae.action[0],xe=(this||be).selectedTabstop||{},Se=xe.parents||{},ke=(this||be).tabstops.slice(),Te=0;Te<ke.length;Te++){var Ee=ke[Te],Re=Ee==xe||Se[Ee.index];if(Ee.rangeList.$bias=Re?0:1,"remove"==Ae.action&&Ee!==xe){Re=Ee.parents&&Ee.parents[xe.index];for(var _e=(_e=Ee.rangeList.pointIndex(Ae.start,Re))<0?-_e-1:_e+1,$e=(Re=Ee.rangeList.pointIndex(Ae.end,Re),Ee.rangeList.ranges.slice(_e,Re<0?-Re-1:Re-1)),Le=0;Le<$e.length;Le++)this.removeRange($e[Le])}Ee.rangeList.$onChange(Ae)}var Ne=(this||be).session;(this||be).$inChange||!we||1!=Ne.getLength()||Ne.getValue()||this.detach()},y.prototype.updateLinkedFields=function(){var Ae=(this||be).selectedTabstop;if(Ae&&Ae.hasLinkedRanges&&Ae.firstNonLinked){(this||be).$inChange=!0;for(var xe=(this||be).session,Se=xe.getTextRange(Ae.firstNonLinked),ke=0;ke<Ae.length;ke++){var Te,Ee=Ae[ke];Ee.linked&&(Te=Ee.original,Te=we.snippetManager.tmStrFormat(Se,Te,(this||be).editor),xe.replace(Ee,Te))}(this||be).$inChange=!1}},y.prototype.onAfterExec=function(be){be.command&&!be.command.readOnly&&this.updateLinkedFields()},y.prototype.onChangeSelection=function(){if((this||be).editor){for(var Ae=(this||be).editor.selection.lead,we=(this||be).editor.selection.anchor,xe=(this||be).editor.selection.isEmpty(),Se=0;Se<(this||be).ranges.length;Se++)if(!(this||be).ranges[Se].linked){var ke=(this||be).ranges[Se].contains(Ae.row,Ae.column),Te=xe||(this||be).ranges[Se].contains(we.row,we.column);if(ke&&Te)return}this.detach()}},y.prototype.onChangeSession=function(){this.detach()},y.prototype.tabNext=function(Ae){var we=(this||be).tabstops.length;Ae=(this||be).index+(Ae||1),Ae=Math.min(Math.max(Ae,1),we);this.selectTabstop(Ae=Ae==we?0:Ae),this.updateTabstopMarkers(),0===Ae&&this.detach()},y.prototype.selectTabstop=function(Ae){(this||be).$openTabstops=null;var we=(this||be).tabstops[(this||be).index];if(we&&this.addTabstopMarkers(we),(this||be).index=Ae,(we=(this||be).tabstops[(this||be).index])&&we.length){Ae=((this||be).selectedTabstop=we).firstNonLinked||we;if(we.choices&&(Ae.cursor=Ae.start),(this||be).editor.inVirtualSelectionMode)(this||be).editor.selection.fromOrientedRange(Ae);else{var xe=(this||be).editor.multiSelect;xe.toSingleRange(Ae);for(var Se=0;Se<we.length;Se++)we.hasLinkedRanges&&we[Se].linked||xe.addRange(we[Se].clone(),!0)}(this||be).editor.keyBinding.addKeyboardHandler((this||be).keyboardHandler),(this||be).selectedTabstop&&(this||be).selectedTabstop.choices&&(this||be).editor.execCommand("startAutocomplete",{matches:(this||be).selectedTabstop.choices})}},y.prototype.addTabstops=function(Ae,we,xe){var Se=(this||be).useLink||!(this||be).editor.getOption("enableMultiselect");(this||be).$openTabstops||((this||be).$openTabstops=[]),Ae[0]||(xe=Re.fromPoints(xe,xe),I(xe.start,we),I(xe.end,we),Ae[0]=[xe],Ae[0].index=0);var ke=[(this||be).index+1,0],Te=(this||be).ranges,Ee=(this||be).snippetId=((this||be).snippetId||0)+1;Ae.forEach((function(Ae,xe){var $e=(this||be).$openTabstops[xe]||Ae;$e.snippetId=Ee;for(var Le=0;Le<Ae.length;Le++){var Ne=Ae[Le],Me=Re.fromPoints(Ne.start,Ne.end||Ne.start);v(Me.start,we),v(Me.end,we),Me.original=Ne,Me.tabstop=$e,Te.push(Me),$e!=Ae?$e.unshift(Me):$e[Le]=Me,Ne.fmtString||$e.firstNonLinked&&Se?(Me.linked=!0,$e.hasLinkedRanges=!0):$e.firstNonLinked||($e.firstNonLinked=Me)}$e.firstNonLinked||($e.hasLinkedRanges=!1),$e===Ae&&(ke.push($e),(this||be).$openTabstops[xe]=$e),this.addTabstopMarkers($e),$e.rangeList=$e.rangeList||new _e,$e.rangeList.$bias=0,$e.rangeList.addList($e)}),this||be),2<ke.length&&((this||be).tabstops.length&&ke.push(ke.splice(2,1)[0]),(this||be).tabstops.splice.apply((this||be).tabstops,ke))},y.prototype.addTabstopMarkers=function(Ae){var we=(this||be).session;Ae.forEach((function(be){be.markerId||(be.markerId=we.addMarker(be,"ace_snippet-marker","text"))}))},y.prototype.removeTabstopMarkers=function(Ae){var we=(this||be).session;Ae.forEach((function(be){we.removeMarker(be.markerId),be.markerId=null}))},y.prototype.updateTabstopMarkers=function(){var Ae;(this||be).selectedTabstop&&(Ae=(this||be).selectedTabstop.snippetId,0===(this||be).selectedTabstop.index&&Ae--,(this||be).tabstops.forEach((function(be){be.snippetId===Ae?this.addTabstopMarkers(be):this.removeTabstopMarkers(be)}),this||be))},y.prototype.removeRange=function(Ae){var we=Ae.tabstop.indexOf(Ae);-1!=we&&Ae.tabstop.splice(we,1),-1!=(we=(this||be).ranges.indexOf(Ae))&&(this||be).ranges.splice(we,1),-1!=(we=Ae.tabstop.rangeList.ranges.indexOf(Ae))&&Ae.tabstop.splice(we,1),(this||be).session.removeMarker(Ae.markerId),Ae.tabstop.length||(-1!=(we=(this||be).tabstops.indexOf(Ae.tabstop))&&(this||be).tabstops.splice(we,1),(this||be).tabstops.length)||this.detach()},y);function y(Ae){if((this||be).index=0,(this||be).ranges=[],(this||be).tabstops=[],Ae.tabstopManager)return Ae.tabstopManager;(Ae.tabstopManager=this||be).$onChange=(this||be).onChange.bind(this||be),(this||be).$onChangeSelection=Ee.delayedCall((this||be).onChangeSelection.bind(this||be)).schedule,(this||be).$onChangeSession=(this||be).onChangeSession.bind(this||be),(this||be).$onAfterExec=(this||be).onAfterExec.bind(this||be),this.attach(Ae)}We.prototype.keyboardHandler=new $e,We.prototype.keyboardHandler.bindKeys({Tab:function(be){we.snippetManager&&we.snippetManager.expandWithTab(be)||(be.tabstopManager.tabNext(1),be.renderer.scrollCursorIntoView())},"Shift-Tab":function(be){be.tabstopManager.tabNext(-1),be.renderer.scrollCursorIntoView()},Esc:function(be){be.tabstopManager.detach()}});var v=function(be,Ae){0==be.row&&(be.column+=Ae.column),be.row+=Ae.row},I=function(be,Ae){be.row==Ae.row&&(be.column-=Ae.column),be.row-=Ae.row};ke=(Se.importCssString("\n.ace_snippet-marker {\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    background: rgba(194, 193, 208, 0.09);\n    border: 1px dotted rgba(211, 208, 235, 0.62);\n    position: absolute;\n}","snippets.css",!1),we.snippetManager=new Be,Ae("./editor").Editor);!function(){(this||be).insertSnippet=function(Ae,xe){return we.snippetManager.insertSnippet(this||be,Ae,xe)},(this||be).expandSnippet=function(Ae){return we.snippetManager.expandWithTab(this||be,Ae)}}.call(ke.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],(function(Ae,we,xe){function a(be){return"suggest-aria-id:".concat(be)}function l(be){return(be=new Se(be)).$maxLines=4,(be=new ke(be)).setHighlightActiveLine(!1),be.setShowPrintMargin(!1),be.renderer.setShowGutter(!1),be.renderer.setHighlightGutterLine(!1),be.$mouseHandler.$focusTimeout=0,be.$highlightTagPending=!0,be}function i(Ae){function t(){}function n(){We(-1)}var we,xe=_e.createElement("div"),Se=l(xe),ke=(Ae&&Ae.appendChild(xe),xe.style.display="none",Se.renderer.content.style.cursor="default",Se.renderer.setStyle("ace_autocomplete"),Se.renderer.$textLayer.element.setAttribute("role",Le),Se.renderer.$textLayer.element.setAttribute("aria-roledescription",$e("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),Se.renderer.$textLayer.element.setAttribute("aria-label",$e("autocomplete.popup.aria-label","Autocomplete suggestions")),Se.renderer.textarea.setAttribute("aria-hidden","true"),Se.setOption("displayIndentGuides",!1),Se.setOption("dragDelay",150),Se.focus=t,Se.$isFocused=!0,Se.renderer.$cursorLayer.restartTimer=t,Se.renderer.$cursorLayer.element.style.opacity="0",Se.renderer.$maxLines=8,Se.renderer.$keepTextAreaAtCursor=!1,Se.setHighlightActiveLine(!1),Se.session.highlight(""),Se.session.$searchHighlight.clazz="ace_highlight-marker",Se.on("mousedown",(function(be){var Ae=be.getDocumentPosition();Se.selection.moveToPosition(Ae),Be.start.row=Be.end.row=Ae.row,be.stop()})),new Te(-1,0,-1,1/0)),Be=new Te(-1,0,-1,1/0),We=(Be.id=Se.session.addMarker(Be,"ace_active-line","fullLine"),Se.setSelectOnHover=function(be){be?ke.id&&(Se.session.removeMarker(ke.id),ke.id=null):ke.id=Se.session.addMarker(ke,"ace_line-hover","fullLine")},Se.setSelectOnHover(!1),Se.on("mousemove",(function(be){var Ae;we?we.x==be.x&&we.y==be.y||((we=be).scrollTop=Se.renderer.scrollTop,Se.isMouseOver=!0,Ae=we.getDocumentPosition().row,ke.start.row!=Ae&&(ke.id||Se.setRow(Ae),We(Ae))):we=be})),Se.renderer.on("beforeRender",(function(){var be;we&&-1!=ke.start.row&&(we.$pos=null,be=we.getDocumentPosition().row,ke.id||Se.setRow(be),We(be,!0))})),Se.renderer.on("afterRender",(function(){var be,Ae=Se.getRow(),we=Se.renderer.$textLayer,xe=we.element.childNodes[Ae-we.config.firstRow],ke=document.activeElement;xe!==Se.selectedNode&&Se.selectedNode&&(_e.removeCssClass(Se.selectedNode,"ace_selected"),ke.removeAttribute("aria-activedescendant"),Se.selectedNode.removeAttribute(Me),Se.selectedNode.removeAttribute("id")),(Se.selectedNode=xe)&&(_e.addCssClass(xe,"ace_selected"),be=a(Ae),xe.id=be,we.element.setAttribute("aria-activedescendant",be),ke.setAttribute("aria-activedescendant",be),xe.setAttribute("role",Ne),xe.setAttribute("aria-roledescription",$e("autocomplete.popup.item.aria-roledescription","item")),xe.setAttribute("aria-label",Se.getData(Ae).caption||Se.getData(Ae).value),xe.setAttribute("aria-setsize",Se.data.length),xe.setAttribute("aria-posinset",Ae+1),xe.setAttribute("aria-describedby","doc-tooltip"),xe.setAttribute(Me,"true"))})),function(be,Ae){be!==ke.start.row&&(ke.start.row=ke.end.row=be,Ae||Se.session._emit("changeBackMarker"),Se._emit("changeHoverMarker"))});return Se.getHoveredRow=function(){return ke.start.row},Ee.addListener(Se.container,"mouseout",(function(){Se.isMouseOver=!1,n()})),Se.on("hide",n),Se.on("changeSelection",n),Se.session.doc.getLength=function(){return Se.data.length},Se.session.doc.getLine=function(be){be=Se.data[be];return"string"==typeof be?be:be&&be.value||""},(Ae=Se.session.bgTokenizer).$tokenizeRow=function(be){var Ae=Se.data[be],we=[];if(Ae){for(var xe,ke,Te=(Ae="string"==typeof Ae?{value:Ae}:Ae).caption||Ae.value||Ae.name,Ee=Te.toLowerCase(),Re=(Se.filterText||"").toLowerCase(),_e=0,$e=0,Le=0;Le<=Re.length;Le++)Le!=$e&&(Ae.matchMask&1<<Le||Le==Re.length)&&(xe=Re.slice($e,Le),$e=Le,-1!=(ke=Ee.indexOf(xe,_e)))&&(d(Te.slice(_e,ke),""),_e=ke+xe.length,d(Te.slice(ke,_e),"completion-highlight"));d(Te.slice(_e,Te.length),""),we.push({type:"completion-spacer",value:" "}),Ae.meta&&we.push({type:"completion-meta",value:Ae.meta}),Ae.message&&we.push({type:"completion-message",value:Ae.message})}return we;function d(be,xe){be&&we.push({type:(Ae.className||"")+(xe||""),value:be})}},Ae.$updateOnChange=t,Ae.start=t,Se.session.$computeWidth=function(){return(this||be).screenWidth=0},Se.isOpen=!1,Se.isTopdown=!1,Se.autoSelect=!0,Se.filterText="",Se.isMouseOver=!1,Se.data=[],Se.setData=function(be,Ae){Se.filterText=Ae||"",Se.setValue(Re.stringRepeat("\n",be.length),-1),Se.data=be||[],Se.setRow(0)},Se.getData=function(be){return Se.data[be]},Se.getRow=function(){return Be.start.row},Se.setRow=function(Ae){Ae=Math.max((this||be).autoSelect?0:-1,Math.min((this||be).data.length-1,Ae)),Be.start.row!=Ae&&(Se.selection.clearSelection(),Be.start.row=Be.end.row=Ae||0,Se.session._emit("changeBackMarker"),Se.moveCursorTo(Ae||0,0),Se.isOpen)&&Se._signal("select")},Se.on("changeSelection",(function(){Se.isOpen&&Se.setRow(Se.selection.lead.row),Se.renderer.scrollCursorIntoView()})),Se.hide=function(){(this||be).container.style.display="none",Se.anchorPos=null,Se.anchor=null,Se.isOpen&&(Se.isOpen=!1,this._signal("hide"))},Se.tryShow=function(Ae,xe,ke,Te){if(Te||!Se.isOpen||!Se.anchorPos||!Se.anchor||Se.anchorPos.top!==Ae.top||Se.anchorPos.left!==Ae.left||Se.anchor!==ke){var Ee=(this||be).container,Re=window.innerHeight,_e=window.innerWidth,$e=(this||be).renderer,Le=$e.$maxLines*xe*1.4,Ne={top:0,bottom:0,left:0},Me=Re-Ae.top-3*(this||be).$borderSize-xe,Be=Ae.top-3*(this||be).$borderSize;xe=("top"===(ke=ke||(Be<=Me||Le<=Me?"bottom":"top"))?(Ne.bottom=Ae.top-(this||be).$borderSize,Ne.top=Ne.bottom-Le):"bottom"===ke&&(Ne.top=Ae.top+xe+(this||be).$borderSize,Ne.bottom=Ne.top+Le),0<=Ne.top&&Ne.bottom<=Re);if(!Te&&!xe)return!1;$e.$maxPixelHeight=xe?null:"top"===ke?Be:Me,"top"===ke?(Ee.style.top="",Ee.style.bottom=Re-Ne.bottom+"px",Se.isTopdown=!1):(Ee.style.top=Ne.top+"px",Ee.style.bottom="",Se.isTopdown=!0),Ee.style.display="";Le=Ae.left;Le+Ee.offsetWidth>_e&&(Le=_e-Ee.offsetWidth),Ee.style.left=Le+"px",Ee.style.right="",Se.isOpen||(Se.isOpen=!0,this._signal("show"),we=null),Se.anchorPos=Ae,Se.anchor=ke}return!0},Se.show=function(be,Ae,we){this.tryShow(be,Ae,we?"bottom":void 0,!0)},Se.goTo=function(Ae){var we=this.getRow(),xe=(this||be).session.getLength()-1;switch(Ae){case"up":we=we<=0?xe:we-1;break;case"down":we=xe<=we?-1:we+1;break;case"start":we=0;break;case"end":we=xe}this.setRow(we)},Se.getTextLeftOffset=function(){return(this||be).$borderSize+(this||be).renderer.$padding+(this||be).$imageSize},Se.$imageSize=0,Se.$borderSize=1,Se}var Se=Ae("../virtual_renderer").VirtualRenderer,ke=Ae("../editor").Editor,Te=Ae("../range").Range,Ee=Ae("../lib/event"),Re=Ae("../lib/lang"),_e=Ae("../lib/dom"),$e=Ae("../config").nls,Le=(Ae=Ae("./../lib/useragent"),Ae.isSafari?"menu":"listbox"),Ne=Ae.isSafari?"menuitem":"option",Me=Ae.isSafari?"aria-current":"aria-selected";_e.importCssString('\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #CAD6FA;\n    z-index: 1;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\n    background-color: #3a674e;\n}\n.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid #abbffe;\n    margin-top: -1px;\n    background: rgba(233,233,253,0.4);\n    position: absolute;\n    z-index: 2;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\n    border: 1px solid rgba(109, 150, 13, 0.8);\n    background: rgba(58, 103, 78, 0.62);\n}\n.ace_completion-meta {\n    opacity: 0.5;\n    margin-left: 0.9em;\n}\n.ace_completion-message {\n    margin-left: 0.9em;\n    color: blue;\n}\n.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #2d69c7;\n}\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\n    color: #93ca12;\n}\n.ace_editor.ace_autocomplete {\n    width: 300px;\n    z-index: 200000;\n    border: 1px lightgray solid;\n    position: fixed;\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n    line-height: 1.4;\n    background: #fefefe;\n    color: #111;\n}\n.ace_dark.ace_editor.ace_autocomplete {\n    border: 1px #484747 solid;\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\n    line-height: 1.4;\n    background: #25282c;\n    color: #c1c1c1;\n}\n.ace_autocomplete .ace_text-layer  {\n    width: calc(100% - 8px);\n}\n.ace_autocomplete .ace_line {\n    display: flex;\n    align-items: center;\n}\n.ace_autocomplete .ace_line > * {\n    min-width: 0;\n    flex: 0 0 auto;\n}\n.ace_autocomplete .ace_line .ace_ {\n    flex: 0 1 auto;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n.ace_autocomplete .ace_completion-spacer {\n    flex: 1;\n}\n.ace_autocomplete.ace_loading:after  {\n    content: "";\n    position: absolute;\n    top: 0px;\n    height: 2px;\n    width: 8%;\n    background: blue;\n    z-index: 100;\n    animation: ace_progress 3s infinite linear;\n    animation-delay: 300ms;\n    transform: translateX(-100%) scaleX(1);\n}\n@keyframes ace_progress {\n    0% { transform: translateX(-100%) scaleX(1) }\n    50% { transform: translateX(625%) scaleX(2) } \n    100% { transform: translateX(1500%) scaleX(3) } \n}\n@media (prefers-reduced-motion) {\n    .ace_autocomplete.ace_loading:after {\n        transform: translateX(625%) scaleX(2);\n        animation: none;\n     }\n}\n',"autocompletion.css",!1),we.AcePopup=i,we.$singleLineEditor=l,we.getAriaId=a})),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],(function(Ae,we,xe){function i(Ae){(this||be).editor=Ae,(this||be).screenReaderDiv=document.createElement("div"),(this||be).screenReaderDiv.classList.add("ace_screenreader-only"),(this||be).editor.container.appendChild((this||be).screenReaderDiv)}i.prototype.setScreenReaderContent=function(Ae){for(!(this||be).popup&&(this||be).editor.completer&&(this||be).editor.completer.popup&&((this||be).popup=(this||be).editor.completer.popup,(this||be).popup.renderer.on("afterRender",function(){var Ae=(this||be).popup.getRow(),we=(this||be).popup.renderer.$textLayer;Ae=we.element.childNodes[Ae-we.config.firstRow];if(Ae){for(var xe="doc-tooltip ",Se=0;Se<(this||be)._lines.length;Se++)xe+="ace-inline-screenreader-line-".concat(Se," ");Ae.setAttribute("aria-describedby",xe)}}.bind(this||be)));(this||be).screenReaderDiv.firstChild;)(this||be).screenReaderDiv.removeChild((this||be).screenReaderDiv.firstChild);(this||be)._lines=Ae.split(/\r\n|\r|\n/);Ae=this.createCodeBlock();(this||be).screenReaderDiv.appendChild(Ae)},i.prototype.destroy=function(){(this||be).screenReaderDiv.remove()},i.prototype.createCodeBlock=function(){var Ae=document.createElement("pre");Ae.setAttribute("id","ace-inline-screenreader");for(var we=0;we<(this||be)._lines.length;we++){var xe=document.createElement("code"),Se=(xe.setAttribute("id","ace-inline-screenreader-line-".concat(we)),document.createTextNode((this||be)._lines[we]));xe.appendChild(Se),Ae.appendChild(xe)}return Ae},we.AceInlineScreenReader=i})),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],(function(Ae,we,xe){var Se=Ae("../snippets").snippetManager,ke=Ae("./inline_screenreader").AceInlineScreenReader;function i(){(this||be).editor=null}i.prototype.show=function(Ae,we,xe){if(xe=xe||"",Ae&&(this||be).editor&&(this||be).editor!==Ae&&(this.hide(),(this||be).editor=null,(this||be).inlineScreenReader=null),!Ae||!we)return!1;(this||be).inlineScreenReader||((this||be).inlineScreenReader=new ke(Ae));var Te=we.snippet?Se.getDisplayTextForSnippet(Ae,we.snippet):we.value;return!(we.hideInlinePreview||!Te||!Te.startsWith(xe)||((this||be).editor=Ae,(this||be).inlineScreenReader.setScreenReaderContent(Te),""===(Te=Te.slice(xe.length))?Ae.removeGhostText():Ae.setGhostText(Te),0))},i.prototype.isOpen=function(){return!!(this||be).editor&&!!(this||be).editor.renderer.$ghostText},i.prototype.hide=function(){return!!(this||be).editor&&((this||be).editor.removeGhostText(),!0)},i.prototype.destroy=function(){this.hide(),(this||be).editor=null,(this||be).inlineScreenReader&&((this||be).inlineScreenReader.destroy(),(this||be).inlineScreenReader=null)},we.AceInline=i})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(Ae,we,xe){we.parForEach=function(be,Ae,we){var xe=0,Se=be.length;0===Se&&we();for(var ke=0;ke<Se;ke++)Ae(be[ke],(function(be,Ae){++xe===Se&&we(be,Ae)}))};var Se=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;we.retrievePrecedingIdentifier=function(be,Ae,we){we=we||Se;for(var xe=[],ke=Ae-1;0<=ke&&we.test(be[ke]);ke--)xe.push(be[ke]);return xe.reverse().join("")},we.retrieveFollowingIdentifier=function(be,Ae,we){we=we||Se;for(var xe=[],ke=Ae;ke<be.length&&we.test(be[ke]);ke++)xe.push(be[ke]);return xe},we.getCompletionPrefix=function(Ae){var we,xe=Ae.getCursorPosition(),Se=Ae.session.getLine(xe.row);return Ae.completers.forEach(function(Ae){Ae.identifierRegexps&&Ae.identifierRegexps.forEach(function(be){!we&&be&&(we=this.retrievePrecedingIdentifier(Se,xe.column,be))}.bind(this||be))}.bind(this||be)),we||this.retrievePrecedingIdentifier(Se,xe.column)},we.triggerAutocomplete=function(be,Ae){Ae=null==Ae?be.session.getPrecedingCharacter():Ae;return be.completers.some((function(be){if(be.triggerCharacters&&Array.isArray(be.triggerCharacters))return be.triggerCharacters.includes(Ae)}))}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],(function(Ae,we,xe){function i(be,Ae){Ae.completer&&Ae.completer.destroy()}var Se=Ae("./keyboard/hash_handler").HashHandler,ke=Ae("./autocomplete/popup").AcePopup,Te=Ae("./autocomplete/inline").AceInline,Ee=Ae("./autocomplete/popup").getAriaId,Re=Ae("./autocomplete/util"),_e=Ae("./lib/lang"),$e=Ae("./lib/dom"),Le=Ae("./snippets").snippetManager,Ne=Ae("./config"),Me=Ae("./lib/event"),Be=Ae("./lib/scroll").preventParentScroll,We=(Object.defineProperty(f,"completionsForLoading",{get:function(){return[{caption:Ne.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),f.prototype.$init=function(){return(this||be).popup=new ke((this||be).parentNode||document.body||document.documentElement),(this||be).popup.on("click",function(be){this.insertMatch(),be.stop()}.bind(this||be)),(this||be).popup.focus=(this||be).editor.focus.bind((this||be).editor),(this||be).popup.on("show",(this||be).$onPopupShow.bind(this||be)),(this||be).popup.on("hide",(this||be).$onHidePopup.bind(this||be)),(this||be).popup.on("select",(this||be).$onPopupChange.bind(this||be)),Me.addListener((this||be).popup.container,"mouseout",(this||be).mouseOutListener.bind(this||be)),(this||be).popup.on("changeHoverMarker",(this||be).tooltipTimer.bind(null,null)),(this||be).popup.renderer.on("afterRender",(this||be).$onPopupRender.bind(this||be)),(this||be).popup},f.prototype.$initInline=function(){if((this||be).inlineEnabled&&!(this||be).inlineRenderer)return(this||be).inlineRenderer=new Te,(this||be).inlineRenderer},f.prototype.getPopup=function(){return(this||be).popup||this.$init()},f.prototype.$onHidePopup=function(){(this||be).inlineRenderer&&(this||be).inlineRenderer.hide(),this.hideDocTooltip(),(this||be).stickySelectionTimer.cancel(),(this||be).popupTimer.cancel(),(this||be).stickySelection=!1},f.prototype.$seen=function(Ae){!(this||be).hasSeen.has(Ae)&&Ae&&Ae.completer&&Ae.completer.onSeen&&"function"==typeof Ae.completer.onSeen&&(Ae.completer.onSeen((this||be).editor,Ae),(this||be).hasSeen.add(Ae))},f.prototype.$onPopupChange=function(Ae){(this||be).inlineRenderer&&(this||be).inlineEnabled?(Ae=Ae?null:(this||be).popup.getData((this||be).popup.getRow()),this.$updateGhostText(Ae),(this||be).popup.isMouseOver&&(this||be).setSelectOnHover?(this||be).tooltipTimer.call(null,null):((this||be).popupTimer.schedule(),(this||be).tooltipTimer.schedule())):((this||be).popupTimer.call(null,null),(this||be).tooltipTimer.call(null,null))},f.prototype.$updateGhostText=function(Ae){var we=(this||be).base.row,xe=(this||be).base.column,Se=(this||be).editor.getCursorPosition().column;we=(this||be).editor.session.getLine(we).slice(xe,Se);(this||be).inlineRenderer.show((this||be).editor,Ae,we)?this.$seen(Ae):(this||be).inlineRenderer.hide()},f.prototype.$onPopupRender=function(){var Ae=(this||be).inlineRenderer&&(this||be).inlineEnabled;if((this||be).completions&&(this||be).completions.filtered&&0<(this||be).completions.filtered.length)for(var we=(this||be).popup.getFirstVisibleRow();we<=(this||be).popup.getLastVisibleRow();we++){var xe=(this||be).popup.getData(we);!xe||Ae&&!xe.hideInlinePreview||this.$seen(xe)}},f.prototype.$onPopupShow=function(Ae){this.$onPopupChange(Ae),(this||be).stickySelection=!1,0<=(this||be).stickySelectionDelay&&(this||be).stickySelectionTimer.schedule((this||be).stickySelectionDelay)},f.prototype.observeLayoutChanges=function(){if(!(this||be).$elements&&(this||be).editor){window.addEventListener("resize",(this||be).onLayoutChange,{passive:!0}),window.addEventListener("wheel",(this||be).mousewheelListener);for(var Ae=(this||be).editor.container.parentNode,we=[];Ae;)we.push(Ae),Ae.addEventListener("scroll",(this||be).onLayoutChange,{passive:!0}),Ae=Ae.parentNode;(this||be).$elements=we}},f.prototype.unObserveLayoutChanges=function(){var Ae=this||be;window.removeEventListener("resize",(this||be).onLayoutChange,{passive:!0}),window.removeEventListener("wheel",(this||be).mousewheelListener),(this||be).$elements&&(this||be).$elements.forEach((function(be){be.removeEventListener("scroll",Ae.onLayoutChange,{passive:!0})})),(this||be).$elements=null},f.prototype.onLayoutChange=function(){if(!(this||be).popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},f.prototype.$updatePopupPosition=function(){var Ae=(this||be).editor,we=Ae.renderer,xe=we.layerConfig.lineHeight,Se=we.$cursorLayer.getPixelPosition((this||be).base,!0),ke=(Se.left-=(this||be).popup.getTextLeftOffset(),Ae.container.getBoundingClientRect());ke=(Se.top+=ke.top-we.layerConfig.offset,Se.left+=ke.left-Ae.renderer.scrollLeft,Se.left+=we.gutterWidth,{top:Se.top,left:Se.left}),we=(we.$ghostText&&we.$ghostTextWidget&&(this||be).base.row===we.$ghostText.position.row&&(ke.top+=we.$ghostTextWidget.el.offsetHeight),Ae.container.getBoundingClientRect().bottom-xe);(this||be).popup.tryShow(we<ke.top?{top:we,left:ke.left}:ke,xe,"bottom")||(this||be).popup.tryShow(Se,xe,"top")||(this||be).popup.show(Se,xe)},f.prototype.openPopup=function(Ae,we,xe){(this||be).$firstOpenTimer.cancel(),(this||be).popup||this.$init(),(this||be).inlineEnabled&&!(this||be).inlineRenderer&&this.$initInline(),(this||be).popup.autoSelect=(this||be).autoSelect,(this||be).popup.setSelectOnHover((this||be).setSelectOnHover);var Se,ke=(this||be).popup.getRow(),Te=(this||be).popup.data[ke];Te=((this||be).popup.setData((this||be).completions.filtered,(this||be).completions.filterText),(this||be).editor.textInput.setAriaOptions&&(this||be).editor.textInput.setAriaOptions({activeDescendant:Ee((this||be).popup.getRow()),inline:(this||be).inlineEnabled}),Ae.keyBinding.addKeyboardHandler((this||be).keyboardHandler),(Se=(this||be).stickySelection?(this||be).popup.data.indexOf(Te):Se)&&-1!==Se||(Se=0),(this||be).popup.setRow((this||be).autoSelect?Se:-1),Se===ke&&Te!==(this||be).completions.filtered[Se]&&this.$onPopupChange(),(this||be).inlineRenderer&&(this||be).inlineEnabled);Se===ke&&Te&&(Se=(this||be).popup.getData((this||be).popup.getRow()),this.$updateGhostText(Se)),xe||((this||be).popup.setTheme(Ae.getTheme()),(this||be).popup.setFontSize(Ae.getFontSize()),this.$updatePopupPosition(),(this||be).tooltipNode&&this.updateDocTooltip()),(this||be).changeTimer.cancel(),this.observeLayoutChanges()},f.prototype.detach=function(){(this||be).editor&&((this||be).editor.keyBinding.removeKeyboardHandler((this||be).keyboardHandler),(this||be).editor.off("changeSelection",(this||be).changeListener),(this||be).editor.off("blur",(this||be).blurListener),(this||be).editor.off("mousedown",(this||be).mousedownListener),(this||be).editor.off("mousewheel",(this||be).mousewheelListener)),(this||be).$firstOpenTimer.cancel(),(this||be).changeTimer.cancel(),this.hideDocTooltip(),(this||be).completionProvider&&(this||be).completionProvider.detach(),(this||be).popup&&(this||be).popup.isOpen&&(this||be).popup.hide(),(this||be).popup&&(this||be).popup.renderer&&(this||be).popup.renderer.off("afterRender",(this||be).$onPopupRender),(this||be).base&&(this||be).base.detach(),(this||be).activated=!1,(this||be).completionProvider=(this||be).completions=(this||be).base=null,this.unObserveLayoutChanges()},f.prototype.changeListener=function(Ae){var we=(this||be).editor.selection.lead;(we.row!=(this||be).base.row||we.column<(this||be).base.column)&&this.detach(),(this||be).activated?(this||be).changeTimer.schedule():this.detach()},f.prototype.blurListener=function(Ae){var we=document.activeElement,xe=(this||be).editor.textInput.getElement(),Se=Ae.relatedTarget&&(this||be).tooltipNode&&(this||be).tooltipNode.contains(Ae.relatedTarget),ke=(this||be).popup&&(this||be).popup.container;we==xe||we.parentNode==ke||Se||we==(this||be).tooltipNode||Ae.relatedTarget==xe||this.detach()},f.prototype.mousedownListener=function(be){this.detach()},f.prototype.mousewheelListener=function(Ae){(this||be).popup&&!(this||be).popup.isMouseOver&&this.detach()},f.prototype.mouseOutListener=function(Ae){(this||be).popup.isOpen&&this.$updatePopupPosition()},f.prototype.goTo=function(Ae){(this||be).popup.goTo(Ae)},f.prototype.insertMatch=function(Ae,we){var xe;return!!(Ae=Ae||(this||be).popup.getData((this||be).popup.getRow()))&&(""===Ae.value?this.detach():(xe=(this||be).completions,Ae=this.getCompletionProvider().insertMatch((this||be).editor,Ae,xe.filterText,we),(this||be).completions==xe&&this.detach(),Ae))},f.prototype.showPopup=function(Ae,we){(this||be).editor&&this.detach(),(this||be).activated=!0,((this||be).editor=Ae).completer!=(this||be)&&(Ae.completer&&Ae.completer.detach(),Ae.completer=this||be),Ae.on("changeSelection",(this||be).changeListener),Ae.on("blur",(this||be).blurListener),Ae.on("mousedown",(this||be).mousedownListener),Ae.on("mousewheel",(this||be).mousewheelListener),this.updateCompletions(!1,we)},f.prototype.getCompletionProvider=function(Ae){return(this||be).completionProvider||((this||be).completionProvider=new Pe(Ae)),(this||be).completionProvider},f.prototype.gatherCompletions=function(be,Ae){return this.getCompletionProvider().gatherCompletions(be,Ae)},f.prototype.updateCompletions=function(Ae,we){var xe,Se;return Ae&&(this||be).base&&(this||be).completions?(xe=(this||be).editor.getCursorPosition(),(Se=(this||be).editor.session.getTextRange({start:(this||be).base,end:xe}))==(this||be).completions.filterText?void 0:((this||be).completions.setFilter(Se),(this||be).completions.filtered.length&&(1!=(this||be).completions.filtered.length||(this||be).completions.filtered[0].value!=Se||(this||be).completions.filtered[0].snippet)?void this.openPopup((this||be).editor,Se,Ae):this.detach())):we&&we.matches?(xe=(this||be).editor.getSelectionRange().start,(this||be).base=(this||be).editor.session.doc.createAnchor(xe.row,xe.column),(this||be).base.$insertRight=!0,(this||be).completions=new He(we.matches),this.getCompletionProvider().completions=(this||be).completions,this.openPopup((this||be).editor,"",Ae)):(we=(this||be).editor.getSession(),xe=(this||be).editor.getCursorPosition(),Se=Re.getCompletionPrefix((this||be).editor),(this||be).base=we.doc.createAnchor(xe.row,xe.column-Se.length),(this||be).base.$insertRight=!0,we={exactMatch:(this||be).exactMatch,ignoreCaption:(this||be).ignoreCaption},this.getCompletionProvider({prefix:Se,pos:xe}).provideCompletions((this||be).editor,we,function(we,xe,Se){var ke,Te=xe.filtered,Ee=Re.getCompletionPrefix((this||be).editor);if((this||be).$firstOpenTimer.cancel(),Se){if(!Te.length)return(ke="function"==typeof(ke=!(this||be).autoShown&&(this||be).emptyMessage)?this.emptyMessage(Ee):ke)?((this||be).completions=new He([{caption:ke,value:""}]),this.openPopup((this||be).editor,Ee,Ae),(this||be).popup.renderer.setStyle("ace_loading",!1),void(this||be).popup.renderer.setStyle("ace_empty-message",!0)):this.detach();if(1==Te.length&&Te[0].value==Ee&&!Te[0].snippet)return this.detach();if((this||be).autoInsert&&!(this||be).autoShown&&1==Te.length)return this.insertMatch(Te[0])}(this||be).completions=!Se&&(this||be).showLoadingState?new He(f.completionsForLoading.concat(Te),xe.filterText):xe,this.openPopup((this||be).editor,Ee,Ae),(this||be).popup.renderer.setStyle("ace_empty-message",!1),(this||be).popup.renderer.setStyle("ace_loading",!Se)}.bind(this||be)),void(!(this||be).showLoadingState||(this||be).autoShown||(this||be).popup&&(this||be).popup.isOpen||(this||be).$firstOpenTimer.delay((this||be).stickySelectionDelay/2)))},f.prototype.cancelContextMenu=function(){(this||be).editor.$mouseHandler.cancelContextMenu()},f.prototype.updateDocTooltip=function(){var Ae=(this||be).popup,we=(this||be).completions.filtered,xe=we&&(we[Ae.getHoveredRow()]||we[Ae.getRow()]),Se=null;if(!xe||!(this||be).editor||!(this||be).popup.isOpen)return this.hideDocTooltip();for(var ke=(this||be).editor.completers.length,Te=0;Te<ke;Te++){var Ee=(this||be).editor.completers[Te];if(Ee.getDocTooltip&&xe.completerId===Ee.id){Se=Ee.getDocTooltip(xe);break}}if(!(Se="string"==typeof(Se=Se||"string"==typeof xe?Se:xe)?{docText:Se}:Se)||!Se.docHTML&&!Se.docText)return this.hideDocTooltip();this.showDocTooltip(Se)},f.prototype.showDocTooltip=function(Ae){(this||be).tooltipNode||((this||be).tooltipNode=$e.createElement("div"),(this||be).tooltipNode.style.margin="0",(this||be).tooltipNode.style.pointerEvents="auto",(this||be).tooltipNode.style.overscrollBehavior="contain",(this||be).tooltipNode.tabIndex=-1,(this||be).tooltipNode.onblur=(this||be).blurListener.bind(this||be),(this||be).tooltipNode.onclick=(this||be).onTooltipClick.bind(this||be),(this||be).tooltipNode.id="doc-tooltip",(this||be).tooltipNode.setAttribute("role","tooltip"),(this||be).tooltipNode.addEventListener("wheel",Be));var we=(this||be).editor.renderer.theme,xe=(we=((this||be).tooltipNode.className="ace_tooltip ace_doc-tooltip "+(we.isDark?"ace_dark ":"")+(we.cssClass||""),(this||be).tooltipNode),Ae=(Ae.docHTML?we.innerHTML=Ae.docHTML:Ae.docText&&(we.textContent=Ae.docText),we.parentNode||(this||be).popup.container.appendChild((this||be).tooltipNode),(this||be).popup),Ae.container.getBoundingClientRect());we.style.top=Ae.container.style.top,we.style.bottom=Ae.container.style.bottom,we.style.display="block",window.innerWidth-xe.right<320?xe.left<320?(Ae.isTopdown?we.style.top=xe.bottom+"px":we.style.top=Ae.container.offsetTop-we.offsetHeight+"px",we.style.left=xe.left+"px",we.style.right="",we.style.bottom=""):(we.style.right=window.innerWidth-xe.left+"px",we.style.left=""):(we.style.left=xe.right+1+"px",we.style.right="")},f.prototype.hideDocTooltip=function(){var Ae;(this||be).tooltipTimer.cancel(),(this||be).tooltipNode&&(Ae=(this||be).tooltipNode,(this||be).editor.isFocused()||document.activeElement!=Ae||(this||be).editor.focus(),(this||be).tooltipNode=null,Ae.parentNode)&&Ae.parentNode.removeChild(Ae)},f.prototype.onTooltipClick=function(Ae){for(var we=Ae.target;we&&we!=(this||be).tooltipNode;){if("A"==we.nodeName&&we.href){we.rel="noreferrer",we.target="_blank";break}we=we.parentNode}},f.prototype.destroy=function(){var Ae;this.detach(),(this||be).popup&&((this||be).popup.destroy(),Ae=(this||be).popup.container)&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),(this||be).editor&&(this||be).editor.completer==(this||be)&&((this||be).editor.off("destroy",i),(this||be).editor.completer=null),(this||be).inlineRenderer=(this||be).popup=(this||be).editor=null},f);function f(){(this||be).autoInsert=!1,(this||be).autoSelect=!0,(this||be).autoShown=!1,(this||be).exactMatch=!1,(this||be).inlineEnabled=!1,(this||be).keyboardHandler=new Se,(this||be).keyboardHandler.bindKeys((this||be).commands),(this||be).parentNode=null,(this||be).setSelectOnHover=!1,(this||be).hasSeen=new Set,(this||be).showLoadingState=!1,(this||be).stickySelectionDelay=500,(this||be).blurListener=(this||be).blurListener.bind(this||be),(this||be).changeListener=(this||be).changeListener.bind(this||be),(this||be).mousedownListener=(this||be).mousedownListener.bind(this||be),(this||be).mousewheelListener=(this||be).mousewheelListener.bind(this||be),(this||be).onLayoutChange=(this||be).onLayoutChange.bind(this||be),(this||be).changeTimer=_e.delayedCall(function(){this.updateCompletions(!0)}.bind(this||be)),(this||be).tooltipTimer=_e.delayedCall((this||be).updateDocTooltip.bind(this||be),50),(this||be).popupTimer=_e.delayedCall((this||be).$updatePopupPosition.bind(this||be),50),(this||be).stickySelectionTimer=_e.delayedCall(function(){(this||be).stickySelection=!0}.bind(this||be),(this||be).stickySelectionDelay),(this||be).$firstOpenTimer=_e.delayedCall(function(){var Ae=(this||be).completionProvider&&(this||be).completionProvider.initialPosition;(this||be).autoShown||(this||be).popup&&(this||be).popup.isOpen||!Ae||0===(this||be).editor.completers.length||((this||be).completions=new He(f.completionsForLoading),this.openPopup((this||be).editor,Ae.prefix,!1),(this||be).popup.renderer.setStyle("ace_loading",!0))}.bind(this||be),(this||be).stickySelectionDelay)}We.prototype.commands={Up:function(be){be.completer.goTo("up")},Down:function(be){be.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(be){be.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(be){be.completer.goTo("end")},Esc:function(be){be.completer.detach()},Return:function(be){return be.completer.insertMatch()},"Shift-Return":function(be){be.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(be){var Ae=be.completer.insertMatch();if(Ae||be.tabstopManager)return Ae;be.completer.goTo("down")},Backspace:function(be){be.execCommand("backspace"),!Re.getCompletionPrefix(be)&&be.completer&&be.completer.detach()},PageUp:function(be){be.completer.popup.gotoPageUp()},PageDown:function(be){be.completer.popup.gotoPageDown()}},We.for=function(be){return be.completer instanceof We||(be.completer&&(be.completer.destroy(),be.completer=null),Ne.get("sharedPopups")?(We.$sharedInstance||(We.$sharedInstance=new We),be.completer=We.$sharedInstance):(be.completer=new We,be.once("destroy",i))),be.completer},We.startCommand={name:"startAutocomplete",exec:function(be,Ae){var we=We.for(be);we.autoInsert=!1,we.autoSelect=!0,we.autoShown=!1,we.showPopup(be,Ae),we.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};y.prototype.insertByIndex=function(Ae,we,xe){return!(!(this||be).completions||!(this||be).completions.filtered)&&this.insertMatch(Ae,(this||be).completions.filtered[we],xe)},y.prototype.insertMatch=function(Ae,we,xe){if(!we)return!1;if(Ae.startOperation({command:{name:"insertMatch"}}),we.completer&&we.completer.insertMatch)we.completer.insertMatch(Ae,we);else{if(!(this||be).completions)return!1;var Se=(this||be).completions.filterText.length,ke=0;if(we.range&&we.range.start.row===we.range.end.row&&(Se=(Se-=(this||be).initialPosition.prefix.length)+((this||be).initialPosition.pos.column-we.range.start.column),ke+=we.range.end.column-(this||be).initialPosition.pos.column),Se||ke)for(var Te,Ee=Ae.selection.getAllRanges?Ae.selection.getAllRanges():[Ae.getSelectionRange()],Re=0;Te=Ee[Re];Re++)Te.start.column-=Se,Te.end.column+=ke,Ae.session.remove(Te);we.snippet?Le.insertSnippet(Ae,we.snippet):this.$insertString(Ae,we),we.completer&&we.completer.onInsert&&"function"==typeof we.completer.onInsert&&we.completer.onInsert(Ae,we),we.command&&"startAutocomplete"===we.command&&Ae.execCommand(we.command)}return Ae.endOperation(),!0},y.prototype.$insertString=function(be,Ae){Ae=Ae.value||Ae;be.execCommand("insertstring",Ae)},y.prototype.gatherCompletions=function(Ae,we){var xe=Ae.getSession(),Se=Ae.getCursorPosition(),ke=Re.getCompletionPrefix(Ae),Te=[],Ee=((this||be).completers=Ae.completers,Ae.completers.length);return Ae.completers.forEach((function(be,_e){be.getCompletions(Ae,xe,Se,ke,(function(xe,Se){be.hideInlinePreview&&(Se=Se.map((function(Ae){return Object.assign(Ae,{hideInlinePreview:be.hideInlinePreview})}))),!xe&&Se&&(Te=Te.concat(Se)),we(null,{prefix:Re.getCompletionPrefix(Ae),matches:Te,finished:0==--Ee})}))})),!0},y.prototype.provideCompletions=function(Ae,we,xe){var Se=function(Ae){var Se=Ae.prefix,ke=Ae.matches;(this||be).completions=new He(ke),we.exactMatch&&((this||be).completions.exactMatch=!0),we.ignoreCaption&&((this||be).completions.ignoreCaption=!0),(this||be).completions.setFilter(Se),(Ae.finished||(this||be).completions.filtered.length)&&xe(null,(this||be).completions,Ae.finished)}.bind(this||be),ke=!0,Te=null;this.gatherCompletions(Ae,function(Ae,we){(this||be).active&&(Ae&&(xe(Ae,[],!0),this.detach()),0===we.prefix.indexOf(we.prefix))&&(ke?Te=we:Se(we))}.bind(this||be)),ke=!1,Te&&(Ae=Te,Te=null,Se(Ae))},y.prototype.detach=function(){(this||be).active=!1,(this||be).completers&&(this||be).completers.forEach((function(be){"function"==typeof be.cancel&&be.cancel()}))};var Pe=y;function y(Ae){(this||be).initialPosition=Ae,(this||be).active=!0}I.prototype.setFilter=function(Ae){we=Ae.length>(this||be).filterText&&0===Ae.lastIndexOf((this||be).filterText,0)?(this||be).filtered:(this||be).all,(this||be).filterText=Ae,we=(we=this.filterCompletions(we,(this||be).filterText)).sort((function(be,Ae){return Ae.exactMatch-be.exactMatch||Ae.$score-be.$score||(be.caption||be.value).localeCompare(Ae.caption||Ae.value)}));var we,xe=null;we=we.filter((function(be){be=be.snippet||be.caption||be.value;return be!==xe&&(xe=be,!0)})),(this||be).filtered=we},I.prototype.filterCompletions=function(Ae,we){var xe=[],Se=we.toUpperCase(),ke=we.toLowerCase();e:for(var Te,Ee=0;Te=Ae[Ee];Ee++){var Re=!(this||be).ignoreCaption&&Te.caption||Te.value||Te.snippet;if(Re){var _e=-1,$e=0,Le=0;if((this||be).exactMatch){if(we!==Re.substr(0,we.length))continue}else{var Ne=Re.toLowerCase().indexOf(ke);if(-1<Ne)Le=Ne;else for(var Me=0;Me<we.length;Me++){var Be=Re.indexOf(ke[Me],_e+1),We=Re.indexOf(Se[Me],_e+1);if((Be=0<=Be&&(We<0||Be<We)?Be:We)<0)continue e;0<(We=Be-_e-1)&&(-1===_e&&(Le+=10),Le+=We,$e|=1<<Me),_e=Be}}Te.matchMask=$e,Te.exactMatch=Le?0:1,Te.$score=(Te.score||0)-Le,xe.push(Te)}}return xe};var He=I;function I(Ae,we){(this||be).all=Ae,(this||be).filtered=Ae,(this||be).filterText=we||"",(this||be).exactMatch=!1,(this||be).ignoreCaption=!1}we.Autocomplete=We,we.CompletionProvider=Pe,we.FilteredList=He})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(be,Ae,we){var xe=be("../range").Range,Se=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function l(be,Ae){var we=be.getTextRange(xe.fromPoints({row:0,column:0},Ae)).split(Se).length-1,ke=be.getValue().split(Se),Te=Object.create(null),Ee=ke[we];return ke.forEach((function(be,Ae){be&&be!==Ee&&(Ae=Math.abs(we-Ae),Ae=ke.length-Ae,Te[be]?Te[be]=Math.max(Ae,Te[be]):Te[be]=Ae)})),Te}Ae.getCompletions=function(be,Ae,we,xe,Se){var ke=l(Ae,we);Se(null,Object.keys(ke).map((function(be){return{caption:be,value:be,score:ke[be],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(Ae,we,xe){function i(be,Ae){f(Ae.session.$mode)}function o(be){var Ae=be.editor,we=Ae.completer&&Ae.completer.activated;"backspace"===be.command.name?we&&!_e.getCompletionPrefix(Ae)&&Ae.completer.detach():"insertstring"!==be.command.name||we||((Ae=(Se=be).editor.$liveAutocompletionDelay)?We.delay(Ae):v(be))}var Se,ke=Ae("../snippets").snippetManager,Te=Ae("../autocomplete").Autocomplete,Ee=Ae("../config"),Re=Ae("../lib/lang"),_e=Ae("../autocomplete/util"),$e=Ae("../autocomplete/text_completer"),Le={getCompletions:function(be,Ae,we,xe,Se){if(Ae.$mode.completer)return Ae.$mode.completer.getCompletions(be,Ae,we,xe,Se);be=be.session.getState(we.row);Se(null,Ae.$mode.getCompletions(be,Ae,we,xe).map((function(be){return be.completerId=Le.id,be})))},id:"keywordCompleter"},Ne={getCompletions:function(Ae,we,xe,Se,Te){var Ee=[],Re=(we=we.getTokenAt(xe.row,xe.column),we&&we.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?Ee.push("html-tag"):Ee=ke.getActiveScopes(Ae),ke.snippetMap),_e=[];Ee.forEach((function(be){for(var Ae=Re[be]||[],we=Ae.length;we--;){var xe=Ae[we],Se=xe.name||xe.tabTrigger;Se&&_e.push({caption:Se,snippet:xe.content,meta:xe.tabTrigger&&!xe.name?xe.tabTrigger+"⇥ ":"snippet",completerId:Ne.id})}}),this||be),Te(null,_e)},getDocTooltip:function(be){var Ae;be.snippet&&!be.docHTML&&(be.docHTML=["<b>",Re.escapeHTML(be.caption),"</b>","<hr></hr>",Re.escapeHTML((be=be.snippet,Ae={},be.replace(/\${(\d+)(:(.*?))?}/g,(function(be,we,xe,Se){return Ae[we]=Se||""})).replace(/\$(\d+?)/g,(function(be,we){return Ae[we]}))))].join(""))},id:"snippetCompleter"},Me=[Ne,$e,Le],Be=(we.setCompleters=function(be){Me.length=0,be&&Me.push.apply(Me,be)},we.addCompleter=function(be){Me.push(be)},we.textCompleter=$e,we.keyWordCompleter=Le,we.snippetCompleter=Ne,{name:"expandSnippet",exec:function(be){return ke.expandWithTab(be)},bindKey:"Tab"}),f=function(be){(be="string"==typeof be?Ee.$modes[be]:be)&&(ke.files||(ke.files={}),C(be.$id,be.snippetFileId),be.modes)&&be.modes.forEach(f)},C=function(be,Ae){Ae&&be&&!ke.files[be]&&(ke.files[be]={},Ee.loadModule(Ae,(function(Ae){Ae&&(!(ke.files[be]=Ae).snippets&&Ae.snippetText&&(Ae.snippets=ke.parseSnippetFile(Ae.snippetText)),ke.register(Ae.snippets||[],Ae.scope),Ae.includeScopes)&&(ke.snippetMap[Ae.scope].includeScopes=Ae.includeScopes,Ae.includeScopes.forEach((function(be){f("ace/mode/"+be)})))})))},We=Re.delayedCall((function(){v(Se)}),0),v=function(be){var Ae=be.editor,we=_e.getCompletionPrefix(Ae);be=be.args,be=_e.triggerAutocomplete(Ae,be);(we&&we.length>=Ae.$liveAutocompletionThreshold||be)&&((we=Te.for(Ae)).autoShown=!0,we.showPopup(Ae))};$e=Ae("../editor").Editor;Ae("../config").defineOptions($e.prototype,"editor",{enableBasicAutocompletion:{set:function(Ae){Ae?((this||be).completers||((this||be).completers=Array.isArray(Ae)?Ae:Me),(this||be).commands.addCommand(Te.startCommand)):(this||be).commands.removeCommand(Te.startCommand)},value:!1},enableLiveAutocompletion:{set:function(Ae){Ae?((this||be).completers||((this||be).completers=Array.isArray(Ae)?Ae:Me),(this||be).commands.on("afterExec",o)):(this||be).commands.off("afterExec",o)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(Ae){Ae?((this||be).commands.addCommand(Be),this.on("changeMode",i),i(0,this||be)):((this||be).commands.removeCommand(Be),this.off("changeMode",i))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(be){Ae&&(Ae.exports=be)}))},6534:function(Ae,we,xe){Ae=xe.nmd(Ae),ace.define("ace/ext/searchbox-css",["require","exports","module"],(function(be,Ae,we){we.exports='\n\n/* ------------------------------------------------------------------------------------------\n * Editor Search Form\n * --------------------------------------------------------------------------------------- */\n.ace_search {\n    background-color: #ddd;\n    color: #666;\n    border: 1px solid #cbcbcb;\n    border-top: 0 none;\n    overflow: hidden;\n    margin: 0;\n    padding: 4px 6px 0 4px;\n    position: absolute;\n    top: 0;\n    z-index: 99;\n    white-space: normal;\n}\n.ace_search.left {\n    border-left: 0 none;\n    border-radius: 0px 0px 5px 0px;\n    left: 0;\n}\n.ace_search.right {\n    border-radius: 0px 0px 0px 5px;\n    border-right: 0 none;\n    right: 0;\n}\n\n.ace_search_form, .ace_replace_form {\n    margin: 0 20px 4px 0;\n    overflow: hidden;\n    line-height: 1.9;\n}\n.ace_replace_form {\n    margin-right: 0;\n}\n.ace_search_form.ace_nomatch {\n    outline: 1px solid red;\n}\n\n.ace_search_field {\n    border-radius: 3px 0 0 3px;\n    background-color: white;\n    color: black;\n    border: 1px solid #cbcbcb;\n    border-right: 0 none;\n    outline: 0;\n    padding: 0;\n    font-size: inherit;\n    margin: 0;\n    line-height: inherit;\n    padding: 0 6px;\n    min-width: 17em;\n    vertical-align: top;\n    min-height: 1.8em;\n    box-sizing: content-box;\n}\n.ace_searchbtn {\n    border: 1px solid #cbcbcb;\n    line-height: inherit;\n    display: inline-block;\n    padding: 0 6px;\n    background: #fff;\n    border-right: 0 none;\n    border-left: 1px solid #dcdcdc;\n    cursor: pointer;\n    margin: 0;\n    position: relative;\n    color: #666;\n}\n.ace_searchbtn:last-child {\n    border-radius: 0 3px 3px 0;\n    border-right: 1px solid #cbcbcb;\n}\n.ace_searchbtn:disabled {\n    background: none;\n    cursor: default;\n}\n.ace_searchbtn:hover {\n    background-color: #eef1f6;\n}\n.ace_searchbtn.prev, .ace_searchbtn.next {\n     padding: 0px 0.7em\n}\n.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\n     content: "";\n     border: solid 2px #888;\n     width: 0.5em;\n     height: 0.5em;\n     border-width:  2px 0 0 2px;\n     display:inline-block;\n     transform: rotate(-45deg);\n}\n.ace_searchbtn.next:after {\n     border-width: 0 2px 2px 0 ;\n}\n.ace_searchbtn_close {\n    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\n    border-radius: 50%;\n    border: 0 none;\n    color: #656565;\n    cursor: pointer;\n    font: 16px/16px Arial;\n    padding: 0;\n    height: 14px;\n    width: 14px;\n    top: 9px;\n    right: 7px;\n    position: absolute;\n}\n.ace_searchbtn_close:hover {\n    background-color: #656565;\n    background-position: 50% 100%;\n    color: white;\n}\n\n.ace_button {\n    margin-left: 2px;\n    cursor: pointer;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n    opacity: 0.7;\n    border: 1px solid rgba(100,100,100,0.23);\n    padding: 1px;\n    box-sizing:    border-box!important;\n    color: black;\n}\n\n.ace_button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_button:active {\n    background-color: #ddd;\n}\n\n.ace_button.checked {\n    border-color: #3399ff;\n    opacity:1;\n}\n\n.ace_search_options{\n    margin-bottom: 3px;\n    text-align: right;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -o-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    clear: both;\n}\n\n.ace_search_counter {\n    float: left;\n    font-family: arial;\n    padding: 0 8px;\n}'})),ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/ext/searchbox-css","ace/keyboard/hash_handler","ace/lib/keys","ace/config"],(function(Ae,we,xe){var Se=Ae("../lib/dom"),ke=Ae("../lib/lang"),Te=Ae("../lib/event"),Ee=Ae("./searchbox-css"),Re=Ae("../keyboard/hash_handler").HashHandler,_e=Ae("../lib/keys"),$e=Ae("../config").nls,Le=(Se.importCssString(Ee,"ace_searchbox",!1),d.prototype.setEditor=function(Ae){Ae.searchBox=this||be,Ae.renderer.scroller.appendChild((this||be).element),(this||be).editor=Ae},d.prototype.setSession=function(Ae){(this||be).searchRange=null,this.$syncOptions(!0)},d.prototype.$initElements=function(Ae){(this||be).searchBox=Ae.querySelector(".ace_search_form"),(this||be).replaceBox=Ae.querySelector(".ace_replace_form"),(this||be).searchOption=Ae.querySelector("[action=searchInSelection]"),(this||be).replaceOption=Ae.querySelector("[action=toggleReplace]"),(this||be).regExpOption=Ae.querySelector("[action=toggleRegexpMode]"),(this||be).caseSensitiveOption=Ae.querySelector("[action=toggleCaseSensitive]"),(this||be).wholeWordOption=Ae.querySelector("[action=toggleWholeWords]"),(this||be).searchInput=(this||be).searchBox.querySelector(".ace_search_field"),(this||be).replaceInput=(this||be).replaceBox.querySelector(".ace_search_field"),(this||be).searchCounter=Ae.querySelector(".ace_search_counter")},d.prototype.$init=function(){var Ae=(this||be).element,we=(this.$initElements(Ae),this||be);Te.addListener(Ae,"mousedown",(function(be){setTimeout((function(){we.activeInput.focus()}),0),Te.stopPropagation(be)})),Te.addListener(Ae,"click",(function(be){var Ae=(be.target||be.srcElement).getAttribute("action");Ae&&we[Ae]?we[Ae]():we.$searchBarKb.commands[Ae]&&we.$searchBarKb.commands[Ae].exec(we),Te.stopPropagation(be)})),Te.addCommandKeyListener(Ae,(function(be,Ae,xe){xe=_e.keyCodeToString(xe),Ae=we.$searchBarKb.findKeyCommand(Ae,xe);Ae&&Ae.exec&&(Ae.exec(we),Te.stopEvent(be))})),(this||be).$onChange=ke.delayedCall((function(){we.find(!1,!1)})),Te.addListener((this||be).searchInput,"input",(function(){we.$onChange.schedule(20)})),Te.addListener((this||be).searchInput,"focus",(function(){we.activeInput=we.searchInput,we.searchInput.value&&we.highlight()})),Te.addListener((this||be).replaceInput,"focus",(function(){we.activeInput=we.replaceInput,we.searchInput.value&&we.highlight()}))},d.prototype.setSearchRange=function(Ae){((this||be).searchRange=Ae)?(this||be).searchRangeMarker=(this||be).editor.session.addMarker(Ae,"ace_active-line"):(this||be).searchRangeMarker&&((this||be).editor.session.removeMarker((this||be).searchRangeMarker),(this||be).searchRangeMarker=null)},d.prototype.$syncOptions=function(Ae){Se.setCssClass((this||be).replaceOption,"checked",(this||be).searchRange),Se.setCssClass((this||be).searchOption,"checked",(this||be).searchOption.checked),(this||be).replaceOption.textContent=(this||be).replaceOption.checked?"-":"+",Se.setCssClass((this||be).regExpOption,"checked",(this||be).regExpOption.checked),Se.setCssClass((this||be).wholeWordOption,"checked",(this||be).wholeWordOption.checked),Se.setCssClass((this||be).caseSensitiveOption,"checked",(this||be).caseSensitiveOption.checked);var we=(this||be).editor.getReadOnly();(this||be).replaceOption.style.display=we?"none":"",(this||be).replaceBox.style.display=(this||be).replaceOption.checked&&!we?"":"none",this.find(!1,!1,Ae)},d.prototype.highlight=function(Ae){(this||be).editor.session.highlight(Ae||(this||be).editor.$search.$options.re),(this||be).editor.renderer.updateBackMarkers()},d.prototype.find=function(Ae,we,xe){Ae=!(this||be).editor.find((this||be).searchInput.value,{skipCurrent:Ae,backwards:we,wrap:!0,regExp:(this||be).regExpOption.checked,caseSensitive:(this||be).caseSensitiveOption.checked,wholeWord:(this||be).wholeWordOption.checked,preventScroll:xe,range:(this||be).searchRange})&&(this||be).searchInput.value;Se.setCssClass((this||be).searchBox,"ace_nomatch",Ae),(this||be).editor._emit("findSearchBox",{match:!Ae}),this.highlight(),this.updateCounter()},d.prototype.updateCounter=function(){var Ae=(this||be).editor,we=Ae.$search.$options.re,xe=we.unicode,Se=0,Te=0;if(we){var Ee,Re,_e=(this||be).searchRange?Ae.session.getTextRange((this||be).searchRange):Ae.getValue(),Le=Ae.session.doc.positionToIndex(Ae.selection.anchor);for((this||be).searchRange&&(Le-=Ae.session.doc.positionToIndex((this||be).searchRange.start)),we.lastIndex=0;(Re=we.exec(_e))&&((Ee=Re.index)<=Le&&Te++,!(999<++Se))&&(Re[0]||(we.lastIndex=Ee+=ke.skipEmptyMatch(_e,Ee,xe),!(Ee>=_e.length))););}(this||be).searchCounter.textContent=$e("search-box.search-counter","$0 of $1",[Te,999<Se?"999+":Se])},d.prototype.findNext=function(){this.find(!0,!1)},d.prototype.findPrev=function(){this.find(!0,!0)},d.prototype.findAll=function(){var Ae=!(this||be).editor.findAll((this||be).searchInput.value,{regExp:(this||be).regExpOption.checked,caseSensitive:(this||be).caseSensitiveOption.checked,wholeWord:(this||be).wholeWordOption.checked})&&(this||be).searchInput.value;Se.setCssClass((this||be).searchBox,"ace_nomatch",Ae),(this||be).editor._emit("findSearchBox",{match:!Ae}),this.highlight(),this.hide()},d.prototype.replace=function(){(this||be).editor.getReadOnly()||(this||be).editor.replace((this||be).replaceInput.value)},d.prototype.replaceAndFindNext=function(){(this||be).editor.getReadOnly()||((this||be).editor.replace((this||be).replaceInput.value),this.findNext())},d.prototype.replaceAll=function(){(this||be).editor.getReadOnly()||(this||be).editor.replaceAll((this||be).replaceInput.value)},d.prototype.hide=function(){(this||be).active=!1,this.setSearchRange(null),(this||be).editor.off("changeSession",(this||be).setSession),(this||be).element.style.display="none",(this||be).editor.keyBinding.removeKeyboardHandler((this||be).$closeSearchBarKb),(this||be).editor.focus()},d.prototype.show=function(Ae,we){(this||be).active=!0,(this||be).editor.on("changeSession",(this||be).setSession),(this||be).element.style.display="",(this||be).replaceOption.checked=we,Ae&&((this||be).searchInput.value=Ae),(this||be).searchInput.focus(),(this||be).searchInput.select(),(this||be).editor.keyBinding.addKeyboardHandler((this||be).$closeSearchBarKb),this.$syncOptions(!0)},d.prototype.isFocused=function(){var Ae=document.activeElement;return Ae==(this||be).searchInput||Ae==(this||be).replaceInput},d);function d(Ae,we,xe){(this||be).activeInput;var ke=Se.createElement("div");Se.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:$e("search-box.find.placeholder","Search for"),spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"​"],["span",{action:"findNext",class:"ace_searchbtn next"},"​"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},$e("search-box.find-all.text","All")]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:$e("search-box.replace.placeholder","Replace with"),spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},$e("search-box.replace-next.text","Replace")],["span",{action:"replaceAll",class:"ace_searchbtn"},$e("search-box.replace-all.text","All")]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:$e("search-box.toggle-replace.title","Toggle Replace mode"),style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:$e("search-box.toggle-regexp.title","RegExp Search")},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:$e("search-box.toggle-case.title","CaseSensitive Search")},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:$e("search-box.toggle-whole-word.title","Whole Word Search")},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:$e("search-box.toggle-in-selection.title","Search In Selection")},"S"]]],ke),(this||be).element=ke.firstChild,(this||be).setSession=(this||be).setSession.bind(this||be),this.$init(),this.setEditor(Ae),Se.importCssString(Ee,"ace_searchbox",Ae.container)}Ae=new Re,Ae.bindKeys({"Ctrl-f|Command-f":function(be){var Ae=be.isReplace=!be.isReplace;be.replaceBox.style.display=Ae?"":"none",be.replaceOption.checked=!1,be.$syncOptions(),be.searchInput.focus()},"Ctrl-H|Command-Option-F":function(be){be.editor.getReadOnly()||(be.replaceOption.checked=!0,be.$syncOptions(),be.replaceInput.focus())},"Ctrl-G|Command-G":function(be){be.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(be){be.findPrev()},esc:function(be){setTimeout((function(){be.hide()}))},Return:function(be){be.activeInput==be.replaceInput&&be.replace(),be.findNext()},"Shift-Return":function(be){be.activeInput==be.replaceInput&&be.replace(),be.findPrev()},"Alt-Return":function(be){be.activeInput==be.replaceInput&&be.replaceAll(),be.findAll()},Tab:function(be){(be.activeInput==be.replaceInput?be.searchInput:be.replaceInput).focus()}}),Ae.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(be){be.regExpOption.checked=!be.regExpOption.checked,be.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(be){be.caseSensitiveOption.checked=!be.caseSensitiveOption.checked,be.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(be){be.wholeWordOption.checked=!be.wholeWordOption.checked,be.$syncOptions()}},{name:"toggleReplace",exec:function(be){be.replaceOption.checked=!be.replaceOption.checked,be.$syncOptions()}},{name:"searchInSelection",exec:function(be){be.searchOption.checked=!be.searchRange,be.setSearchRange(be.searchOption.checked&&be.editor.getSelectionRange()),be.$syncOptions()}}]),Re=new Re([{bindKey:"Esc",name:"closeSearchBar",exec:function(be){be.searchBox.hide()}}]);Le.prototype.$searchBarKb=Ae,Le.prototype.$closeSearchBarKb=Re,we.SearchBox=Le,we.Search=function(be,Ae){(be.searchBox||new Le(be)).show(be.session.getTextRange(),Ae)}})),ace.require(["ace/ext/searchbox"],(function(be){Ae&&(Ae.exports=be)}))},4221:function(Ae,we,xe){Ae=xe.nmd(Ae),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(Ae,we,xe){function i(){(this||be).$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}}var Se=Ae("../lib/oop");Ae=Ae("./text_highlight_rules").TextHighlightRules;Se.inherits(i,Ae),we.JsonHighlightRules=i})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(Ae,we,xe){function i(){}var Se=Ae("../range").Range;!function(){(this||be).checkOutdent=function(be,Ae){return!!/^\s+$/.test(be)&&/^\s*\}/.test(Ae)},(this||be).autoOutdent=function(be,Ae){var we,xe=be.getLine(Ae).match(/^(\s*\})/);return xe&&(xe=xe[1].length,we=be.findMatchingBracket({row:Ae,column:xe}))&&we.row!=Ae?(we=this.$getIndent(be.getLine(we.row)),void be.replace(new Se(Ae,0,Ae,xe-1),we)):0},(this||be).$getIndent=function(be){return be.match(/^\s*/)[0]}}.call(i.prototype),we.MatchingBraceOutdent=i})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(Ae,we,xe){var Se=Ae("../../lib/oop"),ke=Ae("../../range").Range;Ae=Ae("./fold_mode").FoldMode,we=we.FoldMode=function(Ae){Ae&&((this||be).foldingStartMarker=new RegExp((this||be).foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+Ae.start)),(this||be).foldingStopMarker=new RegExp((this||be).foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+Ae.end)))};Se.inherits(we,Ae),function(){(this||be).foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,(this||be).foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,(this||be).singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,(this||be).tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,(this||be).startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,(this||be)._getFoldWidgetBase=(this||be).getFoldWidget,(this||be).getFoldWidget=function(Ae,we,xe){var Se=Ae.getLine(xe);return!(this||be).singleLineBlockCommentRe.test(Se)||(this||be).startRegionRe.test(Se)||(this||be).tripleStarBlockCommentRe.test(Se)?!(Ae=this._getFoldWidgetBase(Ae,we,xe))&&(this||be).startRegionRe.test(Se)?"start":Ae:""},(this||be).getFoldWidgetRange=function(Ae,we,xe,Se){var ke,Te,Ee,Re=Ae.getLine(xe);return(this||be).startRegionRe.test(Re)?this.getCommentRegionBlock(Ae,Re,xe):(Te=Re.match((this||be).foldingStartMarker))?(Ee=Te.index,Te[1]?this.openingBracketBlock(Ae,Te[1],xe,Ee):((ke=Ae.getCommentFoldRange(xe,Ee+Te[0].length,1))&&!ke.isMultiLine()&&(Se?ke=this.getSectionRange(Ae,xe):"all"!=we&&(ke=null)),ke)):"markbegin"!==we&&(Te=Re.match((this||be).foldingStopMarker))?(Ee=Te.index+Te[0].length,Te[1]?this.closingBracketBlock(Ae,Te[1],xe,Ee):Ae.getCommentFoldRange(xe,Ee,-1)):void 0},(this||be).getSectionRange=function(be,Ae){for(var we=(Re=be.getLine(Ae)).search(/\S/),xe=Ae,Se=Re.length,Te=Ae+=1,Ee=be.getLength();++Ae<Ee;){var Re,_e=(Re=be.getLine(Ae)).search(/\S/);if(-1!==_e){if(_e<we)break;var $e=this.getFoldWidgetRange(be,"all",Ae);if($e){if($e.start.row<=xe)break;if($e.isMultiLine())Ae=$e.end.row;else if(we==_e)break}Te=Ae}}return new ke(xe,Se,Te,be.getLine(Te).length)},(this||be).getCommentRegionBlock=function(be,Ae,we){for(var xe=Ae.search(/\s*$/),Se=be.getLength(),Te=we,Ee=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,Re=1;++we<Se;){Ae=be.getLine(we);var _e=Ee.exec(Ae);if(_e&&(_e[1]?Re--:Re++,!Re))break}if(Te<we)return new ke(Te,xe,we,Ae.length)}}.call(we.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(Ae,we,xe){function i(){(this||be).HighlightRules=Te,(this||be).$outdent=new Ee,(this||be).$behaviour=(this||be).$defaultBehaviour,(this||be).foldingRules=new Re}var Se=Ae("../lib/oop"),ke=Ae("./text").Mode,Te=Ae("./json_highlight_rules").JsonHighlightRules,Ee=Ae("./matching_brace_outdent").MatchingBraceOutdent,Re=Ae("./folding/cstyle").FoldMode,_e=Ae("../worker/worker_client").WorkerClient;Se.inherits(i,ke),function(){(this||be).lineCommentStart="//",(this||be).blockComment={start:"/*",end:"*/"},(this||be).getNextLineIndent=function(be,Ae,we){var xe=this.$getIndent(Ae);return"start"==be&&Ae.match(/^.*[\{\(\[]\s*$/)&&(xe+=we),xe},(this||be).checkOutdent=function(Ae,we,xe){return(this||be).$outdent.checkOutdent(we,xe)},(this||be).autoOutdent=function(Ae,we,xe){(this||be).$outdent.autoOutdent(we,xe)},(this||be).createWorker=function(be){var Ae=new _e(["ace"],"ace/mode/json_worker","JsonWorker");return Ae.attachToDocument(be.getDocument()),Ae.on("annotate",(function(Ae){be.setAnnotations(Ae.data)})),Ae.on("terminate",(function(){be.clearAnnotations()})),Ae},(this||be).$id="ace/mode/json"}.call(i.prototype),we.Mode=i})),ace.require(["ace/mode/json"],(function(be){Ae&&(Ae.exports=be)}))},2229:function(Ae,we,xe){var Se=xe(2620),ke=xe(4292),Te=xe(9336),Ee=xe(4427),Re=xe(9306),_e=xe(2084),$e=xe(3483),Le=xe(8852),Ne=xe(6862),Me=(Ae=((Ae.exports=w).prototype.validate=function(Ae,we){var xe;if("string"==typeof Ae){if(!(xe=this.getSchema(Ae)))throw new Error('no schema with key or ref "'+Ae+'"')}else{Ae=this._addSchema(Ae);xe=Ae.validate||this._compile(Ae)}Ae=xe(we);!0!==xe.$async&&((this||be).errors=xe.errors);return Ae},w.prototype.compile=function(be,Ae){be=this._addSchema(be,void 0,Ae);return be.validate||this._compile(be)},w.prototype.addSchema=function(Ae,we,xe,Se){if(Array.isArray(Ae))for(var Te=0;Te<Ae.length;Te++)this.addSchema(Ae[Te],void 0,xe,Se);else{var Ee=this._getId(Ae);if(void 0!==Ee&&"string"!=typeof Ee)throw new Error("schema id must be string");h(this||be,we=ke.normalizeId(we||Ee)),(this||be)._schemas[we]=this._addSchema(Ae,xe,Se,!0)}return this||be},w.prototype.addMetaSchema=function(Ae,we,xe){return this.addSchema(Ae,we,xe,!0),this||be},w.prototype.validateSchema=function(Ae,we){var xe=Ae.$schema;if(void 0!==xe&&"string"!=typeof xe)throw new Error("$schema must be a string");if(!(xe=xe||(this||be)._opts.defaultMeta||function(be){var Ae=be._opts.meta;return be._opts.defaultMeta="object"==typeof Ae?be._getId(Ae)||Ae:be.getSchema(Me)?Me:void 0,be._opts.defaultMeta}(this||be)))return(this||be).logger.warn("meta-schema not available"),!((this||be).errors=null);xe=this.validate(xe,Ae);if(!xe&&we){Ae="schema is invalid: "+this.errorsText();if("log"!=(this||be)._opts.validateSchema)throw new Error(Ae);(this||be).logger.error(Ae)}return xe},w.prototype.getSchema=function(Ae){var we=n(this||be,Ae);switch(typeof we){case"object":return we.validate||this._compile(we);case"string":return this.getSchema(we);case"undefined":return function(be,Ae){var we=ke.schema.call(be,{schema:{}},Ae);var xe,Te,Re;if(we)return xe=we.schema,Te=we.root,we=we.baseId,Re=Se.call(be,xe,Te,void 0,we),be._fragments[Ae]=new Ee({ref:Ae,fragment:!0,schema:xe,root:Te,baseId:we,validate:Re}),Re}(this||be,Ae)}},w.prototype.removeSchema=function(Ae){if(Ae instanceof RegExp)i(this||be,(this||be)._schemas,Ae),i(this||be,(this||be)._refs,Ae);else switch(typeof Ae){case"undefined":return i(this||be,(this||be)._schemas),i(this||be,(this||be)._refs),(this||be)._cache.clear(),this||be;case"string":var we=n(this||be,Ae);return we&&(this||be)._cache.del(we.cacheKey),delete(this||be)._schemas[Ae],delete(this||be)._refs[Ae],this||be;case"object":we=(this||be)._opts.serialize,we=we?we(Ae):Ae,we=((this||be)._cache.del(we),this._getId(Ae));we&&(we=ke.normalizeId(we),delete(this||be)._schemas[we],delete(this||be)._refs[we])}return this||be},w.prototype.addFormat=function(Ae,we){"string"==typeof we&&(we=new RegExp(we));return(this||be)._formats[Ae]=we,this||be},w.prototype.errorsText=function(Ae,we){if(!(Ae=Ae||(this||be).errors))return"No errors";for(var xe=void 0===(we=we||{}).separator?", ":we.separator,Se=void 0===we.dataVar?"data":we.dataVar,ke="",Te=0;Te<Ae.length;Te++){var Ee=Ae[Te];Ee&&(ke+=Se+Ee.dataPath+" "+Ee.message+xe)}return ke.slice(0,-xe.length)},w.prototype._addSchema=function(Ae,we,xe,Se){if("object"!=typeof Ae&&"boolean"!=typeof Ae)throw new Error("schema should be object or boolean");var Te=(this||be)._opts.serialize,Re=(Te=Te?Te(Ae):Ae,(this||be)._cache.get(Te));if(Re)return Re;Se=Se||!1!==(this||be)._opts.addUsedSchema;Re=ke.normalizeId(this._getId(Ae));Re&&Se&&h(this||be,Re);var _e;we=!1!==(this||be)._opts.validateSchema&&!we;we&&!(_e=Re&&Re==ke.normalizeId(Ae.$schema))&&this.validateSchema(Ae,!0);var $e=ke.ids.call(this||be,Ae);$e=new Ee({id:Re,schema:Ae,localRefs:$e,cacheKey:Te,meta:xe});"#"!=Re[0]&&Se&&((this||be)._refs[Re]=$e);(this||be)._cache.put(Te,$e),we&&_e&&this.validateSchema(Ae,!0);return $e},w.prototype._compile=function(Ae,we){if(Ae.compiling)return(Ae.validate=o).schema=Ae.schema,o.errors=null,o.root=we||o,!0===Ae.schema.$async&&(o.$async=!0),o;var xe,ke;Ae.compiling=!0,Ae.meta&&(xe=(this||be)._opts,(this||be)._opts=(this||be)._metaOpts);try{ke=Se.call(this||be,Ae.schema,we,Ae.localRefs)}catch(we){throw delete Ae.validate,we}finally{Ae.compiling=!1,Ae.meta&&((this||be)._opts=xe)}return Ae.validate=ke,Ae.refs=ke.refs,Ae.refVal=ke.refVal,Ae.root=ke.root,ke;function o(){var we=Ae.validate,xe=we.apply(this||be,arguments);return o.errors=we.errors,xe}},w.prototype.compileAsync=xe(600),xe(413)),Ae=(w.prototype.addKeyword=Ae.add,w.prototype.getKeyword=Ae.get,w.prototype.removeKeyword=Ae.remove,w.prototype.validateKeyword=Ae.validate,xe(3689)),w.ValidationError=Ae.Validation,w.MissingRefError=Ae.MissingRef,w.$dataMetaSchema=Le,"http://json-schema.org/draft-07/schema"),Be=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],We=["/properties"];function w(Ae){if(!((this||be)instanceof w))return new w(Ae);Ae=(this||be)._opts=Ne.copy(Ae)||{};var we=this||be,Se=we._opts.logger;if(!1===Se)we.logger={log:T,warn:T,error:T};else{if(!("object"==typeof(Se=void 0===Se?console:Se)&&Se.log&&Se.warn&&Se.error))throw new Error("logger must implement log, warn and error methods");we.logger=Se}if((this||be)._schemas={},(this||be)._refs={},(this||be)._fragments={},(this||be)._formats=_e(Ae.format),(this||be)._cache=Ae.cache||new Te,(this||be)._loadingSchemas={},(this||be)._compilations=[],(this||be).RULES=$e(),(this||be)._getId=function(be){switch(be.schemaId){case"auto":return k;case"id":return S;default:return x}}(Ae),Ae.loopRequired=Ae.loopRequired||1/0,"property"==Ae.errorDataPath&&(Ae._errorDataPathProperty=!0),void 0===Ae.serialize&&(Ae.serialize=Re),(this||be)._metaOpts=function(be){for(var Ae=Ne.copy(be._opts),we=0;we<Be.length;we++)delete Ae[Be[we]];return Ae}(this||be),Ae.formats){var ke,Ee=this||be;for(ke in Ee._opts.formats){var Pe=Ee._opts.formats[ke];Ee.addFormat(ke,Pe)}}if(Ae.keywords){var He,Ge=this||be;for(He in Ge._opts.keywords){var Fe=Ge._opts.keywords[He];Ge.addKeyword(He,Fe)}}we=this||be;var Oe,Ve=(we._opts.$data&&(Oe=xe(3420),we.addMetaSchema(Oe,Oe.$id,!0)),!1!==we._opts.meta&&(Oe=xe(8198),we._opts.$data&&(Oe=Le(Oe,We)),we.addMetaSchema(Oe,Me,!0),we._refs["http://json-schema.org/schema"]=Me),"object"==typeof Ae.meta&&this.addMetaSchema(Ae.meta),Ae.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),this||be),Ze=Ve._opts.schemas;if(Ze)if(Array.isArray(Ze))Ve.addSchema(Ze);else for(var De in Ze)Ve.addSchema(Ze[De],De)}function n(be,Ae){return Ae=ke.normalizeId(Ae),be._schemas[Ae]||be._refs[Ae]||be._fragments[Ae]}function i(be,Ae,we){for(var xe in Ae){var Se=Ae[xe];Se.meta||we&&!we.test(xe)||(be._cache.del(Se.cacheKey),delete Ae[xe])}}function S(Ae){return Ae.$id&&(this||be).logger.warn("schema $id ignored",Ae.$id),Ae.id}function x(Ae){return Ae.id&&(this||be).logger.warn("schema id ignored",Ae.id),Ae.$id}function k(be){if(be.$id&&be.id&&be.$id!=be.id)throw new Error("schema $id is different from id");return be.$id||be.id}function h(be,Ae){if(be._schemas[Ae]||be._refs[Ae])throw new Error('schema with key or id "'+Ae+'" already exists')}function T(){}},9336:function(Ae){Ae=Ae.exports=function(){(this||be)._cache={}};Ae.prototype.put=function(Ae,we){(this||be)._cache[Ae]=we},Ae.prototype.get=function(Ae){return(this||be)._cache[Ae]},Ae.prototype.del=function(Ae){delete(this||be)._cache[Ae]},Ae.prototype.clear=function(){(this||be)._cache={}}},600:function(Ae,we,xe){var Se=xe(3689).MissingRef;function o(Ae,we,xe){var ke=this||be;if("function"!=typeof(this||be)._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof we&&(xe=we,we=void 0);var Te=l(Ae).then((function(){var be=ke._addSchema(Ae,void 0,we);return be.validate||function o(be){try{return ke._compile(be)}catch(be){if(be instanceof Se)return t(be);throw be}function t(Ae){var xe=Ae.missingSchema;if(i(xe))throw new Error("Schema "+xe+" is loaded but "+Ae.missingRef+" cannot be resolved");Ae=ke._loadingSchemas[xe];return Ae||(Ae=ke._loadingSchemas[xe]=ke._opts.loadSchema(xe)).then(n,n),Ae.then((function(be){if(!i(xe))return l(be).then((function(){i(xe)||ke.addSchema(be,xe,void 0,we)}))})).then((function(){return o(be)}));function n(){delete ke._loadingSchemas[xe]}function i(be){return ke._refs[be]||ke._schemas[be]}}}(be)}));return xe&&Te.then((function(be){xe(null,be)}),xe),Te;function l(be){be=be.$schema;return be&&!ke.getSchema(be)?o.call(ke,{$ref:be},!0):Promise.resolve()}}Ae.exports=o},3689:function(Ae,we,xe){var Se=xe(4292);function o(Ae,we,xe){(this||be).message=xe||o.message(Ae,we),(this||be).missingRef=Se.url(Ae,we),(this||be).missingSchema=Se.normalizeId(Se.fullPath((this||be).missingRef))}function r(be){return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be}Ae.exports={Validation:r((function(Ae){(this||be).message="validation failed",(this||be).errors=Ae,(this||be).ajv=(this||be).validation=!0})),MissingRef:r(o)},o.message=function(be,Ae){return"can't resolve reference "+Ae+" from id "+be}},2084:function(be,Ae,we){var xe=we(6862),Se=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ke=[0,31,28,31,30,31,30,31,31,30,31,30,31],Te=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Ee=(we=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i),Re=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,_e=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,$e=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Le=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Ne=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Me=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function p(be){return xe.copy(p[be="full"==be?"full":"fast"])}function m(be){var Ae,we;be=be.match(Se);return!!be&&(Ae=+be[1],we=+be[2],be=+be[3],1<=we)&&we<=12&&1<=be&&be<=(2!=we||(be=Ae)%4!=0||be%100==0&&be%400!=0?ke[we]:29)}function f(be,Ae){var we,xe,Se;be=be.match(Te);return!!be&&(we=be[1],xe=be[2],Se=be[3],be=be[5],we<=23&&xe<=59&&Se<=59||23==we&&59==xe&&60==Se)&&(!Ae||be)}(be.exports=p).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Re,url:_e,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:we,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:I,uuid:$e,"json-pointer":Le,"json-pointer-uri-fragment":Ne,"relative-json-pointer":Me},p.full={date:m,time:f,"date-time":function(be){be=be.split(Be);return 2==be.length&&m(be[0])&&f(be[1],!0)},uri:function(be){return We.test(be)&&Ee.test(be)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":Re,url:_e,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:we,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:I,uuid:$e,"json-pointer":Le,"json-pointer-uri-fragment":Ne,"relative-json-pointer":Me};var Be=/t|\s/i;var We=/\/|:/;var Pe=/[^\\]\\Z/;function I(be){if(Pe.test(be))return!1;try{return new RegExp(be),!0}catch(be){return!1}}},2620:function(Ae,we,xe){var Se=xe(4292),ke=xe(6862),Te=xe(3689),Ee=xe(9306),Re=xe(1035),_e=ke.ucs2length,$e=xe(5215),Le=Te.Validation;function B(Ae,we,xe,Ne){var Me=this||be,Be=(this||be)._opts,We=[void 0],Pe={},He=[],Ge={},Fe=[],Oe={},Ve=[],Ze=(we=we||{schema:Ae,refVal:We,refs:Pe},function(Ae,we,xe){var Se=W.call(this||be,Ae,we,xe);return 0<=Se?{index:Se,compiling:!0}:(Se=(this||be)._compilations.length,(this||be)._compilations[Se]={schema:Ae,root:we,baseId:xe},{index:Se,compiling:!1})}.call(this||be,Ae,we,Ne)),De=(this||be)._compilations[Ze.index];if(Ze.compiling)return De.callValidate=v;var je=(this||be)._formats,Ke=(this||be).RULES;try{var ze=I(Ae,we,xe,Ne),Xe=(De.validate=ze,De.callValidate);return Xe&&(Xe.schema=ze.schema,Xe.errors=null,Xe.refs=ze.refs,Xe.refVal=ze.refVal,Xe.root=ze.root,Xe.$async=ze.$async,Be.sourceCode)&&(Xe.source=ze.source),ze}finally{!function(Ae,we,xe){Ae=W.call(this||be,Ae,we,xe);0<=Ae&&(this||be)._compilations.splice(Ae,1)}.call(this||be,Ae,we,Ne)}function v(){var Ae=De.validate,we=Ae.apply(this||be,arguments);return v.errors=Ae.errors,we}function I(be,Ae,xe,Ee){var Ne=!Ae||Ae.schema==be;if(Ae.schema!=we.schema)return B.call(Me,be,Ae,xe,Ee);xe=!0===be.$async,Ee=Re({isTop:!0,schema:be,isRoot:Ne,baseId:Ee,root:Ae,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Te.MissingRef,RULES:Ke,validate:Re,util:ke,resolve:Se,resolveRef:b,usePattern:S,useDefault:x,useCustomRule:k,opts:Be,formats:je,logger:Me.logger,self:Me}),Ee=O(We,G)+O(He,P)+O(Fe,H)+O(Ve,F)+Ee;Be.processCode&&(Ee=Be.processCode(Ee,be));try{var Ge=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Ee)(Me,Ke,je,we,We,Fe,Ve,$e,_e,Le);We[0]=Ge}catch(be){throw Me.logger.error("Error compiling schema, function code:",Ee),be}return Ge.schema=be,Ge.errors=null,Ge.refs=Pe,Ge.refVal=We,Ge.root=Ne?Ge:Ae,xe&&(Ge.$async=!0),!0===Be.sourceCode&&(Ge.source={code:Ee,patterns:He,defaults:Fe}),Ge}function b(be,Ae,ke){Ae=Se.url(be,Ae);var Te=Pe[Ae];if(void 0!==Te)return w(Ee=We[Te],Re="refVal["+Te+"]");if(!ke&&we.refs){Te=we.refs[Ae];if(void 0!==Te)return w(Ee=we.refVal[Te],Re=A(Ae,Ee))}var Ee,Re=A(Ae);ke=Se.call(Me,I,we,Ae);if(void 0!==(ke=void 0===ke&&(Te=xe&&xe[Ae])?Se.inlineRef(Te,Be.inlineRefs)?Te:B.call(Me,Te,we,xe,be):ke))return Ee=ke,Te=Pe[Te=Ae],We[Te]=Ee,w(ke,Re);delete Pe[Ae]}function A(be,Ae){var we=We.length;return We[we]=Ae,"refVal"+(Pe[be]=we)}function w(be,Ae){return"object"==typeof be||"boolean"==typeof be?{code:Ae,schema:be,inline:!0}:{code:Ae,$async:be&&!!be.$async}}function S(be){var Ae=Ge[be];return void 0===Ae&&(Ae=Ge[be]=He.length,He[Ae]=be),"pattern"+Ae}function x(be){switch(typeof be){case"boolean":case"number":return""+be;case"string":return ke.toQuotedString(be);case"object":var Ae,we;return null===be?"null":(Ae=Ee(be),void 0===(we=Oe[Ae])&&(we=Oe[Ae]=Fe.length,Fe[we]=be),"default"+we)}}function k(be,Ae,we,xe){if(!1!==Me._opts.validateSchema){var Se=be.definition.dependencies;if(Se&&!Se.every((function(be){return Object.prototype.hasOwnProperty.call(we,be)})))throw new Error("parent schema must have all required keywords: "+Se.join(","));Se=be.definition.validateSchema;if(Se&&!Se(Ae)){Se="keyword schema is invalid: "+Me.errorsText(Se.errors);if("log"!=Me._opts.validateSchema)throw new Error(Se);Me.logger.error(Se)}}Se=be.definition.compile;var ke,Te=be.definition.inline,Ee=be.definition.macro;if(Se)ke=Se.call(Me,Ae,we,xe);else if(Ee)ke=Ee.call(Me,Ae,we,xe),!1!==Be.validateSchema&&Me.validateSchema(ke,!0);else if(Te)ke=Te.call(Me,xe,be.keyword,Ae,we);else if(!(ke=be.definition.validate))return;if(void 0===ke)throw new Error('custom keyword "'+be.keyword+'"failed to compile');Se=Ve.length;return{code:"customRule"+Se,validate:Ve[Se]=ke}}}function W(Ae,we,xe){for(var Se=0;Se<(this||be)._compilations.length;Se++){var ke=(this||be)._compilations[Se];if(ke.schema==Ae&&ke.root==we&&ke.baseId==xe)return Se}return-1}function P(be,Ae){return"var pattern"+be+" = new RegExp("+ke.toQuotedString(Ae[be])+");"}function H(be){return"var default"+be+" = defaults["+be+"];"}function G(be,Ae){return void 0===Ae[be]?"":"var refVal"+be+" = refVal["+be+"];"}function F(be){return"var customRule"+be+" = customRules["+be+"];"}function O(be,Ae){if(!be.length)return"";for(var we="",xe=0;xe<be.length;xe++)we+=Ae(xe,be);return we}Ae.exports=B},4292:function(Ae,we,xe){var Se=xe(6777),ke=xe(5215),Te=xe(6862),Ee=xe(4427),Re=xe(4316);function l(Ae,we,xe){var Se,ke,Te,Re=(this||be)._refs[xe];if("string"==typeof Re){if(!(this||be)._refs[Re])return l.call(this||be,Ae,we,Re);Re=(this||be)._refs[Re]}return(Re=Re||(this||be)._schemas[xe])instanceof Ee?u(Re.schema,(this||be)._opts.inlineRefs)?Re.schema:Re.validate||this._compile(Re):((Re=c.call(this||be,we,xe))&&(Se=Re.schema,we=Re.root,Te=Re.baseId),Se instanceof Ee?ke=Se.validate||Ae.call(this||be,Se.schema,we,void 0,Te):void 0!==Se&&(ke=u(Se,(this||be)._opts.inlineRefs)?Se:Ae.call(this||be,Se,we,void 0,Te)),ke)}function c(Ae,we){var xe=Se.parse(we),ke=C(xe),Te=f(this._getId(Ae.schema));if(0===Object.keys(Ae.schema).length||ke!==Te){ke=y(ke);var Re=(this||be)._refs[ke];if("string"==typeof Re)return function(Ae,we,xe){we=c.call(this||be,Ae,we);var Se,ke;if(we)return Se=we.schema,ke=we.baseId,Ae=we.root,(we=this._getId(Se))&&(ke=v(ke,we)),s.call(this||be,xe,ke,Se,Ae)}.call(this||be,Ae,Re,xe);if(Re instanceof Ee)Re.validate||this._compile(Re);else{if(!((Re=(this||be)._schemas[ke])instanceof Ee))return;if(Re.validate||this._compile(Re),ke==y(we))return{schema:Re,root:Ae,baseId:Te}}if(!(Ae=Re).schema)return;Te=f(this._getId(Ae.schema))}return s.call(this||be,xe,Te,Ae.schema,Ae)}(Ae.exports=l).normalizeId=y,l.fullPath=f,l.url=v,l.ids=function(Ae){var we=y(this._getId(Ae)),xe={"":we},Ee={"":f(we,!1)},_e={},$e=this||be;return Re(Ae,{allKeys:!0},(function(be,Ae,we,Re,Le,Ne,Me){if(""!==Ae){var Be=$e._getId(be),We=xe[Re];Re=Ee[Re]+"/"+Le;if(void 0!==Me&&(Re+="/"+("number"==typeof Me?Me:Te.escapeFragment(Me))),"string"==typeof Be){Be=We=y(We?Se.resolve(We,Be):Be),Le=$e._refs[Be];if((Le="string"==typeof Le?$e._refs[Le]:Le)&&Le.schema){if(!ke(be,Le.schema))throw new Error('id "'+Be+'" resolves to more than one schema')}else if(Be!=y(Re))if("#"==Be[0]){if(_e[Be]&&!ke(be,_e[Be]))throw new Error('id "'+Be+'" resolves to more than one schema');_e[Be]=be}else $e._refs[Be]=Re}xe[Ae]=We,Ee[Ae]=Re}})),_e},l.inlineRef=u,l.schema=c;var _e=Te.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function s(Ae,we,xe,Se){if(Ae.fragment=Ae.fragment||"","/"==Ae.fragment.slice(0,1)){for(var ke=Ae.fragment.split("/"),Ee=1;Ee<ke.length;Ee++){var Re=ke[Ee];if(Re){if(void 0===(xe=xe[Re=Te.unescapeFragment(Re)]))break;_e[Re]||((Re=this._getId(xe))&&(we=v(we,Re)),xe.$ref&&(Re=v(we,xe.$ref),Re=c.call(this||be,Se,Re))&&(xe=Re.schema,Se=Re.root,we=Re.baseId))}}return void 0!==xe&&xe!==Se.schema?{schema:xe,root:Se,baseId:we}:void 0}}var $e=Te.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function u(be,Ae){return!1!==Ae&&(void 0===Ae||!0===Ae?function e(be){var Ae;if(Array.isArray(be)){for(var we=0;we<be.length;we++)if("object"==typeof(Ae=be[we])&&!e(Ae))return!1}else for(var xe in be){if("$ref"==xe)return!1;if("object"==typeof(Ae=be[xe])&&!e(Ae))return!1}return!0}(be):Ae?function e(be){var Ae,we=0;if(Array.isArray(be)){for(var xe=0;xe<be.length;xe++)if("object"==typeof(Ae=be[xe])&&(we+=e(Ae)),we==1/0)return 1/0}else for(var Se in be){if("$ref"==Se)return 1/0;if($e[Se])we++;else if("object"==typeof(Ae=be[Se])&&(we+=e(Ae)+1),we==1/0)return 1/0}return we}(be)<=Ae:void 0)}function f(be,Ae){return!1!==Ae&&(be=y(be)),C(Se.parse(be))}function C(be){return Se.serialize(be).split("#")[0]+"#"}var Le=/#\/?$/;function y(be){return be?be.replace(Le,""):""}function v(be,Ae){return Ae=y(Ae),Se.resolve(be,Ae)}},3483:function(be,Ae,we){var xe=we(8161),Se=we(6862).toHash;be.exports=function(){var be=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],Ae=["type","$comment"];return be.all=Se(Ae),be.types=Se(["number","integer","string","array","object","boolean","null"]),be.forEach((function(we){we.rules=we.rules.map((function(we){var Se,ke;return"object"==typeof we&&(ke=we[Se=Object.keys(we)[0]],we=Se,ke.forEach((function(we){Ae.push(we),be.all[we]=!0}))),Ae.push(we),be.all[we]={keyword:we,code:xe[we],implements:ke}})),be.all.$comment={keyword:"$comment",code:xe.$comment},we.type&&(be.types[we.type]=we)})),be.keywords=Se(Ae.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),be.custom={},be}},4427:function(Ae,we,xe){var Se=xe(6862);Ae.exports=function(Ae){Se.copy(Ae,this||be)}},611:function(be){be.exports=function(be){for(var Ae,we=0,xe=be.length,Se=0;Se<xe;)we++,55296<=(Ae=be.charCodeAt(Se++))&&Ae<=56319&&Se<xe&&56320==(64512&be.charCodeAt(Se))&&Se++;return we}},6862:function(be,Ae,we){function r(be,Ae,we,xe){var Se=xe?" !== ":" === ",ke=xe?" || ":" && ",Te=xe?"!":"",Ee=xe?"":"!";switch(be){case"null":return Ae+Se+"null";case"array":return Te+"Array.isArray("+Ae+")";case"object":return"("+Te+Ae+ke+"typeof "+Ae+Se+'"object"'+ke+Ee+"Array.isArray("+Ae+"))";case"integer":return"(typeof "+Ae+Se+'"number"'+ke+Ee+"("+Ae+" % 1)"+ke+Ae+Se+Ae+(we?ke+Te+"isFinite("+Ae+")":"")+")";case"number":return"(typeof "+Ae+Se+'"'+be+'"'+(we?ke+Te+"isFinite("+Ae+")":"")+")";default:return"typeof "+Ae+Se+'"'+be+'"'}}be.exports={copy:function(be,Ae){for(var we in Ae=Ae||{},be)Ae[we]=be[we];return Ae},checkDataType:r,checkDataTypes:function(be,Ae,we){if(1===be.length)return r(be[0],Ae,we,!0);var xe,Se="";be=a(be);for(xe in be.array&&be.object&&(Se=be.null?"(":"(!"+Ae+" || ",Se+="typeof "+Ae+' !== "object")',delete be.null,delete be.array,delete be.object),be.number&&delete be.integer,be)Se+=(Se?" && ":"")+r(xe,Ae,we,!0);return Se},coerceToTypes:function(be,Ae){if(!Array.isArray(Ae))return xe[Ae]?[Ae]:"array"===be&&"array"===Ae?["array"]:void 0;for(var we=[],Se=0;Se<Ae.length;Se++){var ke=Ae[Se];(xe[ke]||"array"===be&&"array"===ke)&&(we[we.length]=ke)}return we.length?we:void 0},toHash:a,getProperty:h,escapeQuotes:l,equal:we(5215),ucs2length:we(611),varOccurences:function(be,Ae){Ae+="[^0-9]";be=be.match(new RegExp(Ae,"g"));return be?be.length:0},varReplace:function(be,Ae,we){return Ae+="([^0-9])",we=we.replace(/\$/g,"$$$$"),be.replace(new RegExp(Ae,"g"),we+"$1")},schemaHasRules:function(be,Ae){if("boolean"==typeof be)return!be;for(var we in be)if(Ae[we])return!0},schemaHasRulesExcept:function(be,Ae,we){if("boolean"==typeof be)return!be&&"not"!=we;for(var xe in be)if(xe!=we&&Ae[xe])return!0},schemaUnknownRules:function(be,Ae){if("boolean"!=typeof be)for(var we in be)if(!Ae[we])return we},toQuotedString:c,getPathExpr:function(be,Ae,we,xe){return g(be,we?"'/' + "+Ae+(xe?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):xe?"'[' + "+Ae+" + ']'":"'[\\'' + "+Ae+" + '\\']'")},getPath:function(be,Ae,we){we=c(we?"/"+p(Ae):h(Ae));return g(be,we)},getData:function(be,Ae,we){var xe,Se,ke;if(""===be)return"rootData";if("/"==be[0]){if(!Te.test(be))throw new Error("Invalid JSON-pointer: "+be);xe=be,Se="rootData"}else{if(!(ke=be.match(Ee)))throw new Error("Invalid JSON-pointer: "+be);if(be=+ke[1],"#"==(xe=ke[2])){if(Ae<=be)throw new Error("Cannot access property/index "+be+" levels up, current level is "+Ae);return we[Ae-be]}if(Ae<be)throw new Error("Cannot access data "+be+" levels up, current level is "+Ae);if(Se="data"+(Ae-be||""),!xe)return Se}for(var Re=Se,_e=xe.split("/"),$e=0;$e<_e.length;$e++){var Le=_e[$e];Le&&(Se+=h(m(Le)),Re+=" && "+Se)}return Re},unescapeFragment:function(be){return m(decodeURIComponent(be))},unescapeJsonPointer:m,escapeFragment:function(be){return encodeURIComponent(p(be))},escapeJsonPointer:p};var xe=a(["string","number","integer","boolean","null"]);function a(be){for(var Ae={},we=0;we<be.length;we++)Ae[be[we]]=!0;return Ae}var Se=/^[a-z$_][a-z$_0-9]*$/i,ke=/'|\\/g;function h(be){return"number"==typeof be?"["+be+"]":Se.test(be)?"."+be:"['"+l(be)+"']"}function l(be){return be.replace(ke,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(be){return"'"+l(be)+"'"}var Te=/^\/(?:[^~]|~0|~1)*$/,Ee=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function g(be,Ae){return'""'==be?Ae:(be+" + "+Ae).replace(/([^\\])' \+ '/g,"$1")}function p(be){return be.replace(/~/g,"~0").replace(/\//g,"~1")}function m(be){return be.replace(/~1/g,"/").replace(/~0/g,"~")}},8852:function(be){var Ae=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];be.exports=function(be,we){for(var xe=0;xe<we.length;xe++){be=JSON.parse(JSON.stringify(be));for(var Se=we[xe].split("/"),ke=be,Te=1;Te<Se.length;Te++)ke=ke[Se[Te]];for(Te=0;Te<Ae.length;Te++){var Ee=Ae[Te],Re=ke[Ee];Re&&(ke[Ee]={anyOf:[Re,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return be}},9407:function(be,Ae,we){we=we(8198);be.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:we.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:we.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},1765:function(be){be.exports=function(be,Ae,we){var xe,Se,ke,Te,Ee,Re=" ",_e=be.level,$e=be.dataLevel,Le=be.schema[Ae],Ne=be.schemaPath+be.util.getProperty(Ae),Me=be.errSchemaPath+"/"+Ae,Be=!be.opts.allErrors,We="data"+($e||""),Pe=be.opts.$data&&Le&&Le.$data,He=Pe?(Re+=" var schema"+_e+" = "+be.util.getData(Le.$data,$e,be.dataPathArr)+"; ","schema"+_e):Le,Ge="maximum"==Ae,Fe=Ge?"exclusiveMaximum":"exclusiveMinimum",Oe=be.schema[Fe],Ve=be.opts.$data&&Oe&&Oe.$data,Ze=Ge?"<":">",De=Ge?">":"<",je=void 0;if(!Pe&&"number"!=typeof Le&&void 0!==Le)throw new Error(Ae+" must be number");if(!Ve&&void 0!==Oe&&"number"!=typeof Oe&&"boolean"!=typeof Oe)throw new Error(Fe+" must be number or boolean");Ve?($e=be.util.getData(Oe.$data,$e,be.dataPathArr),ke="exclIsNumber"+_e,Te="' + "+(Ee="op"+_e)+" + '",je=Fe,(Ke=Ke||[]).push(Re=Re+" var schemaExcl"+_e+" = "+$e+";  var "+(xe="exclusive"+_e)+"; var "+(Se="exclType"+_e)+" = typeof "+($e="schemaExcl"+_e)+"; if ("+Se+" != 'boolean' && "+Se+" != 'undefined' && "+Se+" != 'number') { "),Re="",!1!==be.createErrors?(Re+=" { keyword: '"+(je||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Me)+" , params: {} ",!1!==be.opts.messages&&(Re+=" , message: '"+Fe+" should be boolean' "),be.opts.verbose&&(Re+=" , schema: validate.schema"+Ne+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+We+" "),Re+=" } "):Re+=" {} ",ze=Re,Re=Ke.pop(),!be.compositeRule&&Be?be.async?Re+=" throw new ValidationError(["+ze+"]); ":Re+=" validate.errors = ["+ze+"]; return false; ":Re+=" var err = "+ze+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Re+=" } else if ( ",Pe&&(Re+=" ("+He+" !== undefined && typeof "+He+" != 'number') || "),Re+=" "+Se+" == 'number' ? ( ("+xe+" = "+He+" === undefined || "+$e+" "+Ze+"= "+He+") ? "+We+" "+De+"= "+$e+" : "+We+" "+De+" "+He+" ) : ( ("+xe+" = "+$e+" === true) ? "+We+" "+De+"= "+He+" : "+We+" "+De+" "+He+" ) || "+We+" !== "+We+") { var op"+_e+" = "+xe+" ? '"+Ze+"' : '"+Ze+"='; ",void 0===Le&&(Me=be.errSchemaPath+"/"+(je=Fe),He=$e,Pe=Ve)):(Te=Ze,(ke="number"==typeof Oe)&&Pe?(Ee="'"+Te+"'",Re+=" if ( ",Pe&&(Re+=" ("+He+" !== undefined && typeof "+He+" != 'number') || "),Re+=" ( "+He+" === undefined || "+Oe+" "+Ze+"= "+He+" ? "+We+" "+De+"= "+Oe+" : "+We+" "+De+" "+He+" ) || "+We+" !== "+We+") { "):(ke&&void 0===Le?(xe=!0,Me=be.errSchemaPath+"/"+(je=Fe),He=Oe,De+="="):(ke&&(He=Math[Ge?"min":"max"](Oe,Le)),Oe===(!ke||He)?(xe=!0,Me=be.errSchemaPath+"/"+(je=Fe),De+="="):(xe=!1,Te+="=")),Ee="'"+Te+"'",Re+=" if ( ",Pe&&(Re+=" ("+He+" !== undefined && typeof "+He+" != 'number') || "),Re+=" "+We+" "+De+" "+He+" || "+We+" !== "+We+") { ")),je=je||Ae;(Ke=Ke||[]).push(Re),Re="",!1!==be.createErrors?(Re+=" { keyword: '"+(je||"_limit")+"' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Me)+" , params: { comparison: "+Ee+", limit: "+He+", exclusive: "+xe+" } ",!1!==be.opts.messages&&(Re=Re+" , message: 'should be "+Te+" "+(Pe?"' + "+He:He+"'")),be.opts.verbose&&(Re=(Re+=" , schema:  ")+(Pe?"validate.schema"+Ne:""+Le)+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+We+" "),Re+=" } "):Re+=" {} ";var Ke,ze=Re;return Re=Ke.pop(),!be.compositeRule&&Be?be.async?Re+=" throw new ValidationError(["+ze+"]); ":Re+=" validate.errors = ["+ze+"]; return false; ":Re+=" var err = "+ze+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Re+=" } ",Be&&(Re+=" else { "),Re}},9337:function(be){be.exports=function(be,Ae,we){var xe,Se=" ",ke=be.level,Te=be.dataLevel,Ee=be.schema[Ae],Re=be.schemaPath+be.util.getProperty(Ae),_e=be.errSchemaPath+"/"+Ae,$e=!be.opts.allErrors,Le="data"+(Te||""),Ne=be.opts.$data&&Ee&&Ee.$data;Te=Ne?(Se+=" var schema"+ke+" = "+be.util.getData(Ee.$data,Te,be.dataPathArr)+"; ","schema"+ke):Ee;if(Ne||"number"==typeof Ee)return Se+="if ( ",Ne&&(Se+=" ("+Te+" !== undefined && typeof "+Te+" != 'number') || "),(ke=[]).push(Se+=" "+Le+".length "+("maxItems"==(xe=Ae)?">":"<")+" "+Te+") { "),Se="",!1!==be.createErrors?(Se+=" { keyword: '"+(xe||"_limitItems")+"' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(_e)+" , params: { limit: "+Te+" } ",!1!==be.opts.messages&&(Se=(Se=(Se+=" , message: 'should NOT have ")+("maxItems"==Ae?"more":"fewer")+" than ")+(Ne?"' + "+Te+" + '":""+Ee)+" items' "),be.opts.verbose&&(Se=(Se+=" , schema:  ")+(Ne?"validate.schema"+Re:""+Ee)+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),Se+=" } "):Se+=" {} ",xe=Se,Se=ke.pop(),!be.compositeRule&&$e?be.async?Se+=" throw new ValidationError(["+xe+"]); ":Se+=" validate.errors = ["+xe+"]; return false; ":Se+=" var err = "+xe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Se+="} ",$e&&(Se+=" else { "),Se;throw new Error(Ae+" must be number")}},5433:function(be){be.exports=function(be,Ae,we){var xe,Se=" ",ke=be.level,Te=be.dataLevel,Ee=be.schema[Ae],Re=be.schemaPath+be.util.getProperty(Ae),_e=be.errSchemaPath+"/"+Ae,$e=!be.opts.allErrors,Le="data"+(Te||""),Ne=be.opts.$data&&Ee&&Ee.$data;Te=Ne?(Se+=" var schema"+ke+" = "+be.util.getData(Ee.$data,Te,be.dataPathArr)+"; ","schema"+ke):Ee;if(Ne||"number"==typeof Ee)return Se+="if ( ",Ne&&(Se+=" ("+Te+" !== undefined && typeof "+Te+" != 'number') || "),!1===be.opts.unicode?Se+=" "+Le+".length ":Se+=" ucs2length("+Le+") ",(ke=[]).push(Se+=" "+("maxLength"==(xe=Ae)?">":"<")+" "+Te+") { "),Se="",!1!==be.createErrors?(Se+=" { keyword: '"+(xe||"_limitLength")+"' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(_e)+" , params: { limit: "+Te+" } ",!1!==be.opts.messages&&(Se=(Se=(Se+=" , message: 'should NOT be ")+("maxLength"==Ae?"longer":"shorter")+" than ")+(Ne?"' + "+Te+" + '":""+Ee)+" characters' "),be.opts.verbose&&(Se=(Se+=" , schema:  ")+(Ne?"validate.schema"+Re:""+Ee)+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),Se+=" } "):Se+=" {} ",xe=Se,Se=ke.pop(),!be.compositeRule&&$e?be.async?Se+=" throw new ValidationError(["+xe+"]); ":Se+=" validate.errors = ["+xe+"]; return false; ":Se+=" var err = "+xe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Se+="} ",$e&&(Se+=" else { "),Se;throw new Error(Ae+" must be number")}},7724:function(be){be.exports=function(be,Ae,we){var xe,Se=" ",ke=be.level,Te=be.dataLevel,Ee=be.schema[Ae],Re=be.schemaPath+be.util.getProperty(Ae),_e=be.errSchemaPath+"/"+Ae,$e=!be.opts.allErrors,Le="data"+(Te||""),Ne=be.opts.$data&&Ee&&Ee.$data;Te=Ne?(Se+=" var schema"+ke+" = "+be.util.getData(Ee.$data,Te,be.dataPathArr)+"; ","schema"+ke):Ee;if(Ne||"number"==typeof Ee)return Se+="if ( ",Ne&&(Se+=" ("+Te+" !== undefined && typeof "+Te+" != 'number') || "),(ke=[]).push(Se+=" Object.keys("+Le+").length "+("maxProperties"==(xe=Ae)?">":"<")+" "+Te+") { "),Se="",!1!==be.createErrors?(Se+=" { keyword: '"+(xe||"_limitProperties")+"' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(_e)+" , params: { limit: "+Te+" } ",!1!==be.opts.messages&&(Se=(Se=(Se+=" , message: 'should NOT have ")+("maxProperties"==Ae?"more":"fewer")+" than ")+(Ne?"' + "+Te+" + '":""+Ee)+" properties' "),be.opts.verbose&&(Se=(Se+=" , schema:  ")+(Ne?"validate.schema"+Re:""+Ee)+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),Se+=" } "):Se+=" {} ",xe=Se,Se=ke.pop(),!be.compositeRule&&$e?be.async?Se+=" throw new ValidationError(["+xe+"]); ":Se+=" validate.errors = ["+xe+"]; return false; ":Se+=" var err = "+xe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Se+="} ",$e&&(Se+=" else { "),Se;throw new Error(Ae+" must be number")}},3531:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.schema[Ae],ke=be.schemaPath+be.util.getProperty(Ae),Te=be.errSchemaPath+"/"+Ae,Ee=!be.opts.allErrors,Re=be.util.copy(be),_e="",$e=(Re.level++,"valid"+Re.level),Le=Re.baseId,Ne=!0,Me=Se;if(Me)for(var Be,We=-1,Pe=Me.length-1;We<Pe;)Be=Me[We+=1],(be.opts.strictKeywords?"object"==typeof Be&&0<Object.keys(Be).length||!1===Be:be.util.schemaHasRules(Be,be.RULES.all))&&(Ne=!1,Re.schema=Be,Re.schemaPath=ke+"["+We+"]",Re.errSchemaPath=Te+"/"+We,xe+="  "+be.validate(Re)+" ",Re.baseId=Le,Ee)&&(xe+=" if ("+$e+") { ",_e+="}");return Ee&&(xe+=Ne?" if (true) { ":" "+_e.slice(0,-1)+" "),xe}},8854:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=be.errSchemaPath+"/"+Ae,_e=(Ae=!be.opts.allErrors,ke="data"+(ke||""),"valid"+Se),$e=(Se="errs__"+Se,be.util.copy(be)),Le="",Ne=($e.level++,"valid"+$e.level);if(Te.every((function(Ae){return be.opts.strictKeywords?"object"==typeof Ae&&0<Object.keys(Ae).length||!1===Ae:be.util.schemaHasRules(Ae,be.RULES.all)}))){var Me=$e.baseId,Be=(xe+=" var "+Se+" = errors; var "+_e+" = false;  ",be.compositeRule),We=(be.compositeRule=$e.compositeRule=!0,Te);if(We)for(var Pe,He=-1,Ge=We.length-1;He<Ge;)Pe=We[He+=1],$e.schema=Pe,$e.schemaPath=Ee+"["+He+"]",$e.errSchemaPath=Re+"/"+He,xe+="  "+be.validate($e)+" ",$e.baseId=Me,xe+=" "+_e+" = "+_e+" || "+Ne+"; if (!"+_e+") { ",Le+="}";be.compositeRule=$e.compositeRule=Be,xe+=" "+Le+" if (!"+_e+") {   var err =   ",!1!==be.createErrors?(xe+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: {} ",!1!==be.opts.messages&&(xe+=" , message: 'should match some schema in anyOf' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+ke+" "),xe+=" } "):xe+=" {} ",xe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!be.compositeRule&&Ae&&(be.async?xe+=" throw new ValidationError(vErrors); ":xe+=" validate.errors = vErrors; return false; "),xe+=" } else {  errors = "+Se+"; if (vErrors !== null) { if ("+Se+") vErrors.length = "+Se+"; else vErrors = null; } ",be.opts.allErrors&&(xe+=" } ")}else Ae&&(xe+=" if (true) { ");return xe}},8372:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.schema[Ae];Ae=be.errSchemaPath+"/"+Ae,Se=(be.opts.allErrors,be.util.toQuotedString(Se));return!0===be.opts.$comment?xe+=" console.log("+Se+");":"function"==typeof be.opts.$comment&&(xe+=" self._opts.$comment("+Se+", "+be.util.toQuotedString(Ae)+", validate.root.schema);"),xe}},9650:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),_e="data"+(ke||""),$e="valid"+Se,Le=be.opts.$data&&Te&&Te.$data;Te=(Le&&(xe+=" var schema"+Se+" = "+be.util.getData(Te.$data,ke,be.dataPathArr)+"; "),Le||(xe+=" var schema"+Se+" = validate.schema"+Ee+";"),[]),ke=(Te.push(xe+="var "+$e+" = equal("+_e+", schema"+Se+"); if (!"+$e+") {   "),xe="",!1!==be.createErrors?(xe+=" { keyword: 'const' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { allowedValue: schema"+Se+" } ",!1!==be.opts.messages&&(xe+=" , message: 'should be equal to constant' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ",xe),xe=Te.pop();return!be.compositeRule&&Re?be.async?xe+=" throw new ValidationError(["+ke+"]); ":xe+=" validate.errors = ["+ke+"]; return false; ":xe+=" var err = "+ke+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+=" }",Re&&(xe+=" else { "),xe}},1292:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),_e=(ke="data"+(ke||""),"valid"+Se),$e="errs__"+Se,Le=be.util.copy(be),Ne=(Le.level++,"valid"+Le.level),Me=(Se="i"+Se,Le.dataLevel=be.dataLevel+1),Be="data"+Me,We=be.baseId,Pe=be.opts.strictKeywords?"object"==typeof Te&&0<Object.keys(Te).length||!1===Te:be.util.schemaHasRules(Te,be.RULES.all);Se=(xe+="var "+$e+" = errors;var "+_e+";",Pe?(_e=be.compositeRule,be.compositeRule=Le.compositeRule=!0,Le.schema=Te,Le.schemaPath=Ee,Le.errSchemaPath=Ae,xe+=" var "+Ne+" = false; for (var "+Se+" = 0; "+Se+" < "+ke+".length; "+Se+"++) { ",Le.errorPath=be.util.getPathExpr(be.errorPath,Se,be.opts.jsonPointers,!0),Te=ke+"["+Se+"]",Le.dataPathArr[Me]=Se,Me=be.validate(Le),Le.baseId=We,be.util.varOccurences(Me,Be)<2?xe+=" "+be.util.varReplace(Me,Be,Te)+" ":xe+=" var "+Be+" = "+Te+"; "+Me+" ",xe+=" if ("+Ne+") break; }  ",be.compositeRule=Le.compositeRule=_e,xe+="  if (!"+Ne+") {"):xe+=" if ("+ke+".length == 0) {",[]),We=(Se.push(xe),xe="",!1!==be.createErrors?(xe+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: {} ",!1!==be.opts.messages&&(xe+=" , message: 'should contain a valid item' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+ke+" "),xe+=" } "):xe+=" {} ",xe),xe=Se.pop();return!be.compositeRule&&Re?be.async?xe+=" throw new ValidationError(["+We+"]); ":xe+=" validate.errors = ["+We+"]; return false; ":xe+=" var err = "+We+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+=" } else { ",Pe&&(xe+="  errors = "+$e+"; if (vErrors !== null) { if ("+$e+") vErrors.length = "+$e+"; else vErrors = null; } "),be.opts.allErrors&&(xe+=" } "),xe}},8050:function(Ae){Ae.exports=function(Ae,we,xe){var Se,ke,Te,Ee=" ",Re=Ae.level,_e=Ae.dataLevel,$e=Ae.schema[we],Le=Ae.schemaPath+Ae.util.getProperty(we),Ne=Ae.errSchemaPath+"/"+we,Me=!Ae.opts.allErrors,Be="data"+(_e||""),We="valid"+Re,Pe="errs__"+Re,He=Ae.opts.$data&&$e&&$e.$data,Ge=He?(Ee+=" var schema"+Re+" = "+Ae.util.getData($e.$data,_e,Ae.dataPathArr)+"; ","schema"+Re):$e,Fe="definition"+Re,Oe=(this||be).definition,Ve="";if(He&&Oe.$data){var Ze="keywordValidate"+Re,De=Oe.validateSchema;Ee+=" var "+Fe+" = RULES.custom['"+we+"'].definition; var "+Ze+" = "+Fe+".validate;"}else{if(!(Xe=Ae.useCustomRule(this||be,$e,Ae.schema,Ae)))return;Ge="validate.schema"+Le,Ze=Xe.code,Se=Oe.compile,ke=Oe.inline,Te=Oe.macro}we=Ze+".errors",$e="i"+Re;var je,Ke,ze,Xe,Ye,Je="ruleErr"+Re,Ue=Oe.async;if(Ue&&!Ae.async)throw new Error("async keyword in sync schema");return ke||Te||(Ee+=we+" = null;"),Ee+="var "+Pe+" = errors;var "+We+";",He&&Oe.$data&&(Ve+="}",Ee+=" if ("+Ge+" === undefined) { "+We+" = true; } else { ",De)&&(Ve+="}",Ee+=" "+We+" = "+Fe+".validateSchema("+Ge+"); if ("+We+") { "),ke?Oe.statements?Ee+=" "+Xe.validate+" ":Ee+=" "+We+" = "+Xe.validate+"; ":Te?(Ve="",(He=Ae.util.copy(Ae)).level++,je="valid"+He.level,He.schema=Xe.validate,He.schemaPath="",De=Ae.compositeRule,Ae.compositeRule=He.compositeRule=!0,Fe=Ae.validate(He).replace(/validate\.schema/g,Ze),Ae.compositeRule=He.compositeRule=De,Ee+=" "+Fe):((Ye=Ye||[]).push(Ee),Ee="",Ee+="  "+Ze+".call( ",Ae.opts.passContext?Ee+="this":Ee+="self",Se||!1===Oe.schema?Ee+=" , "+Be+" ":Ee+=" , "+Ge+" , "+Be+" , validate.schema"+Ae.schemaPath+" ",Ee+=" , (dataPath || '')",'""'!=Ae.errorPath&&(Ee+=" + "+Ae.errorPath),Xe=Ee+=" , "+(Ke=_e?"data"+(_e-1||""):"parentData")+" , "+(ze=_e?Ae.dataPathArr[_e]:"parentDataProperty")+" , rootData )  ",Ee=Ye.pop(),!1===Oe.errors?(Ee+=" "+We+" = ",Ue&&(Ee+="await "),Ee+=Xe+"; "):Ee+=Ue?" var "+(we="customErrors"+Re)+" = null; try { "+We+" = await "+Xe+"; } catch (e) { "+We+" = false; if (e instanceof ValidationError) "+we+" = e.errors; else throw e; } ":" "+we+" = null; "+We+" = "+Xe+"; "),Oe.modifying&&(Ee+=" if ("+Ke+") "+Be+" = "+Ke+"["+ze+"];"),Ee+=""+Ve,Oe.valid?Me&&(Ee+=" if (true) { "):(Ee+=" if ( ",void 0===Oe.valid?Ee=Ee+" !"+(Te?""+je:We):Ee+=" "+!Oe.valid+" ",He=(this||be).keyword,(Ye=Ye||[]).push(Ee+=") { "),(Ye=Ye||[]).push(Ee=""),Ee="",!1!==Ae.createErrors?(Ee+=" { keyword: '"+(He||"custom")+"' , dataPath: (dataPath || '') + "+Ae.errorPath+" , schemaPath: "+Ae.util.toQuotedString(Ne)+" , params: { keyword: '"+(this||be).keyword+"' } ",!1!==Ae.opts.messages&&(Ee+=" , message: 'should pass \""+(this||be).keyword+"\" keyword validation' "),Ae.opts.verbose&&(Ee+=" , schema: validate.schema"+Le+" , parentSchema: validate.schema"+Ae.schemaPath+" , data: "+Be+" "),Ee+=" } "):Ee+=" {} ",De=Ee,Ee=Ye.pop(),!Ae.compositeRule&&Me?Ae.async?Ee+=" throw new ValidationError(["+De+"]); ":Ee+=" validate.errors = ["+De+"]; return false; ":Ee+=" var err = "+De+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Fe=Ee,Ee=Ye.pop(),ke?Oe.errors?"full"!=Oe.errors&&(Ee+="  for (var "+$e+"="+Pe+"; "+$e+"<errors; "+$e+"++) { var "+Je+" = vErrors["+$e+"]; if ("+Je+".dataPath === undefined) "+Je+".dataPath = (dataPath || '') + "+Ae.errorPath+"; if ("+Je+".schemaPath === undefined) { "+Je+'.schemaPath = "'+Ne+'"; } ',Ae.opts.verbose&&(Ee+=" "+Je+".schema = "+Ge+"; "+Je+".data = "+Be+"; "),Ee+=" } "):!1===Oe.errors?Ee+=" "+Fe+" ":(Ee+=" if ("+Pe+" == errors) { "+Fe+" } else {  for (var "+$e+"="+Pe+"; "+$e+"<errors; "+$e+"++) { var "+Je+" = vErrors["+$e+"]; if ("+Je+".dataPath === undefined) "+Je+".dataPath = (dataPath || '') + "+Ae.errorPath+"; if ("+Je+".schemaPath === undefined) { "+Je+'.schemaPath = "'+Ne+'"; } ',Ae.opts.verbose&&(Ee+=" "+Je+".schema = "+Ge+"; "+Je+".data = "+Be+"; "),Ee+=" } } "):Te?(Ee+="   var err =   ",!1!==Ae.createErrors?(Ee+=" { keyword: '"+(He||"custom")+"' , dataPath: (dataPath || '') + "+Ae.errorPath+" , schemaPath: "+Ae.util.toQuotedString(Ne)+" , params: { keyword: '"+(this||be).keyword+"' } ",!1!==Ae.opts.messages&&(Ee+=" , message: 'should pass \""+(this||be).keyword+"\" keyword validation' "),Ae.opts.verbose&&(Ee+=" , schema: validate.schema"+Le+" , parentSchema: validate.schema"+Ae.schemaPath+" , data: "+Be+" "),Ee+=" } "):Ee+=" {} ",Ee+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!Ae.compositeRule&&Me&&(Ae.async?Ee+=" throw new ValidationError(vErrors); ":Ee+=" validate.errors = vErrors; return false; ")):!1===Oe.errors?Ee+=" "+Fe+" ":(Ee+=" if (Array.isArray("+we+")) { if (vErrors === null) vErrors = "+we+"; else vErrors = vErrors.concat("+we+"); errors = vErrors.length;  for (var "+$e+"="+Pe+"; "+$e+"<errors; "+$e+"++) { var "+Je+" = vErrors["+$e+"]; if ("+Je+".dataPath === undefined) "+Je+".dataPath = (dataPath || '') + "+Ae.errorPath+";  "+Je+'.schemaPath = "'+Ne+'";  ',Ae.opts.verbose&&(Ee+=" "+Je+".schema = "+Ge+"; "+Je+".data = "+Be+"; "),Ee+=" } } else { "+Fe+" } "),Ee+=" } ",Me&&(Ee+=" else { ")),Ee}},2860:function(be){be.exports=function(be,Ae,we){var xe,Se=" ",ke=be.level,Te=be.dataLevel,Ee=be.schema[Ae],Re=be.schemaPath+be.util.getProperty(Ae),_e=be.errSchemaPath+"/"+Ae,$e=!be.opts.allErrors,Le="data"+(Te||""),Ne=(Ae="errs__"+ke,be.util.copy(be)),Me="",Be=(Ne.level++,"valid"+Ne.level),We={},Pe={},He=be.opts.ownProperties;for(Qe in Ee)"__proto__"!=Qe&&(et=Ee[Qe],(xe=Array.isArray(et)?Pe:We)[Qe]=et);var Ge=be.errorPath;for(Qe in Se=Se+"var "+Ae+" = errors;var missing"+ke+";",Pe)if((xe=Pe[Qe]).length){if(Se+=" if ( "+Le+be.util.getProperty(Qe)+" !== undefined ",He&&(Se+=" && Object.prototype.hasOwnProperty.call("+Le+", '"+be.util.escapeQuotes(Qe)+"') "),$e){Se+=" && ( ";var Fe=xe;if(Fe)for(var Oe=-1,Ve=Fe.length-1;Oe<Ve;)ze=Fe[Oe+=1],Oe&&(Se+=" || "),Se+=" ( ( "+(Ue=Le+(Je=be.util.getProperty(ze)))+" === undefined ",He&&(Se+=" || ! Object.prototype.hasOwnProperty.call("+Le+", '"+be.util.escapeQuotes(ze)+"') "),Se+=") && (missing"+ke+" = "+be.util.toQuotedString(be.opts.jsonPointers?ze:Je)+") ) ";Se+=")) {  ";var Ze="missing"+ke,De="' + "+Ze+" + '",je=(be.opts._errorDataPathProperty&&(be.errorPath=be.opts.jsonPointers?be.util.getPathExpr(Ge,Ze,!0):Ge+" + "+Ze),je||[]);Ze=(je.push(Se),Se="",!1!==be.createErrors?(Se+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(_e)+" , params: { property: '"+be.util.escapeQuotes(Qe)+"', missingProperty: '"+De+"', depsCount: "+xe.length+", deps: '"+be.util.escapeQuotes(1==xe.length?xe[0]:xe.join(", "))+"' } ",!1!==be.opts.messages&&(Se+=" , message: 'should have ",1==xe.length?Se+="property "+be.util.escapeQuotes(xe[0]):Se+="properties "+be.util.escapeQuotes(xe.join(", ")),Se+=" when property "+be.util.escapeQuotes(Qe)+" is present' "),be.opts.verbose&&(Se+=" , schema: validate.schema"+Re+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),Se+=" } "):Se+=" {} ",Se),Se=je.pop();!be.compositeRule&&$e?be.async?Se+=" throw new ValidationError(["+Ze+"]); ":Se+=" validate.errors = ["+Ze+"]; return false; ":Se+=" var err = "+Ze+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{Se+=" ) { ";var Ke=xe;if(Ke)for(var ze,Xe=-1,Ye=Ke.length-1;Xe<Ye;){ze=Ke[Xe+=1];var Je=be.util.getProperty(ze),Ue=(De=be.util.escapeQuotes(ze),Le+Je);be.opts._errorDataPathProperty&&(be.errorPath=be.util.getPath(Ge,ze,be.opts.jsonPointers)),Se+=" if ( "+Ue+" === undefined ",He&&(Se+=" || ! Object.prototype.hasOwnProperty.call("+Le+", '"+be.util.escapeQuotes(ze)+"') "),Se+=") {  var err =   ",!1!==be.createErrors?(Se+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(_e)+" , params: { property: '"+be.util.escapeQuotes(Qe)+"', missingProperty: '"+De+"', depsCount: "+xe.length+", deps: '"+be.util.escapeQuotes(1==xe.length?xe[0]:xe.join(", "))+"' } ",!1!==be.opts.messages&&(Se+=" , message: 'should have ",1==xe.length?Se+="property "+be.util.escapeQuotes(xe[0]):Se+="properties "+be.util.escapeQuotes(xe.join(", ")),Se+=" when property "+be.util.escapeQuotes(Qe)+" is present' "),be.opts.verbose&&(Se+=" , schema: validate.schema"+Re+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),Se+=" } "):Se+=" {} ",Se+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}Se+=" }   ",$e&&(Me+="}",Se+=" else { ")}be.errorPath=Ge;var Qe,qe=Ne.baseId;for(Qe in We){var et=We[Qe];(be.opts.strictKeywords?"object"==typeof et&&0<Object.keys(et).length||!1===et:be.util.schemaHasRules(et,be.RULES.all))&&(Se+=" "+Be+" = true; if ( "+Le+be.util.getProperty(Qe)+" !== undefined ",He&&(Se+=" && Object.prototype.hasOwnProperty.call("+Le+", '"+be.util.escapeQuotes(Qe)+"') "),Se+=") { ",Ne.schema=et,Ne.schemaPath=Re+be.util.getProperty(Qe),Ne.errSchemaPath=_e+"/"+be.util.escapeFragment(Qe),Se+="  "+be.validate(Ne)+" ",Ne.baseId=qe,Se+=" }  ",$e)&&(Se+=" if ("+Be+") { ",Me+="}")}return $e&&(Se+="   "+Me+" if ("+Ae+" == errors) {"),Se}},7112:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),_e="data"+(ke||""),$e="valid"+Se,Le=be.opts.$data&&Te&&Te.$data;Te=(Le&&(xe+=" var schema"+Se+" = "+be.util.getData(Te.$data,ke,be.dataPathArr)+"; "),"i"+Se),ke="schema"+Se,ke=(Le||(xe+=" var "+ke+" = validate.schema"+Ee+";"),xe+="var "+$e+";",Le&&(xe+=" if (schema"+Se+" === undefined) "+$e+" = true; else if (!Array.isArray(schema"+Se+")) "+$e+" = false; else {"),xe+=$e+" = false;for (var "+Te+"=0; "+Te+"<"+ke+".length; "+Te+"++) if (equal("+_e+", "+ke+"["+Te+"])) { "+$e+" = true; break; }",Le&&(xe+="  }  "),[]),Te=(ke.push(xe+=" if (!"+$e+") {   "),xe="",!1!==be.createErrors?(xe+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { allowedValues: schema"+Se+" } ",!1!==be.opts.messages&&(xe+=" , message: 'should be equal to one of the allowed values' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ",xe),xe=ke.pop();return!be.compositeRule&&Re?be.async?xe+=" throw new ValidationError(["+Te+"]); ":xe+=" validate.errors = ["+Te+"]; return false; ":xe+=" var err = "+Te+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+=" }",Re&&(xe+=" else { "),xe}},4682:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),_e="data"+(ke||"");if(!1===be.opts.format)Re&&(xe+=" if (true) { ");else{var $e,Le=be.opts.$data&&Te&&Te.$data,Ne=(ke=Le?(xe+=" var schema"+Se+" = "+be.util.getData(Te.$data,ke,be.dataPathArr)+"; ","schema"+Se):Te,be.opts.unknownFormats),Me=Array.isArray(Ne);if(Le)xe+=" var "+($e="format"+Se)+" = formats["+ke+"]; var "+(Be="isObject"+Se)+" = typeof "+$e+" == 'object' && !("+$e+" instanceof RegExp) && "+$e+".validate; var "+(Pe="formatType"+Se)+" = "+Be+" && "+$e+".type || 'string'; if ("+Be+") { ",be.async&&(xe+=" var async"+Se+" = "+$e+".async; "),xe+=" "+$e+" = "+$e+".validate; } if (  ",Le&&(xe+=" ("+ke+" !== undefined && typeof "+ke+" != 'string') || "),xe+=" (","ignore"!=Ne&&(xe+=" ("+ke+" && !"+$e+" ",Me&&(xe+=" && self._opts.unknownFormats.indexOf("+ke+") == -1 "),xe+=") || "),xe+=" ("+$e+" && "+Pe+" == '"+we+"' && !(typeof "+$e+" == 'function' ? ",be.async?xe+=" (async"+Se+" ? await "+$e+"("+_e+") : "+$e+"("+_e+")) ":xe+=" "+$e+"("+_e+") ",xe+=" : "+$e+".test("+_e+"))))) {";else{if(!($e=be.formats[Te])){if("ignore"==Ne)return be.logger.warn('unknown format "'+Te+'" ignored in schema at path "'+be.errSchemaPath+'"'),Re&&(xe+=" if (true) { "),xe;if(Me&&0<=Ne.indexOf(Te))return Re&&(xe+=" if (true) { "),xe;throw new Error('unknown format "'+Te+'" is used in schema at path "'+be.errSchemaPath+'"')}var Be,We,Pe=(Be="object"==typeof $e&&!($e instanceof RegExp)&&$e.validate)&&$e.type||"string";if(Be&&(We=!0===$e.async,$e=$e.validate),Pe!=we)return Re&&(xe+=" if (true) { "),xe;if(We){if(!be.async)throw new Error("async format in sync schema");xe+=" if (!(await "+(He="formats"+be.util.getProperty(Te)+".validate")+"("+_e+"))) { "}else{xe+=" if (! ";var He="formats"+be.util.getProperty(Te);Be&&(He+=".validate"),xe=xe+("function"==typeof $e?" "+He+"("+_e+") ":" "+He+".test("+_e+") ")+") { "}}Se=[],Me=(Se.push(xe),xe="",!1!==be.createErrors?(xe=(xe+=" { keyword: 'format' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { format:  ")+(Le?""+ke:""+be.util.toQuotedString(Te))+"  } ",!1!==be.opts.messages&&(xe=(xe+=" , message: 'should match format \"")+(Le?"' + "+ke+" + '":""+be.util.escapeQuotes(Te))+"\"' "),be.opts.verbose&&(xe=(xe=(xe+=" , schema:  ")+(Le?"validate.schema"+Ee:""+be.util.toQuotedString(Te)))+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ",xe),xe=Se.pop();!be.compositeRule&&Re?be.async?xe+=" throw new ValidationError(["+Me+"]); ":xe+=" validate.errors = ["+Me+"]; return false; ":xe+=" var err = "+Me+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+=" } ",Re&&(xe+=" else { ")}return xe}},1678:function(be){be.exports=function(be,Ae,we){var xe,Se=" ",ke=be.level,Te=be.dataLevel,Ee=be.schema[Ae],Re=be.schemaPath+be.util.getProperty(Ae),_e=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),$e=(Te="data"+(Te||""),"valid"+ke),Le="errs__"+ke,Ne=be.util.copy(be),Me=(Ne.level++,"valid"+Ne.level),Be=be.schema.then,We=be.schema.else,Pe=(Be=void 0!==Be&&(be.opts.strictKeywords?"object"==typeof Be&&0<Object.keys(Be).length||!1===Be:be.util.schemaHasRules(Be,be.RULES.all)),We=void 0!==We&&(be.opts.strictKeywords?"object"==typeof We&&0<Object.keys(We).length||!1===We:be.util.schemaHasRules(We,be.RULES.all)),Ne.baseId);return Be||We?(Ne.createErrors=!1,Ne.schema=Ee,Ne.schemaPath=Re,Ne.errSchemaPath=Ae,Se+=" var "+Le+" = errors; var "+$e+" = true;  ",Ee=be.compositeRule,be.compositeRule=Ne.compositeRule=!0,Se+="  "+be.validate(Ne)+" ",Ne.baseId=Pe,Ne.createErrors=!0,Se+="  errors = "+Le+"; if (vErrors !== null) { if ("+Le+") vErrors.length = "+Le+"; else vErrors = null; }  ",be.compositeRule=Ne.compositeRule=Ee,Be?(Se+=" if ("+Me+") {  ",Ne.schema=be.schema.then,Ne.schemaPath=be.schemaPath+".then",Ne.errSchemaPath=be.errSchemaPath+"/then",Se+="  "+be.validate(Ne)+" ",Ne.baseId=Pe,Se+=" "+$e+" = "+Me+"; ",Be&&We?Se+=" var "+(xe="ifClause"+ke)+" = 'then'; ":xe="'then'",Se+=" } ",We&&(Se+=" else { ")):Se+=" if (!"+Me+") { ",We&&(Ne.schema=be.schema.else,Ne.schemaPath=be.schemaPath+".else",Ne.errSchemaPath=be.errSchemaPath+"/else",Se+="  "+be.validate(Ne)+" ",Ne.baseId=Pe,Se+=" "+$e+" = "+Me+"; ",Be&&We?Se+=" var "+(xe="ifClause"+ke)+" = 'else'; ":xe="'else'",Se+=" } "),Se+=" if (!"+$e+") {   var err =   ",!1!==be.createErrors?(Se+=" { keyword: 'if' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { failingKeyword: "+xe+" } ",!1!==be.opts.messages&&(Se+=" , message: 'should match \"' + "+xe+" + '\" schema' "),be.opts.verbose&&(Se+=" , schema: validate.schema"+Re+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Te+" "),Se+=" } "):Se+=" {} ",Se+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!be.compositeRule&&_e&&(be.async?Se+=" throw new ValidationError(vErrors); ":Se+=" validate.errors = vErrors; return false; "),Se+=" }   ",_e&&(Se+=" else { ")):_e&&(Se+=" if (true) { "),Se}},8161:function(be,Ae,we){be.exports={$ref:we(7096),allOf:we(3531),anyOf:we(8854),$comment:we(8372),const:we(9650),contains:we(1292),dependencies:we(2860),enum:we(7112),format:we(4682),if:we(1678),items:we(3913),maximum:we(1765),minimum:we(1765),maxItems:we(9337),minItems:we(9337),maxLength:we(5433),minLength:we(5433),maxProperties:we(7724),minProperties:we(7724),multipleOf:we(812),not:we(1004),oneOf:we(6288),pattern:we(2079),properties:we(2124),propertyNames:we(4926),required:we(2e3),uniqueItems:we(7812),validate:we(1035)}},3913:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=be.errSchemaPath+"/"+Ae,_e=!be.opts.allErrors,$e="data"+(ke||""),Le=(Ae="valid"+Se,ke="errs__"+Se,be.util.copy(be)),Ne="",Me=(Le.level++,"valid"+Le.level),Be=(Se="i"+Se,Le.dataLevel=be.dataLevel+1),We="data"+Be,Pe=be.baseId;if(xe+="var "+ke+" = errors;var "+Ae+";",Array.isArray(Te)){var He,Ge,Fe=be.schema.additionalItems,Oe=(!1===Fe&&(xe+=" "+Ae+" = "+$e+".length <= "+Te.length+"; ",He=Re,Re=be.errSchemaPath+"/additionalItems",(Ge=Ge||[]).push(xe+="  if (!"+Ae+") {   "),xe="",!1!==be.createErrors?(xe+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { limit: "+Te.length+" } ",!1!==be.opts.messages&&(xe+=" , message: 'should NOT have more than "+Te.length+" items' "),be.opts.verbose&&(xe+=" , schema: false , parentSchema: validate.schema"+be.schemaPath+" , data: "+$e+" "),xe+=" } "):xe+=" {} ",Ae=xe,xe=Ge.pop(),!be.compositeRule&&_e?be.async?xe+=" throw new ValidationError(["+Ae+"]); ":xe+=" validate.errors = ["+Ae+"]; return false; ":xe+=" var err = "+Ae+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+=" } ",Re=He,_e)&&(Ne+="}",xe+=" else { "),Te);if(Oe)for(var Ve=-1,Ze=Oe.length-1;Ve<Ze;){var De,je,Ke=Oe[Ve+=1];(be.opts.strictKeywords?"object"==typeof Ke&&0<Object.keys(Ke).length||!1===Ke:be.util.schemaHasRules(Ke,be.RULES.all))&&(xe+=" "+Me+" = true; if ("+$e+".length > "+Ve+") { ",De=$e+"["+Ve+"]",Le.schema=Ke,Le.schemaPath=Ee+"["+Ve+"]",Le.errSchemaPath=Re+"/"+Ve,Le.errorPath=be.util.getPathExpr(be.errorPath,Ve,be.opts.jsonPointers,!0),Le.dataPathArr[Be]=Ve,je=be.validate(Le),Le.baseId=Pe,be.util.varOccurences(je,We)<2?xe+=" "+be.util.varReplace(je,We,De)+" ":xe+=" var "+We+" = "+De+"; "+je+" ",xe+=" }  ",_e)&&(xe+=" if ("+Me+") { ",Ne+="}")}"object"==typeof Fe&&(be.opts.strictKeywords?"object"==typeof Fe&&0<Object.keys(Fe).length||!1===Fe:be.util.schemaHasRules(Fe,be.RULES.all))&&(Le.schema=Fe,Le.schemaPath=be.schemaPath+".additionalItems",Le.errSchemaPath=be.errSchemaPath+"/additionalItems",xe+=" "+Me+" = true; if ("+$e+".length > "+Te.length+") {  for (var "+Se+" = "+Te.length+"; "+Se+" < "+$e+".length; "+Se+"++) { ",Le.errorPath=be.util.getPathExpr(be.errorPath,Se,be.opts.jsonPointers,!0),De=$e+"["+Se+"]",Le.dataPathArr[Be]=Se,je=be.validate(Le),Le.baseId=Pe,be.util.varOccurences(je,We)<2?xe+=" "+be.util.varReplace(je,We,De)+" ":xe+=" var "+We+" = "+De+"; "+je+" ",_e&&(xe+=" if (!"+Me+") break; "),xe+=" } }  ",_e)&&(xe+=" if ("+Me+") { ",Ne+="}")}else(be.opts.strictKeywords?"object"==typeof Te&&0<Object.keys(Te).length||!1===Te:be.util.schemaHasRules(Te,be.RULES.all))&&(Le.schema=Te,Le.schemaPath=Ee,Le.errSchemaPath=Re,xe+="  for (var "+Se+" = 0; "+Se+" < "+$e+".length; "+Se+"++) { ",Le.errorPath=be.util.getPathExpr(be.errorPath,Se,be.opts.jsonPointers,!0),De=$e+"["+Se+"]",Le.dataPathArr[Be]=Se,je=be.validate(Le),Le.baseId=Pe,be.util.varOccurences(je,We)<2?xe+=" "+be.util.varReplace(je,We,De)+" ":xe+=" var "+We+" = "+De+"; "+je+" ",_e&&(xe+=" if (!"+Me+") break; "),xe+=" }");return _e&&(xe+=" "+Ne+" if ("+ke+" == errors) {"),xe}},812:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=be.errSchemaPath+"/"+Ae,_e=!be.opts.allErrors,$e="data"+(ke||""),Le=be.opts.$data&&Te&&Te.$data;ke=Le?(xe+=" var schema"+Se+" = "+be.util.getData(Te.$data,ke,be.dataPathArr)+"; ","schema"+Se):Te;if(!Le&&"number"!=typeof Te)throw new Error(Ae+" must be number");xe+="var division"+Se+";if (",Le&&(xe+=" "+ke+" !== undefined && ( typeof "+ke+" != 'number' || "),xe+=" (division"+Se+" = "+$e+" / "+ke+", ",be.opts.multipleOfPrecision?xe+=" Math.abs(Math.round(division"+Se+") - division"+Se+") > 1e-"+be.opts.multipleOfPrecision+" ":xe+=" division"+Se+" !== parseInt(division"+Se+") ",xe+=" ) ",Le&&(xe+="  )  ");Ae=[],Ae.push(xe+=" ) {   "),xe="",!1!==be.createErrors?(xe+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { multipleOf: "+ke+" } ",!1!==be.opts.messages&&(xe=xe+" , message: 'should be multiple of "+(Le?"' + "+ke:ke+"'")),be.opts.verbose&&(xe=(xe+=" , schema:  ")+(Le?"validate.schema"+Ee:""+Te)+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+$e+" "),xe+=" } "):xe+=" {} ",Se=xe,xe=Ae.pop();return!be.compositeRule&&_e?be.async?xe+=" throw new ValidationError(["+Se+"]); ":xe+=" validate.errors = ["+Se+"]; return false; ":xe+=" var err = "+Se+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+="} ",_e&&(xe+=" else { "),xe}},1004:function(be){be.exports=function(be,Ae,we){var xe,Se,ke=" ",Te=be.level,Ee=be.dataLevel,Re=be.schema[Ae],_e=be.schemaPath+be.util.getProperty(Ae),$e=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),Le=(Ee="data"+(Ee||""),Te="errs__"+Te,be.util.copy(be)),Ne=(Le.level++,"valid"+Le.level);return(be.opts.strictKeywords?"object"==typeof Re&&0<Object.keys(Re).length||!1===Re:be.util.schemaHasRules(Re,be.RULES.all))?(Le.schema=Re,Le.schemaPath=_e,Le.errSchemaPath=Ae,ke+=" var "+Te+" = errors;  ",Re=be.compositeRule,be.compositeRule=Le.compositeRule=!0,Le.createErrors=!1,Le.opts.allErrors&&(Se=Le.opts.allErrors,Le.opts.allErrors=!1),ke+=" "+be.validate(Le)+" ",Le.createErrors=!0,Se&&(Le.opts.allErrors=Se),be.compositeRule=Le.compositeRule=Re,(xe=xe||[]).push(ke+=" if ("+Ne+") {   "),ke="",!1!==be.createErrors?(ke+=" { keyword: 'not' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: {} ",!1!==be.opts.messages&&(ke+=" , message: 'should NOT be valid' "),be.opts.verbose&&(ke+=" , schema: validate.schema"+_e+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Ee+" "),ke+=" } "):ke+=" {} ",Se=ke,ke=xe.pop(),!be.compositeRule&&$e?be.async?ke+=" throw new ValidationError(["+Se+"]); ":ke+=" validate.errors = ["+Se+"]; return false; ":ke+=" var err = "+Se+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",ke+=" } else {  errors = "+Te+"; if (vErrors !== null) { if ("+Te+") vErrors.length = "+Te+"; else vErrors = null; } ",be.opts.allErrors&&(ke+=" } ")):(ke+="  var err =   ",!1!==be.createErrors?(ke+=" { keyword: 'not' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: {} ",!1!==be.opts.messages&&(ke+=" , message: 'should NOT be valid' "),be.opts.verbose&&(ke+=" , schema: validate.schema"+_e+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Ee+" "),ke+=" } "):ke+=" {} ",ke+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$e&&(ke+=" if (false) { ")),ke}},6288:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=be.errSchemaPath+"/"+Ae,_e=(Ae=!be.opts.allErrors,ke="data"+(ke||""),"valid"+Se),$e="errs__"+Se,Le=be.util.copy(be),Ne="",Me=(Le.level++,"valid"+Le.level),Be=Le.baseId,We="prevValid"+Se,Pe="passingSchemas"+Se,He=(Se=(xe+="var "+$e+" = errors , "+We+" = false , "+_e+" = false , "+Pe+" = null; ",be.compositeRule),be.compositeRule=Le.compositeRule=!0,Te);if(He)for(var Ge,Fe=-1,Oe=He.length-1;Fe<Oe;)Ge=He[Fe+=1],(be.opts.strictKeywords?"object"==typeof Ge&&0<Object.keys(Ge).length||!1===Ge:be.util.schemaHasRules(Ge,be.RULES.all))?(Le.schema=Ge,Le.schemaPath=Ee+"["+Fe+"]",Le.errSchemaPath=Re+"/"+Fe,xe+="  "+be.validate(Le)+" ",Le.baseId=Be):xe+=" var "+Me+" = true; ",Fe&&(xe+=" if ("+Me+" && "+We+") { "+_e+" = false; "+Pe+" = ["+Pe+", "+Fe+"]; } else { ",Ne+="}"),xe+=" if ("+Me+") { "+_e+" = "+We+" = true; "+Pe+" = "+Fe+"; }";return be.compositeRule=Le.compositeRule=Se,xe+=Ne+"if (!"+_e+") {   var err =   ",!1!==be.createErrors?(xe+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { passingSchemas: "+Pe+" } ",!1!==be.opts.messages&&(xe+=" , message: 'should match exactly one schema in oneOf' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+ke+" "),xe+=" } "):xe+=" {} ",xe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!be.compositeRule&&Ae&&(be.async?xe+=" throw new ValidationError(vErrors); ":xe+=" validate.errors = vErrors; return false; "),xe+="} else {  errors = "+$e+"; if (vErrors !== null) { if ("+$e+") vErrors.length = "+$e+"; else vErrors = null; }",be.opts.allErrors&&(xe+=" } "),xe}},2079:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),_e="data"+(ke||""),$e=be.opts.$data&&Te&&Te.$data,Le=(ke=$e?(xe+=" var schema"+Se+" = "+be.util.getData(Te.$data,ke,be.dataPathArr)+"; ","schema"+Se):Te,Se=$e?"(new RegExp("+ke+"))":be.usePattern(Te),xe+="if ( ",$e&&(xe+=" ("+ke+" !== undefined && typeof "+ke+" != 'string') || "),[]);Se=(Le.push(xe+=" !"+Se+".test("+_e+") ) {   "),xe="",!1!==be.createErrors?(xe=(xe+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { pattern:  ")+($e?""+ke:""+be.util.toQuotedString(Te))+"  } ",!1!==be.opts.messages&&(xe=(xe+=" , message: 'should match pattern \"")+($e?"' + "+ke+" + '":""+be.util.escapeQuotes(Te))+"\"' "),be.opts.verbose&&(xe=(xe=(xe+=" , schema:  ")+($e?"validate.schema"+Ee:""+be.util.toQuotedString(Te)))+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ",xe),xe=Le.pop();return!be.compositeRule&&Re?be.async?xe+=" throw new ValidationError(["+Se+"]); ":xe+=" validate.errors = ["+Se+"]; return false; ":xe+=" var err = "+Se+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+="} ",Re&&(xe+=" else { "),xe}},2124:function(be){be.exports=function(be,Ae,we){var xe,Se=" ",ke=be.level,Te=be.dataLevel,Ee=be.schema[Ae],Re=be.schemaPath+be.util.getProperty(Ae),_e=be.errSchemaPath+"/"+Ae,$e=!be.opts.allErrors,Le="data"+(Te||""),Ne=(Ae="errs__"+ke,be.util.copy(be)),Me="",Be=(Ne.level++,"valid"+Ne.level),We="key"+ke,Pe="idx"+ke,He=Ne.dataLevel=be.dataLevel+1,Ge="data"+He,Fe="dataProperties"+ke,Oe=(Te=Object.keys(Ee||{}).filter(V),be.schema.patternProperties||{}),Ve=Object.keys(Oe).filter(V),Ze=be.schema.additionalProperties,De=Te.length||Ve.length,je=!1===Ze,Ke="object"==typeof Ze&&Object.keys(Ze).length,ze=be.opts.removeAdditional,Xe=je||Ke||ze,Ye=be.opts.ownProperties,Je=be.baseId,Ue=be.schema.required;function V(be){return"__proto__"!==be}if(Ue&&(!be.opts.$data||!Ue.$data)&&Ue.length<be.opts.loopRequired&&(xe=be.util.toHash(Ue)),Se+="var "+Ae+" = errors;var "+Be+" = true;",Ye&&(Se+=" var "+Fe+" = undefined;"),Xe){if(Se+=Ye?" "+Fe+" = "+Fe+" || Object.keys("+Le+"); for (var "+Pe+"=0; "+Pe+"<"+Fe+".length; "+Pe+"++) { var "+We+" = "+Fe+"["+Pe+"]; ":" for (var "+We+" in "+Le+") { ",De){if(Se+=" var isAdditional"+ke+" = !(false ",Te.length)if(8<Te.length)Se+=" || validate.schema"+Re+".hasOwnProperty("+We+") ";else{var Qe=Te;if(Qe)for(var qe=-1,et=Qe.length-1;qe<et;)st=Qe[qe+=1],Se+=" || "+We+" == "+be.util.toQuotedString(st)+" "}if(Ve.length){var tt=Ve;if(tt)for(var nt=-1,it=tt.length-1;nt<it;)yt=tt[nt+=1],Se+=" || "+be.usePattern(yt)+".test("+We+") "}Se+=" ); if (isAdditional"+ke+") { "}"all"==ze?Se+=" delete "+Le+"["+We+"]; ":(dt=be.errorPath,Ue="' + "+We+" + '",be.opts._errorDataPathProperty&&(be.errorPath=be.util.getPathExpr(be.errorPath,We,be.opts.jsonPointers)),je?ze?Se+=" delete "+Le+"["+We+"]; ":(ut=_e,_e=be.errSchemaPath+"/additionalProperties",(pt=pt||[]).push(Se+=" "+Be+" = false; "),Se="",!1!==be.createErrors?(Se+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(_e)+" , params: { additionalProperty: '"+Ue+"' } ",!1!==be.opts.messages&&(Se+=" , message: '",be.opts._errorDataPathProperty?Se+="is an invalid additional property":Se+="should NOT have additional properties",Se+="' "),be.opts.verbose&&(Se+=" , schema: false , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),Se+=" } "):Se+=" {} ",mt=Se,Se=pt.pop(),!be.compositeRule&&$e?be.async?Se+=" throw new ValidationError(["+mt+"]); ":Se+=" validate.errors = ["+mt+"]; return false; ":Se+=" var err = "+mt+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",_e=ut,$e&&(Se+=" break; ")):Ke&&("failing"==ze?(Se+=" var "+Ae+" = errors;  ",Xe=be.compositeRule,be.compositeRule=Ne.compositeRule=!0,Ne.schema=Ze,Ne.schemaPath=be.schemaPath+".additionalProperties",Ne.errSchemaPath=be.errSchemaPath+"/additionalProperties",Ne.errorPath=be.opts._errorDataPathProperty?be.errorPath:be.util.getPathExpr(be.errorPath,We,be.opts.jsonPointers),bt=Le+"["+We+"]",Ne.dataPathArr[He]=We,At=be.validate(Ne),Ne.baseId=Je,be.util.varOccurences(At,Ge)<2?Se+=" "+be.util.varReplace(At,Ge,bt)+" ":Se+=" var "+Ge+" = "+bt+"; "+At+" ",Se+=" if (!"+Be+") { errors = "+Ae+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+Le+"["+We+"]; }  ",be.compositeRule=Ne.compositeRule=Xe):(Ne.schema=Ze,Ne.schemaPath=be.schemaPath+".additionalProperties",Ne.errSchemaPath=be.errSchemaPath+"/additionalProperties",Ne.errorPath=be.opts._errorDataPathProperty?be.errorPath:be.util.getPathExpr(be.errorPath,We,be.opts.jsonPointers),bt=Le+"["+We+"]",Ne.dataPathArr[He]=We,At=be.validate(Ne),Ne.baseId=Je,be.util.varOccurences(At,Ge)<2?Se+=" "+be.util.varReplace(At,Ge,bt)+" ":Se+=" var "+Ge+" = "+bt+"; "+At+" ",$e&&(Se+=" if (!"+Be+") break; "))),be.errorPath=dt),De&&(Se+=" } "),Se+=" }  ",$e&&(Se+=" if ("+Be+") { ",Me+="}")}var ot=be.opts.useDefaults&&!be.compositeRule;if(Te.length){var rt=Te;if(rt)for(var st,at=-1,lt=rt.length-1;at<lt;){var ct,ht,dt,ut,gt,pt,mt,ft=Ee[st=rt[at+=1]];(be.opts.strictKeywords?"object"==typeof ft&&0<Object.keys(ft).length||!1===ft:be.util.schemaHasRules(ft,be.RULES.all))&&(bt=Le+(gt=be.util.getProperty(st)),ct=ot&&void 0!==ft.default,Ne.schema=ft,Ne.schemaPath=Re+gt,Ne.errSchemaPath=_e+"/"+be.util.escapeFragment(st),Ne.errorPath=be.util.getPath(be.errorPath,st,be.opts.jsonPointers),Ne.dataPathArr[He]=be.util.toQuotedString(st),At=be.validate(Ne),Ne.baseId=Je,be.util.varOccurences(At,Ge)<2?(At=be.util.varReplace(At,Ge,bt),ht=bt):Se+=" var "+(ht=Ge)+" = "+bt+"; ",ct?Se+=" "+At+" ":(xe&&xe[st]?(Se+=" if ( "+ht+" === undefined ",Ye&&(Se+=" || ! Object.prototype.hasOwnProperty.call("+Le+", '"+be.util.escapeQuotes(st)+"') "),Se+=") { "+Be+" = false; ",dt=be.errorPath,ut=_e,gt=be.util.escapeQuotes(st),be.opts._errorDataPathProperty&&(be.errorPath=be.util.getPath(dt,st,be.opts.jsonPointers)),_e=be.errSchemaPath+"/required",(pt=pt||[]).push(Se),Se="",!1!==be.createErrors?(Se+=" { keyword: 'required' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(_e)+" , params: { missingProperty: '"+gt+"' } ",!1!==be.opts.messages&&(Se+=" , message: '",be.opts._errorDataPathProperty?Se+="is a required property":Se+="should have required property \\'"+gt+"\\'",Se+="' "),be.opts.verbose&&(Se+=" , schema: validate.schema"+Re+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),Se+=" } "):Se+=" {} ",mt=Se,Se=pt.pop(),!be.compositeRule&&$e?be.async?Se+=" throw new ValidationError(["+mt+"]); ":Se+=" validate.errors = ["+mt+"]; return false; ":Se+=" var err = "+mt+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",_e=ut,be.errorPath=dt,Se+=" } else { "):$e?(Se+=" if ( "+ht+" === undefined ",Ye&&(Se+=" || ! Object.prototype.hasOwnProperty.call("+Le+", '"+be.util.escapeQuotes(st)+"') "),Se+=") { "+Be+" = true; } else { "):(Se+=" if ("+ht+" !== undefined ",Ye&&(Se+=" &&   Object.prototype.hasOwnProperty.call("+Le+", '"+be.util.escapeQuotes(st)+"') "),Se+=" ) { "),Se+=" "+At+" } ")),$e&&(Se+=" if ("+Be+") { ",Me+="}")}}if(Ve.length){var Ct=Ve;if(Ct)for(var yt,vt=-1,It=Ct.length-1;vt<It;){var bt,At;ft=Oe[yt=Ct[vt+=1]];(be.opts.strictKeywords?"object"==typeof ft&&0<Object.keys(ft).length||!1===ft:be.util.schemaHasRules(ft,be.RULES.all))&&(Ne.schema=ft,Ne.schemaPath=be.schemaPath+".patternProperties"+be.util.getProperty(yt),Ne.errSchemaPath=be.errSchemaPath+"/patternProperties/"+be.util.escapeFragment(yt),Se=(Se+=Ye?" "+Fe+" = "+Fe+" || Object.keys("+Le+"); for (var "+Pe+"=0; "+Pe+"<"+Fe+".length; "+Pe+"++) { var "+We+" = "+Fe+"["+Pe+"]; ":" for (var "+We+" in "+Le+") { ")+" if ("+be.usePattern(yt)+".test("+We+")) { ",Ne.errorPath=be.util.getPathExpr(be.errorPath,We,be.opts.jsonPointers),bt=Le+"["+We+"]",Ne.dataPathArr[He]=We,At=be.validate(Ne),Ne.baseId=Je,be.util.varOccurences(At,Ge)<2?Se+=" "+be.util.varReplace(At,Ge,bt)+" ":Se+=" var "+Ge+" = "+bt+"; "+At+" ",$e&&(Se+=" if (!"+Be+") break; "),Se+=" } ",$e&&(Se+=" else "+Be+" = true; "),Se+=" }  ",$e)&&(Se+=" if ("+Be+") { ",Me+="}")}}return $e&&(Se+=" "+Me+" if ("+Ae+" == errors) {"),Se}},4926:function(be){be.exports=function(be,Ae,we){var xe,Se,ke,Te,Ee,Re,_e,$e=" ",Le=be.level,Ne=be.dataLevel,Me=be.schema[Ae],Be=be.schemaPath+be.util.getProperty(Ae),We=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),Pe=(Ne="data"+(Ne||""),"errs__"+Le),He=be.util.copy(be),Ge=(He.level++,"valid"+He.level);return $e+="var "+Pe+" = errors;",(be.opts.strictKeywords?"object"==typeof Me&&0<Object.keys(Me).length||!1===Me:be.util.schemaHasRules(Me,be.RULES.all))&&(He.schema=Me,He.schemaPath=Be,He.errSchemaPath=Ae,Me="idx"+Le,Se="i"+Le,ke="' + "+(xe="key"+Le)+" + '",Te="data"+(He.dataLevel=be.dataLevel+1),_e="dataProperties"+Le,Re=be.opts.ownProperties,Ee=be.baseId,Re&&($e+=" var "+_e+" = undefined; "),$e=$e+(Re?" "+_e+" = "+_e+" || Object.keys("+Ne+"); for (var "+Me+"=0; "+Me+"<"+_e+".length; "+Me+"++) { var "+xe+" = "+_e+"["+Me+"]; ":" for (var "+xe+" in "+Ne+") { ")+" var startErrs"+Le+" = errors; ",Re=xe,_e=be.compositeRule,be.compositeRule=He.compositeRule=!0,Me=be.validate(He),He.baseId=Ee,be.util.varOccurences(Me,Te)<2?$e+=" "+be.util.varReplace(Me,Te,Re)+" ":$e+=" var "+Te+" = "+Re+"; "+Me+" ",be.compositeRule=He.compositeRule=_e,$e+=" if (!"+Ge+") { for (var "+Se+"=startErrs"+Le+"; "+Se+"<errors; "+Se+"++) { vErrors["+Se+"].propertyName = "+xe+"; }   var err =   ",!1!==be.createErrors?($e+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { propertyName: '"+ke+"' } ",!1!==be.opts.messages&&($e+=" , message: 'property name \\'"+ke+"\\' is invalid' "),be.opts.verbose&&($e+=" , schema: validate.schema"+Be+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Ne+" "),$e+=" } "):$e+=" {} ",$e+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!be.compositeRule&&We&&(be.async?$e+=" throw new ValidationError(vErrors); ":$e+=" validate.errors = vErrors; return false; "),We&&($e+=" break; "),$e+=" } }"),We&&($e+="  if ("+Pe+" == errors) {"),$e}},7096:function(be){be.exports=function(be,Ae,we){var xe,Se,ke=" ",Te=be.level,Ee=be.dataLevel,Re=be.schema[Ae],_e=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),$e="data"+(Ee||"");Te="valid"+Te;if("#"==Re||"#/"==Re)Se=be.isRoot?(xe=be.async,"validate"):(xe=!0===be.root.schema.$async,"root.refVal[0]");else{var Le=be.resolveRef(be.baseId,Re,be.isRoot);if(void 0===Le){var Ne=be.MissingRefError.message(be.baseId,Re);if("fail"==be.opts.missingRefs){be.logger.error(Ne);(Me=Me||[]).push(ke),ke="",!1!==be.createErrors?(ke+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { ref: '"+be.util.escapeQuotes(Re)+"' } ",!1!==be.opts.messages&&(ke+=" , message: 'can\\'t resolve reference "+be.util.escapeQuotes(Re)+"' "),be.opts.verbose&&(ke+=" , schema: "+be.util.toQuotedString(Re)+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+$e+" "),ke+=" } "):ke+=" {} ";Ae=ke,ke=Me.pop();!be.compositeRule&&_e?be.async?ke+=" throw new ValidationError(["+Ae+"]); ":ke+=" validate.errors = ["+Ae+"]; return false; ":ke+=" var err = "+Ae+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",_e&&(ke+=" if (false) { ")}else{if("ignore"!=be.opts.missingRefs)throw new be.MissingRefError(be.baseId,Re,Ne);be.logger.warn(Ne),_e&&(ke+=" if (true) { ")}}else Le.inline?((Ae=be.util.copy(be)).level++,Ne="valid"+Ae.level,Ae.schema=Le.schema,Ae.schemaPath="",Ae.errSchemaPath=Re,ke+=" "+be.validate(Ae).replace(/validate\.schema/g,Le.code)+" ",_e&&(ke+=" if ("+Ne+") { ")):(xe=!0===Le.$async||be.async&&!1!==Le.$async,Se=Le.code)}if(Se){(Me=Me||[]).push(ke),ke="",be.opts.passContext?ke+=" "+Se+".call(this, ":ke+=" "+Se+"( ",ke+=" "+$e+", (dataPath || '')",'""'!=be.errorPath&&(ke+=" + "+be.errorPath);var Me;Re=Ee?"data"+(Ee-1||""):"parentData",Ae=ke+=" , "+Re+" , "+(Ee?be.dataPathArr[Ee]:"parentDataProperty")+", rootData)  ";if(ke=Me.pop(),xe){if(!be.async)throw new Error("async schema referenced by sync schema");_e&&(ke+=" var "+Te+"; "),ke+=" try { await "+Ae+"; ",_e&&(ke+=" "+Te+" = true; "),ke+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",_e&&(ke+=" "+Te+" = false; "),ke+=" } ",_e&&(ke+=" if ("+Te+") { ")}else ke+=" if (!"+Ae+") { if (vErrors === null) vErrors = "+Se+".errors; else vErrors = vErrors.concat("+Se+".errors); errors = vErrors.length; } ",_e&&(ke+=" else { ")}return ke}},2e3:function(be){be.exports=function(be,Ae,we){var xe=" ",Se=be.level,ke=be.dataLevel,Te=be.schema[Ae],Ee=be.schemaPath+be.util.getProperty(Ae),Re=be.errSchemaPath+"/"+Ae,_e=(Ae=!be.opts.allErrors,"data"+(ke||"")),$e="valid"+Se,Le=be.opts.$data&&Te&&Te.$data;ke=(Le&&(xe+=" var schema"+Se+" = "+be.util.getData(Te.$data,ke,be.dataPathArr)+"; "),"schema"+Se);if(!Le)if(Te.length<be.opts.loopRequired&&be.schema.properties&&Object.keys(be.schema.properties).length){var Ne=[],Me=Te;if(Me)for(var Be=-1,We=Me.length-1;Be<We;){var Pe=Me[Be+=1],He=be.schema.properties[Pe];He&&(be.opts.strictKeywords?"object"==typeof He&&0<Object.keys(He).length||!1===He:be.util.schemaHasRules(He,be.RULES.all))||(Ne[Ne.length]=Pe)}}else Ne=Te;if(Le||Ne.length){var Ge=be.errorPath,Fe=(Te=Le||Ne.length>=be.opts.loopRequired,be.opts.ownProperties);if(Ae){if(xe+=" var missing"+Se+"; ",Te){Le||(xe+=" var "+ke+" = validate.schema"+Ee+"; ");var Oe="' + "+(ze="schema"+Se+"["+(De="i"+Se)+"]")+" + '";be.opts._errorDataPathProperty&&(be.errorPath=be.util.getPathExpr(Ge,ze,be.opts.jsonPointers)),xe+=" var "+$e+" = true; ",Le&&(xe+=" if (schema"+Se+" === undefined) "+$e+" = true; else if (!Array.isArray(schema"+Se+")) "+$e+" = false; else {"),xe+=" for (var "+De+" = 0; "+De+" < "+ke+".length; "+De+"++) { "+$e+" = "+_e+"["+ke+"["+De+"]] !== undefined ",Fe&&(xe+=" &&   Object.prototype.hasOwnProperty.call("+_e+", "+ke+"["+De+"]) "),xe+="; if (!"+$e+") break; } ",Le&&(xe+="  }  ");(Ke=Ke||[]).push(xe+="  if (!"+$e+") {   "),xe="",!1!==be.createErrors?(xe+=" { keyword: 'required' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { missingProperty: '"+Oe+"' } ",!1!==be.opts.messages&&(xe+=" , message: '",be.opts._errorDataPathProperty?xe+="is a required property":xe+="should have required property \\'"+Oe+"\\'",xe+="' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ";var Ve=xe;xe=Ke.pop()}else{xe+=" if ( ";var Ze=Ne;if(Ze)for(var De=-1,je=Ze.length-1;De<je;)Ye=Ze[De+=1],De&&(xe+=" || "),xe+=" ( ( "+(qe=_e+(Qe=be.util.getProperty(Ye)))+" === undefined ",Fe&&(xe+=" || ! Object.prototype.hasOwnProperty.call("+_e+", '"+be.util.escapeQuotes(Ye)+"') "),xe+=") && (missing"+Se+" = "+be.util.toQuotedString(be.opts.jsonPointers?Ye:Qe)+") ) ";xe+=") {  ";Oe="' + "+(ze="missing"+Se)+" + '";be.opts._errorDataPathProperty&&(be.errorPath=be.opts.jsonPointers?be.util.getPathExpr(Ge,ze,!0):Ge+" + "+ze);(Ke=Ke||[]).push(xe),xe="",!1!==be.createErrors?(xe+=" { keyword: 'required' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { missingProperty: '"+Oe+"' } ",!1!==be.opts.messages&&(xe+=" , message: '",be.opts._errorDataPathProperty?xe+="is a required property":xe+="should have required property \\'"+Oe+"\\'",xe+="' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ";var Ke;Ve=xe;xe=Ke.pop()}!be.compositeRule&&Ae?be.async?xe+=" throw new ValidationError(["+Ve+"]); ":xe+=" validate.errors = ["+Ve+"]; return false; ":xe+=" var err = "+Ve+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+=" } else { "}else if(Te){Le||(xe+=" var "+ke+" = validate.schema"+Ee+"; ");var ze;Oe="' + "+(ze="schema"+Se+"["+(De="i"+Se)+"]")+" + '";be.opts._errorDataPathProperty&&(be.errorPath=be.util.getPathExpr(Ge,ze,be.opts.jsonPointers)),Le&&(xe+=" if ("+ke+" && !Array.isArray("+ke+")) {  var err =   ",!1!==be.createErrors?(xe+=" { keyword: 'required' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { missingProperty: '"+Oe+"' } ",!1!==be.opts.messages&&(xe+=" , message: '",be.opts._errorDataPathProperty?xe+="is a required property":xe+="should have required property \\'"+Oe+"\\'",xe+="' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ",xe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+ke+" !== undefined) { "),xe+=" for (var "+De+" = 0; "+De+" < "+ke+".length; "+De+"++) { if ("+_e+"["+ke+"["+De+"]] === undefined ",Fe&&(xe+=" || ! Object.prototype.hasOwnProperty.call("+_e+", "+ke+"["+De+"]) "),xe+=") {  var err =   ",!1!==be.createErrors?(xe+=" { keyword: 'required' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { missingProperty: '"+Oe+"' } ",!1!==be.opts.messages&&(xe+=" , message: '",be.opts._errorDataPathProperty?xe+="is a required property":xe+="should have required property \\'"+Oe+"\\'",xe+="' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ",xe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",Le&&(xe+="  }  ")}else{var Xe=Ne;if(Xe)for(var Ye,Je=-1,Ue=Xe.length-1;Je<Ue;){Ye=Xe[Je+=1];var Qe=be.util.getProperty(Ye),qe=(Oe=be.util.escapeQuotes(Ye),_e+Qe);be.opts._errorDataPathProperty&&(be.errorPath=be.util.getPath(Ge,Ye,be.opts.jsonPointers)),xe+=" if ( "+qe+" === undefined ",Fe&&(xe+=" || ! Object.prototype.hasOwnProperty.call("+_e+", '"+be.util.escapeQuotes(Ye)+"') "),xe+=") {  var err =   ",!1!==be.createErrors?(xe+=" { keyword: 'required' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Re)+" , params: { missingProperty: '"+Oe+"' } ",!1!==be.opts.messages&&(xe+=" , message: '",be.opts._errorDataPathProperty?xe+="is a required property":xe+="should have required property \\'"+Oe+"\\'",xe+="' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ee+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+_e+" "),xe+=" } "):xe+=" {} ",xe+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}be.errorPath=Ge}else Ae&&(xe+=" if (true) {");return xe}},7812:function(be){be.exports=function(be,Ae,we){var xe,Se=" ",ke=be.level,Te=be.dataLevel,Ee=be.schema[Ae],Re=be.schemaPath+be.util.getProperty(Ae),_e=(Ae=be.errSchemaPath+"/"+Ae,!be.opts.allErrors),$e="data"+(Te||""),Le="valid"+ke,Ne=be.opts.$data&&Ee&&Ee.$data;Te=Ne?(Se+=" var schema"+ke+" = "+be.util.getData(Ee.$data,Te,be.dataPathArr)+"; ","schema"+ke):Ee;return(Ee||Ne)&&!1!==be.opts.uniqueItems?(Ne&&(Se+=" var "+Le+"; if ("+Te+" === false || "+Te+" === undefined) "+Le+" = true; else if (typeof "+Te+" != 'boolean') "+Le+" = false; else { "),Se+=" var i = "+$e+".length , "+Le+" = true , j; if (i > 1) { ",ke=be.schema.items&&be.schema.items.type,Te=Array.isArray(ke),!ke||"object"==ke||"array"==ke||Te&&(0<=ke.indexOf("object")||0<=ke.indexOf("array"))?Se+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+$e+"[i], "+$e+"[j])) { "+Le+" = false; break outer; } } } ":(Se=(Se+=" var itemIndices = {}, item; for (;i--;) { var item = "+$e+"[i]; ")+" if ("+be.util["checkDataType"+(Te?"s":"")](ke,"item",be.opts.strictNumbers,!0)+") continue; ",Te&&(Se+=" if (typeof item == 'string') item = '\"' + item; "),Se+=" if (typeof itemIndices[item] == 'number') { "+Le+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),Se+=" } ",Ne&&(Se+="  }  "),(xe=xe||[]).push(Se+=" if (!"+Le+") {   "),Se="",!1!==be.createErrors?(Se+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ae)+" , params: { i: i, j: j } ",!1!==be.opts.messages&&(Se+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),be.opts.verbose&&(Se=(Se+=" , schema:  ")+(Ne?"validate.schema"+Re:""+Ee)+"         , parentSchema: validate.schema"+be.schemaPath+" , data: "+$e+" "),Se+=" } "):Se+=" {} ",ke=Se,Se=xe.pop(),!be.compositeRule&&_e?be.async?Se+=" throw new ValidationError(["+ke+"]); ":Se+=" validate.errors = ["+ke+"]; return false; ":Se+=" var err = "+ke+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Se+=" } ",_e&&(Se+=" else { ")):_e&&(Se+=" if (true) { "),Se}},1035:function(be){be.exports=function(be,Ae,we){var xe="",Se=!0===be.schema.$async,ke=be.util.schemaHasRulesExcept(be.schema,be.RULES.all,"$ref"),Te=be.self._getId(be.schema);if(be.opts.strictKeywords){var Ee=be.util.schemaUnknownRules(be.schema,be.RULES.keywords);if(Ee){Ee="unknown keyword: "+Ee;if("log"!==be.opts.strictKeywords)throw new Error(Ee);be.logger.warn(Ee)}}if(be.isTop&&(xe+=" var validate = ",Se&&(be.async=!0,xe+="async "),xe+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",Te)&&(be.opts.sourceCode||be.opts.processCode)&&(xe+=" /*# sourceURL="+Te+" */ "),"boolean"==typeof be.schema||!ke&&!be.schema.$ref)_e=be.level,$e=be.dataLevel,et=be.schema[Ae="false schema"],Ve=be.schemaPath+be.util.getProperty(Ae),Ze=be.errSchemaPath+"/"+Ae,Be=!be.opts.allErrors,Le="data"+($e||""),Me="valid"+_e,!1===be.schema?(be.isTop?Be=!0:xe+=" var "+Me+" = false; ",(ct=ct||[]).push(xe),xe="",!1!==be.createErrors?(xe+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ze)+" , params: {} ",!1!==be.opts.messages&&(xe+=" , message: 'boolean schema is false' "),be.opts.verbose&&(xe+=" , schema: false , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),xe+=" } "):xe+=" {} ",Je=xe,xe=ct.pop(),!be.compositeRule&&Be?be.async?xe+=" throw new ValidationError(["+Je+"]); ":xe+=" validate.errors = ["+Je+"]; return false; ":xe+=" var err = "+Je+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "):be.isTop?xe+=Se?" return data; ":" validate.errors = null; return true; ":xe+=" var "+Me+" = true; ",be.isTop&&(xe+=" }; return validate; ");else{if(be.isTop){var Re=be.isTop,_e=be.level=0,$e=be.dataLevel=0,Le="data";if(be.rootId=be.resolve.fullPath(be.self._getId(be.root.schema)),be.baseId=be.baseId||be.rootId,delete be.isTop,be.dataPathArr=[""],void 0!==be.schema.default&&be.opts.useDefaults&&be.opts.strictDefaults){var Ne="default is ignored in the schema root";if("log"!==be.opts.strictDefaults)throw new Error(Ne);be.logger.warn(Ne)}xe=(xe+=" var vErrors = null; ")+" var errors = 0;      if (rootData === undefined) rootData = data; "}else{_e=be.level,Le="data"+(($e=be.dataLevel)||"");if(Te&&(be.baseId=be.resolve.url(be.baseId,Te)),Se&&!be.async)throw new Error("async schema in sync schema");xe+=" var errs_"+_e+" = errors;"}var Me="valid"+_e,Be=!be.opts.allErrors,We="",Pe="",He=be.schema.type,Ge=Array.isArray(He);if(He&&be.opts.nullable&&!0===be.schema.nullable&&(Ge?-1==He.indexOf("null")&&(He=He.concat("null")):"null"!=He&&(He=[He,"null"],Ge=!0)),Ge&&1==He.length&&(He=He[0],Ge=!1),be.schema.$ref&&ke){if("fail"==be.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+be.errSchemaPath+'" (see option extendRefs)');!0!==be.opts.extendRefs&&(ke=!1,be.logger.warn('$ref: keywords ignored in schema at path "'+be.errSchemaPath+'"'))}if(be.schema.$comment&&be.opts.$comment&&(xe+=" "+be.RULES.all.$comment.code(be,"$comment")),He){be.opts.coerceTypes&&(Fe=be.util.coerceToTypes(be.opts.coerceTypes,He));var Fe,Oe=be.RULES.types[He];if(Fe||Ge||!0===Oe||Oe&&!z(Oe)){var Ve=be.schemaPath+".type",Ze=be.errSchemaPath+"/type";Ve=be.schemaPath+".type",Ze=be.errSchemaPath+"/type";if(xe+=" if ("+be.util[Ge?"checkDataTypes":"checkDataType"](He,Le,be.opts.strictNumbers,!0)+") { ",Fe){var De="dataType"+_e,je="coerced"+_e,Ke=(xe+=" var "+De+" = typeof "+Le+"; var "+je+" = undefined; ","array"==be.opts.coerceTypes&&(xe+=" if ("+De+" == 'object' && Array.isArray("+Le+") && "+Le+".length == 1) { "+Le+" = "+Le+"[0]; "+De+" = typeof "+Le+"; if ("+be.util.checkDataType(be.schema.type,Le,be.opts.strictNumbers)+") "+je+" = "+Le+"; } "),xe+=" if ("+je+" !== undefined) ; ",Fe);if(Ke)for(var ze,Xe=-1,Ye=Ke.length-1;Xe<Ye;)"string"==(ze=Ke[Xe+=1])?xe+=" else if ("+De+" == 'number' || "+De+" == 'boolean') "+je+" = '' + "+Le+"; else if ("+Le+" === null) "+je+" = ''; ":"number"==ze||"integer"==ze?(xe+=" else if ("+De+" == 'boolean' || "+Le+" === null || ("+De+" == 'string' && "+Le+" && "+Le+" == +"+Le+" ","integer"==ze&&(xe+=" && !("+Le+" % 1)"),xe+=")) "+je+" = +"+Le+"; "):"boolean"==ze?xe+=" else if ("+Le+" === 'false' || "+Le+" === 0 || "+Le+" === null) "+je+" = false; else if ("+Le+" === 'true' || "+Le+" === 1) "+je+" = true; ":"null"==ze?xe+=" else if ("+Le+" === '' || "+Le+" === 0 || "+Le+" === false) "+je+" = null; ":"array"==be.opts.coerceTypes&&"array"==ze&&(xe+=" else if ("+De+" == 'string' || "+De+" == 'number' || "+De+" == 'boolean' || "+Le+" == null) "+je+" = ["+Le+"]; ");(ct=ct||[]).push(xe+=" else {   "),xe="",!1!==be.createErrors?(xe=(xe+=" { keyword: 'type' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ze)+" , params: { type: '")+(Ge?""+He.join(","):""+He)+"' } ",!1!==be.opts.messages&&(xe=(xe+=" , message: 'should be ")+(Ge?""+He.join(","):""+He)+"' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ve+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),xe+=" } "):xe+=" {} ";var Je=xe;Ee=(xe=ct.pop(),!be.compositeRule&&Be?be.async?xe+=" throw new ValidationError(["+Je+"]); ":xe+=" validate.errors = ["+Je+"]; return false; ":xe+=" var err = "+Je+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$e?"data"+($e-1||""):"parentData");xe=xe+" } if ("+je+" !== undefined) {   "+Le+" = "+je+"; ",$e||(xe+="if ("+Ee+" !== undefined)"),xe+=" "+Ee+"["+($e?be.dataPathArr[$e]:"parentDataProperty")+"] = "+je+"; } "}else{Je=((ct=ct||[]).push(xe),xe="",!1!==be.createErrors?(xe=(xe+=" { keyword: 'type' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ze)+" , params: { type: '")+(Ge?""+He.join(","):""+He)+"' } ",!1!==be.opts.messages&&(xe=(xe+=" , message: 'should be ")+(Ge?""+He.join(","):""+He)+"' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ve+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),xe+=" } "):xe+=" {} ",xe);xe=ct.pop(),!be.compositeRule&&Be?be.async?xe+=" throw new ValidationError(["+Je+"]); ":xe+=" validate.errors = ["+Je+"]; return false; ":xe+=" var err = "+Je+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}xe+=" } "}}if(be.schema.$ref&&!ke)xe+=" "+be.RULES.all.$ref.code(be,"$ref")+" ",Be&&(xe=(xe+=" } if (errors === ")+(Re?"0":"errs_"+_e)+") { ",Pe+="}");else{var Ue=be.RULES;if(Ue)for(var Qe=-1,qe=Ue.length-1;Qe<qe;)if(z(Oe=Ue[Qe+=1])){if(Oe.type&&(xe+=" if ("+be.util.checkDataType(Oe.type,Le,be.opts.strictNumbers)+") { "),be.opts.useDefaults)if("object"==Oe.type&&be.schema.properties){var et=be.schema.properties,tt=Object.keys(et);if(tt)for(var nt,it=-1,ot=tt.length-1;it<ot;)if(void 0!==(at=et[nt=tt[it+=1]]).default){var rt=Le+be.util.getProperty(nt);if(be.compositeRule){if(be.opts.strictDefaults){Ne="default is ignored for: "+rt;if("log"!==be.opts.strictDefaults)throw new Error(Ne);be.logger.warn(Ne)}}else xe+=" if ("+rt+" === undefined ","empty"==be.opts.useDefaults&&(xe+=" || "+rt+" === null || "+rt+" === '' "),xe+=" ) "+rt+" = ","shared"==be.opts.useDefaults?xe+=" "+be.useDefault(at.default)+" ":xe+=" "+JSON.stringify(at.default)+" ",xe+="; "}}else if("array"==Oe.type&&Array.isArray(be.schema.items)){var st=be.schema.items;if(st){Xe=-1;for(var at,lt=st.length-1;Xe<lt;)if(void 0!==(at=st[Xe+=1]).default){rt=Le+"["+Xe+"]";if(be.compositeRule){if(be.opts.strictDefaults){Ne="default is ignored for: "+rt;if("log"!==be.opts.strictDefaults)throw new Error(Ne);be.logger.warn(Ne)}}else xe+=" if ("+rt+" === undefined ","empty"==be.opts.useDefaults&&(xe+=" || "+rt+" === null || "+rt+" === '' "),xe+=" ) "+rt+" = ","shared"==be.opts.useDefaults?xe+=" "+be.useDefault(at.default)+" ":xe+=" "+JSON.stringify(at.default)+" ",xe+="; "}}}var ct,ht=Oe.rules;if(ht)for(var dt,ut=-1,gt=ht.length-1;ut<gt;)X(dt=ht[ut+=1])&&(dt=dt.code(be,dt.keyword,Oe.type))&&(xe+=" "+dt+" ",Be)&&(We+="}");Be&&(xe+=" "+We+" ",We=""),Oe.type&&(xe+=" } ",He)&&He===Oe.type&&!Fe&&(xe+=" else { ",Ve=be.schemaPath+".type",Ze=be.errSchemaPath+"/type",(ct=ct||[]).push(xe),xe="",!1!==be.createErrors?(xe=(xe+=" { keyword: 'type' , dataPath: (dataPath || '') + "+be.errorPath+" , schemaPath: "+be.util.toQuotedString(Ze)+" , params: { type: '")+(Ge?""+He.join(","):""+He)+"' } ",!1!==be.opts.messages&&(xe=(xe+=" , message: 'should be ")+(Ge?""+He.join(","):""+He)+"' "),be.opts.verbose&&(xe+=" , schema: validate.schema"+Ve+" , parentSchema: validate.schema"+be.schemaPath+" , data: "+Le+" "),xe+=" } "):xe+=" {} ",Je=xe,xe=ct.pop(),!be.compositeRule&&Be?be.async?xe+=" throw new ValidationError(["+Je+"]); ":xe+=" validate.errors = ["+Je+"]; return false; ":xe+=" var err = "+Je+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",xe+=" } "),Be&&(xe=(xe+=" if (errors === ")+(Re?"0":"errs_"+_e)+") { ",Pe+="}")}}Be&&(xe+=" "+Pe+" "),Re?xe=xe+(Se?" if (errors === 0) return data;            else throw new ValidationError(vErrors); ":" validate.errors = vErrors;  return errors === 0;       ")+" }; return validate;":xe+=" var "+Me+" = errors === errs_"+_e+";"}return xe;function z(be){for(var Ae=be.rules,we=0;we<Ae.length;we++)if(X(Ae[we]))return 1}function X(Ae){return void 0!==be.schema[Ae.keyword]||Ae.implements&&function(Ae){for(var we=Ae.implements,xe=0;xe<we.length;xe++)if(void 0!==be.schema[we[xe]])return 1}(Ae)}}},413:function(Ae,we,xe){var Se=/^[a-z_$][a-z0-9_$-]*$/i,ke=xe(8050),Te=xe(9407);function o(Ae,we){o.errors=null;var xe=(this||be)._validateKeyword=(this||be)._validateKeyword||this.compile(Te,!0);if(xe(Ae))return!0;if(o.errors=xe.errors,we)throw new Error("custom keyword definition is invalid: "+this.errorsText(xe.errors));return!1}Ae.exports={add:function(Ae,we){var xe=(this||be).RULES;if(xe.keywords[Ae])throw new Error("Keyword "+Ae+" is already defined");if(!Se.test(Ae))throw new Error("Keyword "+Ae+" is not a valid identifier");if(we){this.validateKeyword(we,!0);var Te=we.type;if(Array.isArray(Te))for(var Ee=0;Ee<Te.length;Ee++)r(Ae,Te[Ee],we);else r(Ae,Te,we);var Re=we.metaSchema;Re&&(we.$data&&(this||be)._opts.$data&&(Re={anyOf:[Re,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),we.validateSchema=this.compile(Re,!0))}function r(be,Ae,we){for(var Se,Te=0;Te<xe.length;Te++){var Ee=xe[Te];if(Ee.type==Ae){Se=Ee;break}}Se||xe.push(Se={type:Ae,rules:[]});we={keyword:be,definition:we,custom:!0,code:ke,implements:we.implements};Se.rules.push(we),xe.custom[be]=we}return xe.keywords[Ae]=xe.all[Ae]=!0,this||be},get:function(Ae){var we=(this||be).RULES.custom[Ae];return we?we.definition:(this||be).RULES.keywords[Ae]||!1},remove:function(Ae){var we=(this||be).RULES;delete we.keywords[Ae],delete we.all[Ae],delete we.custom[Ae];for(var xe=0;xe<we.length;xe++)for(var Se=we[xe].rules,ke=0;ke<Se.length;ke++)if(Se[ke].keyword==Ae){Se.splice(ke,1);break}return this||be},validate:o}},5215:function(be){be.exports=function e(be,Ae){if(be===Ae)return!0;if(be&&Ae&&"object"==typeof be&&"object"==typeof Ae){if(be.constructor!==Ae.constructor)return!1;var we,xe,Se;if(Array.isArray(be)){if((we=be.length)!=Ae.length)return!1;for(xe=we;0!=xe--;)if(!e(be[xe],Ae[xe]))return!1}else{if(be.constructor===RegExp)return be.source===Ae.source&&be.flags===Ae.flags;if(be.valueOf!==Object.prototype.valueOf)return be.valueOf()===Ae.valueOf();if(be.toString!==Object.prototype.toString)return be.toString()===Ae.toString();if((we=(Se=Object.keys(be)).length)!==Object.keys(Ae).length)return!1;for(xe=we;0!=xe--;)if(!Object.prototype.hasOwnProperty.call(Ae,Se[xe]))return!1;for(xe=we;0!=xe--;){var ke=Se[xe];if(!e(be[ke],Ae[ke]))return!1}}return!0}return be!=be&&Ae!=Ae}},9306:function(be){be.exports=function(be,Ae){var we,xe="boolean"==typeof(Ae="function"==typeof(Ae=Ae||{})?{cmp:Ae}:Ae).cycles&&Ae.cycles,Se=Ae.cmp&&(we=Ae.cmp,function(be){return function(Ae,xe){Ae={key:Ae,value:be[Ae]},xe={key:xe,value:be[xe]};return we(Ae,xe)}}),ke=[];return function e(be){if(void 0!==(be=be&&be.toJSON&&"function"==typeof be.toJSON?be.toJSON():be)){if("number"==typeof be)return isFinite(be)?""+be:"null";if("object"!=typeof be)return JSON.stringify(be);if(Array.isArray(be)){for(Te="[",Ee=0;Ee<be.length;Ee++)Ee&&(Te+=","),Te+=e(be[Ee])||"null";return Te+"]"}if(null===be)return"null";if(-1!==ke.indexOf(be)){if(xe)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(var Ae=ke.push(be)-1,we=Object.keys(be).sort(Se&&Se(be)),Te="",Ee=0;Ee<we.length;Ee++){var Re=we[Ee],_e=e(be[Re]);_e&&(Te&&(Te+=","),Te+=JSON.stringify(Re)+":"+_e)}return ke.splice(Ae,1),"{"+Te+"}"}}(be)}},1342:function(be){be.exports=function t(be,Ae){function i(be){return t.insensitive&&(""+be).toLowerCase()||""+be}var we,xe,Se=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,ke=/(^[ ]*|[ ]*$)/g,Te=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,Ee=/^0x[0-9a-f]+$/i,Re=/^0/,_e=(be=i(be).replace(ke,"")||"",Ae=i(Ae).replace(ke,"")||"",be.replace(Se,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0")),$e=Ae.replace(Se,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0");ke=parseInt(be.match(Ee),16)||1!==_e.length&&be.match(Te)&&Date.parse(be),Se=parseInt(Ae.match(Ee),16)||ke&&Ae.match(Te)&&Date.parse(Ae)||null;if(Se){if(ke<Se)return-1;if(Se<ke)return 1}for(var Le=0,Ne=Math.max(_e.length,$e.length);Le<Ne;Le++){if(we=!(_e[Le]||"").match(Re)&&parseFloat(_e[Le])||_e[Le]||0,xe=!($e[Le]||"").match(Re)&&parseFloat($e[Le])||$e[Le]||0,isNaN(we)!==isNaN(xe))return isNaN(we)?1:-1;if(typeof we!=typeof xe&&(we+="",xe+=""),we<xe)return-1;if(xe<we)return 1}return 0}},9151:function(Ae,we){!function(Ae){function w(be){return null!==be&&"[object Array]"===Object.prototype.toString.call(be)}function S(be){return null!==be&&"[object Object]"===Object.prototype.toString.call(be)}function x(be,Ae){if(be!==Ae){if(Object.prototype.toString.call(be)!==Object.prototype.toString.call(Ae))return!1;if(!0===w(be)){if(be.length!==Ae.length)return!1;for(var we=0;we<be.length;we++)if(!1===x(be[we],Ae[we]))return!1}else{if(!0!==S(be))return!1;var xe,Se,ke={};for(xe in be)if(hasOwnProperty.call(be,xe)){if(!1===x(be[xe],Ae[xe]))return!1;ke[xe]=!0}for(Se in Ae)if(hasOwnProperty.call(Ae,Se)&&!0!==ke[Se])return!1}}return!0}function k(be){if(""===be||!1===be||null===be)return!0;if(w(be)&&0===be.length)return!0;if(S(be)){for(var Ae in be)if(be.hasOwnProperty(Ae))return!1;return!0}return!1}var we="function"==typeof String.prototype.trimLeft?function(be){return be.trimLeft()}:function(be){return be.match(/^\s*(.*)/)[1]},xe={0:"number",1:"any",2:"string",3:"array",4:"object",5:"boolean",6:"expression",7:"null",8:"Array<number>",9:"Array<string>"},Se="UnquotedIdentifier",ke="QuotedIdentifier",Te="Rbracket",Ee="Rparen",Re="Comma",_e="Colon",$e="Rbrace",Le="Number",Ne="Current",Me="Expref",Be="Pipe",We="Flatten",Pe="Star",He="Filter",Ge="Lbrace",Fe="Lbracket",Oe="Lparen",Ve="Literal",Ze={".":"Dot","*":Pe,",":Re,":":_e,"{":Ge,"}":$e,"]":Te,"(":Oe,")":Ee,"@":Ne},De={"<":!0,">":!0,"=":!0,"!":!0},je={" ":!0,"\t":!0,"\n":!0};function _(be){return"0"<=be&&be<="9"||"-"===be}function n(){}n.prototype={tokenize:function(Ae){var we,xe,Te=[];for((this||be)._current=0;(this||be)._current<Ae.length;)if("a"<=(Re=Ae[(this||be)._current])&&Re<="z"||"A"<=Re&&Re<="Z"||"_"===Re)Ee=(this||be)._current,we=this._consumeUnquotedIdentifier(Ae),Te.push({type:Se,value:we,start:Ee});else if(void 0!==Ze[Ae[(this||be)._current]])Te.push({type:Ze[Ae[(this||be)._current]],value:Ae[(this||be)._current],start:(this||be)._current}),(this||be)._current++;else if(_(Ae[(this||be)._current]))xe=this._consumeNumber(Ae),Te.push(xe);else if("["===Ae[(this||be)._current])xe=this._consumeLBracket(Ae),Te.push(xe);else if('"'===Ae[(this||be)._current])Ee=(this||be)._current,we=this._consumeQuotedIdentifier(Ae),Te.push({type:ke,value:we,start:Ee});else if("'"===Ae[(this||be)._current])Ee=(this||be)._current,we=this._consumeRawStringLiteral(Ae),Te.push({type:Ve,value:we,start:Ee});else if("`"===Ae[(this||be)._current]){var Ee=(this||be)._current,Re=this._consumeLiteral(Ae);Te.push({type:Ve,value:Re,start:Ee})}else if(void 0!==De[Ae[(this||be)._current]])Te.push(this._consumeOperator(Ae));else if(void 0!==je[Ae[(this||be)._current]])(this||be)._current++;else if("&"===Ae[(this||be)._current])Ee=(this||be)._current,(this||be)._current++,"&"===Ae[(this||be)._current]?((this||be)._current++,Te.push({type:"And",value:"&&",start:Ee})):Te.push({type:Me,value:"&",start:Ee});else{if("|"!==Ae[(this||be)._current])throw(Re=new Error("Unknown character:"+Ae[(this||be)._current])).name="LexerError",Re;Ee=(this||be)._current,(this||be)._current++,"|"===Ae[(this||be)._current]?((this||be)._current++,Te.push({type:"Or",value:"||",start:Ee})):Te.push({type:Be,value:"|",start:Ee})}return Te},_consumeUnquotedIdentifier:function(Ae){var we,xe=(this||be)._current;for((this||be)._current++;(this||be)._current<Ae.length&&("a"<=(we=Ae[(this||be)._current])&&we<="z"||"A"<=we&&we<="Z"||"0"<=we&&we<="9"||"_"===we);)(this||be)._current++;return Ae.slice(xe,(this||be)._current)},_consumeQuotedIdentifier:function(Ae){for(var we=(this||be)._current,xe=((this||be)._current++,Ae.length);'"'!==Ae[(this||be)._current]&&(this||be)._current<xe;){var Se=(this||be)._current;"\\"!==Ae[Se]||"\\"!==Ae[Se+1]&&'"'!==Ae[Se+1]?Se++:Se+=2,(this||be)._current=Se}return(this||be)._current++,JSON.parse(Ae.slice(we,(this||be)._current))},_consumeRawStringLiteral:function(Ae){for(var we=(this||be)._current,xe=((this||be)._current++,Ae.length);"'"!==Ae[(this||be)._current]&&(this||be)._current<xe;){var Se=(this||be)._current;"\\"!==Ae[Se]||"\\"!==Ae[Se+1]&&"'"!==Ae[Se+1]?Se++:Se+=2,(this||be)._current=Se}return(this||be)._current++,Ae.slice(we+1,(this||be)._current-1).replace("\\'","'")},_consumeNumber:function(Ae){for(var we=(this||be)._current,xe=((this||be)._current++,Ae.length);_(Ae[(this||be)._current])&&(this||be)._current<xe;)(this||be)._current++;var Se=parseInt(Ae.slice(we,(this||be)._current));return{type:Le,value:Se,start:we}},_consumeLBracket:function(Ae){var we=(this||be)._current;return(this||be)._current++,"?"===Ae[(this||be)._current]?((this||be)._current++,{type:He,value:"[?",start:we}):"]"===Ae[(this||be)._current]?((this||be)._current++,{type:We,value:"[]",start:we}):{type:Fe,value:"[",start:we}},_consumeOperator:function(Ae){var we=(this||be)._current,xe=Ae[we];return(this||be)._current++,"!"===xe?"="===Ae[(this||be)._current]?((this||be)._current++,{type:"NE",value:"!=",start:we}):{type:"Not",value:"!",start:we}:"<"===xe?"="===Ae[(this||be)._current]?((this||be)._current++,{type:"LTE",value:"<=",start:we}):{type:"LT",value:"<",start:we}:">"===xe?"="===Ae[(this||be)._current]?((this||be)._current++,{type:"GTE",value:">=",start:we}):{type:"GT",value:">",start:we}:"="===xe&&"="===Ae[(this||be)._current]?((this||be)._current++,{type:"EQ",value:"==",start:we}):void 0},_consumeLiteral:function(Ae){(this||be)._current++;for(var xe=(this||be)._current,Se=Ae.length;"`"!==Ae[(this||be)._current]&&(this||be)._current<Se;){var ke=(this||be)._current;"\\"!==Ae[ke]||"\\"!==Ae[ke+1]&&"`"!==Ae[ke+1]?ke++:ke+=2,(this||be)._current=ke}xe=(xe=we(Ae.slice(xe,(this||be)._current))).replace("\\`","`"),xe=this._looksLikeJSON(xe)?JSON.parse(xe):JSON.parse('"'+xe+'"');return(this||be)._current++,xe},_looksLikeJSON:function(be){if(""===be)return!1;if(0<='[{"'.indexOf(be[0]))return!0;if(0<=["true","false","null"].indexOf(be))return!0;if(!(0<="-0123456789".indexOf(be[0])))return!1;try{return JSON.parse(be),!0}catch(be){return!1}}};var Ke={};function N(){}function M(Ae){(this||be).runtime=Ae}function B(Ae){(this||be)._interpreter=Ae,(this||be).functionTable={abs:{_func:(this||be)._functionAbs,_signature:[{types:[0]}]},avg:{_func:(this||be)._functionAvg,_signature:[{types:[8]}]},ceil:{_func:(this||be)._functionCeil,_signature:[{types:[0]}]},contains:{_func:(this||be)._functionContains,_signature:[{types:[2,3]},{types:[1]}]},ends_with:{_func:(this||be)._functionEndsWith,_signature:[{types:[2]},{types:[2]}]},floor:{_func:(this||be)._functionFloor,_signature:[{types:[0]}]},length:{_func:(this||be)._functionLength,_signature:[{types:[2,3,4]}]},map:{_func:(this||be)._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:(this||be)._functionMax,_signature:[{types:[8,9]}]},merge:{_func:(this||be)._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:(this||be)._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:(this||be)._functionSum,_signature:[{types:[8]}]},starts_with:{_func:(this||be)._functionStartsWith,_signature:[{types:[2]},{types:[2]}]},min:{_func:(this||be)._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:(this||be)._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:(this||be)._functionType,_signature:[{types:[1]}]},keys:{_func:(this||be)._functionKeys,_signature:[{types:[4]}]},values:{_func:(this||be)._functionValues,_signature:[{types:[4]}]},sort:{_func:(this||be)._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:(this||be)._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:(this||be)._functionJoin,_signature:[{types:[2]},{types:[9]}]},reverse:{_func:(this||be)._functionReverse,_signature:[{types:[2,3]}]},to_array:{_func:(this||be)._functionToArray,_signature:[{types:[1]}]},to_string:{_func:(this||be)._functionToString,_signature:[{types:[1]}]},to_number:{_func:(this||be)._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:(this||be)._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}Ke.EOF=0,Ke[Se]=0,Ke[ke]=0,Ke[Te]=0,Ke[Ee]=0,Ke[Re]=0,Ke[$e]=0,Ke[Le]=0,Ke[Ne]=0,Ke[Me]=0,Ke.Pipe=1,Ke.Or=2,Ke.And=3,Ke.EQ=5,Ke.GT=5,Ke.LT=5,Ke.GTE=5,Ke.LTE=5,Ke.NE=5,Ke[We]=9,Ke.Star=20,Ke[He]=21,Ke.Dot=40,Ke.Not=45,Ke[Ge]=50,Ke[Fe]=55,Ke[Oe]=60,N.prototype={parse:function(Ae){this._loadTokens(Ae),(this||be).index=0;var we;Ae=this.expression(0);if("EOF"!==this._lookahead(0))throw we=this._lookaheadToken(0),(we=new Error("Unexpected token type: "+we.type+", value: "+we.value)).name="ParserError",we;return Ae},_loadTokens:function(Ae){var we=(new n).tokenize(Ae);we.push({type:"EOF",value:"",start:Ae.length}),(this||be).tokens=we},expression:function(be){for(var Ae=this._lookaheadToken(0),we=(this._advance(),this.nud(Ae)),xe=this._lookahead(0);be<Ke[xe];)this._advance(),we=this.led(xe,we),xe=this._lookahead(0);return we},_lookahead:function(Ae){return(this||be).tokens[(this||be).index+Ae].type},_lookaheadToken:function(Ae){return(this||be).tokens[(this||be).index+Ae]},_advance:function(){(this||be).index++},nud:function(be){var Ae,we;switch(be.type){case Ve:return{type:"Literal",value:be.value};case Se:return{type:"Field",name:be.value};case ke:var xe={type:"Field",name:be.value};if(this._lookahead(0)===Oe)throw new Error("Quoted identifier not allowed for function names.");return xe;case"Not":return{type:"NotExpression",children:[Ae=this.expression(Ke.Not)]};case Pe:return Ae=null,{type:"ValueProjection",children:[{type:"Identity"},Ae=this._lookahead(0)===Te?{type:"Identity"}:this._parseProjectionRHS(Ke.Star)]};case He:return this.led(be.type,{type:"Identity"});case Ge:return this._parseMultiselectHash();case We:return{type:"Projection",children:[{type:We,children:[{type:"Identity"}]},Ae=this._parseProjectionRHS(Ke.Flatten)]};case Fe:return this._lookahead(0)===Le||this._lookahead(0)===_e?(Ae=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},Ae)):this._lookahead(0)===Pe&&this._lookahead(1)===Te?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},Ae=this._parseProjectionRHS(Ke.Star)]}):this._parseMultiselectList();case Ne:return{type:Ne};case Me:return{type:"ExpressionReference",children:[we=this.expression(Ke.Expref)]};case Oe:for(var Re=[];this._lookahead(0)!==Ee;)this._lookahead(0)===Ne?(we={type:Ne},this._advance()):we=this.expression(0),Re.push(we);return this._match(Ee),Re[0];default:this._errorToken(be)}},led:function(be,Ae){var we;switch(be){case"Dot":var xe=Ke.Dot;return this._lookahead(0)!==Pe?{type:"Subexpression",children:[Ae,we=this._parseDotRHS(xe)]}:(this._advance(),{type:"ValueProjection",children:[Ae,we=this._parseProjectionRHS(xe)]});case Be:return we=this.expression(Ke.Pipe),{type:Be,children:[Ae,we]};case"Or":return{type:"OrExpression",children:[Ae,we=this.expression(Ke.Or)]};case"And":return{type:"AndExpression",children:[Ae,we=this.expression(Ke.And)]};case Oe:xe=Ae.name;for(var Se,ke=[];this._lookahead(0)!==Ee;)this._lookahead(0)===Ne?(Se={type:Ne},this._advance()):Se=this.expression(0),this._lookahead(0)===Re&&this._match(Re),ke.push(Se);return this._match(Ee),{type:"Function",name:xe,children:ke};case He:xe=this.expression(0);return this._match(Te),{type:"FilterProjection",children:[Ae,we=this._lookahead(0)===We?{type:"Identity"}:this._parseProjectionRHS(Ke.Filter),xe]};case We:return{type:"Projection",children:[{type:We,children:[Ae]},this._parseProjectionRHS(Ke.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(Ae,be);case Fe:xe=this._lookaheadToken(0);return xe.type===Le||xe.type===_e?(we=this._parseIndexExpression(),this._projectIfSlice(Ae,we)):(this._match(Pe),this._match(Te),{type:"Projection",children:[Ae,we=this._parseProjectionRHS(Ke.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(be){var Ae;if(this._lookahead(0)!==be)throw Ae=this._lookaheadToken(0),(be=new Error("Expected "+be+", got: "+Ae.type)).name="ParserError",be;this._advance()},_errorToken:function(be){be=new Error("Invalid token ("+be.type+'): "'+be.value+'"');throw be.name="ParserError",be},_parseIndexExpression:function(){var be;return this._lookahead(0)===_e||this._lookahead(1)===_e?this._parseSliceExpression():(be={type:"Index",value:this._lookaheadToken(0).value},this._advance(),this._match(Te),be)},_projectIfSlice:function(be,Ae){be={type:"IndexExpression",children:[be,Ae]};return"Slice"===Ae.type?{type:"Projection",children:[be,this._parseProjectionRHS(Ke.Star)]}:be},_parseSliceExpression:function(){for(var be,Ae=[null,null,null],we=0,xe=this._lookahead(0);xe!==Te&&we<3;){if(xe===_e)we++;else{if(xe!==Le)throw be=this._lookahead(0),(be=new Error("Syntax error, unexpected token: "+be.value+"("+be.type+")")).name="Parsererror",be;Ae[we]=this._lookaheadToken(0).value}this._advance(),xe=this._lookahead(0)}return this._match(Te),{type:"Slice",children:Ae}},_parseComparator:function(be,Ae){return{type:"Comparator",name:Ae,children:[be,this.expression(Ke[Ae])]}},_parseDotRHS:function(be){var Ae=this._lookahead(0);return 0<=[Se,ke,Pe].indexOf(Ae)?this.expression(be):Ae===Fe?(this._match(Fe),this._parseMultiselectList()):Ae===Ge?(this._match(Ge),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(be){var Ae,we;if(Ke[this._lookahead(0)]<10)Ae={type:"Identity"};else if(this._lookahead(0)===Fe)Ae=this.expression(be);else if(this._lookahead(0)===He)Ae=this.expression(be);else{if("Dot"!==this._lookahead(0))throw we=this._lookaheadToken(0),(we=new Error("Sytanx error, unexpected token: "+we.value+"("+we.type+")")).name="ParserError",we;this._match("Dot"),Ae=this._parseDotRHS(be)}return Ae},_parseMultiselectList:function(){for(var be=[];this._lookahead(0)!==Te;){var Ae=this.expression(0);if(be.push(Ae),this._lookahead(0)===Re&&(this._match(Re),this._lookahead(0)===Te))throw new Error("Unexpected token Rbracket")}return this._match(Te),{type:"MultiSelectList",children:be}},_parseMultiselectHash:function(){for(var be,Ae,we=[],xe=[Se,ke];;){if(be=this._lookaheadToken(0),xe.indexOf(be.type)<0)throw new Error("Expecting an identifier token, got: "+be.type);if(be=be.value,this._advance(),this._match(_e),Ae=this.expression(0),we.push({type:"KeyValuePair",name:be,value:Ae}),this._lookahead(0)===Re)this._match(Re);else if(this._lookahead(0)===$e){this._match($e);break}}return{type:"MultiSelectHash",children:we}}},M.prototype={search:function(be,Ae){return this.visit(be,Ae)},visit:function(Ae,we){var xe,Se,ke,Te,Ee,Re;switch(Ae.type){case"Field":return null!==we&&S(we)?void 0===(_e=we[Ae.name])?null:_e:null;case"Subexpression":for(He=this.visit(Ae.children[0],we),Ve=1;Ve<Ae.children.length;Ve++)if(null===(He=this.visit(Ae.children[1],He)))return null;return He;case"IndexExpression":return Ee=this.visit(Ae.children[0],we),this.visit(Ae.children[1],Ee);case"Index":return w(we)?void 0===(He=we[_e=(_e=Ae.value)<0?we.length+_e:_e])?null:He:null;case"Slice":if(!w(we))return null;var _e=Ae.children.slice(0),$e=(_e=this.computeSliceParams(we.length,_e),_e[0]),Le=_e[1],Pe=_e[2],He=[];if(0<Pe)for(Ve=$e;Ve<Le;Ve+=Pe)He.push(we[Ve]);else for(Ve=$e;Le<Ve;Ve+=Pe)He.push(we[Ve]);return He;case"Projection":var Ge=this.visit(Ae.children[0],we);if(!w(Ge))return null;for(Fe=[],Ve=0;Ve<Ge.length;Ve++)null!==(Se=this.visit(Ae.children[1],Ge[Ve]))&&Fe.push(Se);return Fe;case"ValueProjection":if(!S(Ge=this.visit(Ae.children[0],we)))return null;for(var Fe=[],Oe=function(be){for(var Ae=Object.keys(be),we=[],xe=0;xe<Ae.length;xe++)we.push(be[Ae[xe]]);return we}(Ge),Ve=0;Ve<Oe.length;Ve++)null!==(Se=this.visit(Ae.children[1],Oe[Ve]))&&Fe.push(Se);return Fe;case"FilterProjection":if(!w(Ge=this.visit(Ae.children[0],we)))return null;var Ze=[],De=[];for(Ve=0;Ve<Ge.length;Ve++)k(xe=this.visit(Ae.children[2],Ge[Ve]))||Ze.push(Ge[Ve]);for(var je=0;je<Ze.length;je++)null!==(Se=this.visit(Ae.children[1],Ze[je]))&&De.push(Se);return De;case"Comparator":switch(ke=this.visit(Ae.children[0],we),Te=this.visit(Ae.children[1],we),Ae.name){case"EQ":He=x(ke,Te);break;case"NE":He=!x(ke,Te);break;case"GT":He=Te<ke;break;case"GTE":He=Te<=ke;break;case"LT":He=ke<Te;break;case"LTE":He=ke<=Te;break;default:throw new Error("Unknown comparator: "+Ae.name)}return He;case We:var Ke=this.visit(Ae.children[0],we);if(!w(Ke))return null;var ze=[];for(Ve=0;Ve<Ke.length;Ve++)w(Se=Ke[Ve])?ze.push.apply(ze,Se):ze.push(Se);return ze;case"Identity":return we;case"MultiSelectList":if(null===we)return null;for(Fe=[],Ve=0;Ve<Ae.children.length;Ve++)Fe.push(this.visit(Ae.children[Ve],we));return Fe;case"MultiSelectHash":if(null===we)return null;for(Fe={},Ve=0;Ve<Ae.children.length;Ve++)Fe[(Re=Ae.children[Ve]).name]=this.visit(Re.value,we);return Fe;case"OrExpression":return k(xe=this.visit(Ae.children[0],we))?this.visit(Ae.children[1],we):xe;case"AndExpression":return!0===k(ke=this.visit(Ae.children[0],we))?ke:this.visit(Ae.children[1],we);case"NotExpression":return k(ke=this.visit(Ae.children[0],we));case"Literal":return Ae.value;case Be:return Ee=this.visit(Ae.children[0],we),this.visit(Ae.children[1],Ee);case Ne:return we;case"Function":var Xe=[];for(Ve=0;Ve<Ae.children.length;Ve++)Xe.push(this.visit(Ae.children[Ve],we));return(this||be).runtime.callFunction(Ae.name,Xe);case"ExpressionReference":_e=Ae.children[0];return _e.jmespathType=Me,_e;default:throw new Error("Unknown node type: "+Ae.type)}},computeSliceParams:function(be,Ae){var we=Ae[0],xe=Ae[1],Se=(Ae=Ae[2],[null,null,null]);if(null===Ae)Ae=1;else if(0===Ae)throw(ke=new Error("Invalid slice, step cannot be 0")).name="RuntimeError",ke;var ke=Ae<0;we=null===we?ke?be-1:0:this.capSliceRange(be,we,Ae),xe=null===xe?ke?-1:be:this.capSliceRange(be,xe,Ae);return Se[0]=we,Se[1]=xe,Se[2]=Ae,Se},capSliceRange:function(be,Ae,we){return Ae<0?(Ae+=be)<0&&(Ae=we<0?-1:0):be<=Ae&&(Ae=we<0?be-1:be),Ae}},B.prototype={callFunction:function(Ae,we){var xe=(this||be).functionTable[Ae];if(void 0===xe)throw new Error("Unknown function: "+Ae+"()");return this._validateArgs(Ae,we,xe._signature),xe._func.call(this||be,we)},_validateArgs:function(be,Ae,we){var Se;if(we[we.length-1].variadic){if(Ae.length<we.length)throw Se=1===we.length?" argument":" arguments",new Error("ArgumentError: "+be+"() takes at least"+we.length+Se+" but received "+Ae.length)}else if(Ae.length!==we.length)throw Se=1===we.length?" argument":" arguments",new Error("ArgumentError: "+be+"() takes "+we.length+Se+" but received "+Ae.length);for(var ke=0;ke<we.length;ke++){for(var Te,Ee=!1,Re=we[ke].types,_e=this._getTypeName(Ae[ke]),$e=0;$e<Re.length;$e++)if(this._typeMatches(_e,Re[$e],Ae[ke])){Ee=!0;break}if(!Ee)throw Te=Re.map((function(be){return xe[be]})).join(","),new Error("TypeError: "+be+"() expected argument "+(ke+1)+" to be type "+Te+" but received type "+xe[_e]+" instead.")}},_typeMatches:function(be,Ae,we){if(1===Ae)return!0;if(9!==Ae&&8!==Ae&&3!==Ae)return be===Ae;if(3===Ae)return 3===be;if(3===be){var xe;8===Ae?xe=0:9===Ae&&(xe=2);for(var Se=0;Se<we.length;Se++)if(!this._typeMatches(this._getTypeName(we[Se]),xe,we[Se]))return!1;return!0}},_getTypeName:function(be){switch(Object.prototype.toString.call(be)){case"[object String]":return 2;case"[object Number]":return 0;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return be.jmespathType===Me?6:4}},_functionStartsWith:function(be){return 0===be[0].lastIndexOf(be[1])},_functionEndsWith:function(be){var Ae=be[0];be=be[1];return-1!==Ae.indexOf(be,Ae.length-be.length)},_functionReverse:function(be){var Ae;if(2!==this._getTypeName(be[0]))return(Ae=be[0].slice(0)).reverse(),Ae;for(var we=be[0],xe="",Se=we.length-1;0<=Se;Se--)xe+=we[Se];return xe},_functionAbs:function(be){return Math.abs(be[0])},_functionCeil:function(be){return Math.ceil(be[0])},_functionAvg:function(be){for(var Ae=0,we=be[0],xe=0;xe<we.length;xe++)Ae+=we[xe];return Ae/we.length},_functionContains:function(be){return 0<=be[0].indexOf(be[1])},_functionFloor:function(be){return Math.floor(be[0])},_functionLength:function(be){return(S(be[0])?Object.keys(be[0]):be[0]).length},_functionMap:function(Ae){for(var we=[],xe=(this||be)._interpreter,Se=Ae[0],ke=Ae[1],Te=0;Te<ke.length;Te++)we.push(xe.visit(Se,ke[Te]));return we},_functionMerge:function(be){for(var Ae={},we=0;we<be.length;we++){var xe,Se=be[we];for(xe in Se)Ae[xe]=Se[xe]}return Ae},_functionMax:function(be){if(0<be[0].length){if(0===this._getTypeName(be[0][0]))return Math.max.apply(Math,be[0]);for(var Ae=be[0],we=Ae[0],xe=1;xe<Ae.length;xe++)we.localeCompare(Ae[xe])<0&&(we=Ae[xe]);return we}return null},_functionMin:function(be){if(0<be[0].length){if(0===this._getTypeName(be[0][0]))return Math.min.apply(Math,be[0]);for(var Ae=be[0],we=Ae[0],xe=1;xe<Ae.length;xe++)Ae[xe].localeCompare(we)<0&&(we=Ae[xe]);return we}return null},_functionSum:function(be){for(var Ae=0,we=be[0],xe=0;xe<we.length;xe++)Ae+=we[xe];return Ae},_functionType:function(be){switch(this._getTypeName(be[0])){case 0:return"number";case 2:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(be){return Object.keys(be[0])},_functionValues:function(be){for(var Ae=be[0],we=Object.keys(Ae),xe=[],Se=0;Se<we.length;Se++)xe.push(Ae[we[Se]]);return xe},_functionJoin:function(be){var Ae=be[0];return be[1].join(Ae)},_functionToArray:function(be){return 3===this._getTypeName(be[0])?be[0]:[be[0]]},_functionToString:function(be){return 2===this._getTypeName(be[0])?be[0]:JSON.stringify(be[0])},_functionToNumber:function(be){var Ae=this._getTypeName(be[0]);return 0===Ae?be[0]:2!==Ae||(Ae=+be[0],isNaN(Ae))?null:Ae},_functionNotNull:function(be){for(var Ae=0;Ae<be.length;Ae++)if(7!==this._getTypeName(be[Ae]))return be[Ae];return null},_functionSort:function(be){be=be[0].slice(0);return be.sort(),be},_functionSortBy:function(Ae){var we=Ae[0].slice(0);if(0!==we.length){var xe=(this||be)._interpreter,Se=Ae[1],ke=this._getTypeName(xe.visit(Se,we[0]));if([0,2].indexOf(ke)<0)throw new Error("TypeError");for(var Te=this||be,Ee=[],Re=0;Re<we.length;Re++)Ee.push([Re,we[Re]]);Ee.sort((function(be,Ae){var we=xe.visit(Se,be[1]),Ee=xe.visit(Se,Ae[1]);if(Te._getTypeName(we)!==ke)throw new Error("TypeError: expected "+ke+", received "+Te._getTypeName(we));if(Te._getTypeName(Ee)!==ke)throw new Error("TypeError: expected "+ke+", received "+Te._getTypeName(Ee));return Ee<we?1:we<Ee?-1:be[0]-Ae[0]}));for(var _e=0;_e<Ee.length;_e++)we[_e]=Ee[_e][1]}return we},_functionMaxBy:function(be){for(var Ae,we,xe=be[1],Se=be[0],ke=this.createKeyFunction(xe,[0,2]),Te=-1/0,Ee=0;Ee<Se.length;Ee++)Te<(we=ke(Se[Ee]))&&(Te=we,Ae=Se[Ee]);return Ae},_functionMinBy:function(be){for(var Ae,we,xe=be[1],Se=be[0],ke=this.createKeyFunction(xe,[0,2]),Te=1/0,Ee=0;Ee<Se.length;Ee++)(we=ke(Se[Ee]))<Te&&(Te=we,Ae=Se[Ee]);return Ae},createKeyFunction:function(Ae,we){var xe=this||be,Se=(this||be)._interpreter;return function(be){var ke;be=Se.visit(Ae,be);if(we.indexOf(xe._getTypeName(be))<0)throw ke="TypeError: expected one of "+we+", received "+xe._getTypeName(be),new Error(ke);return be}}},Ae.tokenize=function(be){return(new n).tokenize(be)},Ae.compile=function(be){return(new N).parse(be)},Ae.search=function(be,Ae){var we=new N,xe=new M(Se=new B),Se=(Se._interpreter=xe,we.parse(Ae));return xe.search(Se,be)},Ae.strictDeepEqual=x}(we)},4316:function(be){var Ae=be.exports=function(be,we,xe){"function"==typeof we&&(xe=we,we={}),function e(be,we,xe,Se,ke,Te,Ee,Re,_e,$e){if(Se&&"object"==typeof Se&&!Array.isArray(Se)){for(var Le in we(Se,ke,Te,Ee,Re,_e,$e),Se){var Ne=Se[Le];if(Array.isArray(Ne)){if(Le in Ae.arrayKeywords)for(var Me=0;Me<Ne.length;Me++)e(be,we,xe,Ne[Me],ke+"/"+Le+"/"+Me,Te,ke,Le,Se,Me)}else if(Le in Ae.propsKeywords){if(Ne&&"object"==typeof Ne)for(var Be in Ne)e(be,we,xe,Ne[Be],ke+"/"+Le+"/"+f(Be),Te,ke,Le,Se,Be)}else(Le in Ae.keywords||be.allKeys&&!(Le in Ae.skipKeywords))&&e(be,we,xe,Ne,ke+"/"+Le,Te,ke,Le,Se)}xe(Se,ke,Te,Ee,Re,_e,$e)}}(we,"function"==typeof(xe=we.cb||xe)?xe:xe.pre||function(){},xe.post||function(){},be,"",be)};function f(be){return be.replace(/~/g,"~0").replace(/\//g,"~1")}Ae.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Ae.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ae.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Ae.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},3094:function(be,Ae){var we={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},xe="a".charCodeAt(),Se=(Ae.parse=function(be,Ae,Se){var ke={},Te=0,Ee=0,Re=0,_e=Se&&Se.bigint&&"undefined"!=typeof BigInt;return{data:l("",!0),pointers:ke};function l(Ae,we){c(),m(Ae,"value");var xe,Se=u();switch(Se){case"t":d("rue"),xe=!0;break;case"f":d("alse"),xe=!1;break;case"n":d("ull"),xe=null;break;case'"':xe=h();break;case"[":xe=function(be){c();var Ae=[],we=0;if("]"!=u())for(g();;){Ae.push(l(be+"/"+we)),c();var xe=u();if("]"==xe)break;","!=xe&&v(),c(),we++}return Ae}(Ae);break;case"{":xe=function(be){c();var Ae={};if("}"!=u())for(g();;){var we=C(),xe=('"'!=u()&&v(),h()),Se=be+"/"+w(xe);we=(f(Se,"key",we),m(Se,"keyEnd"),c(),":"!=u()&&v(),c(),Ae[xe]=l(Se),c(),u());if("}"==we)break;","!=we&&v(),c()}return Ae}(Ae);break;default:g(),0<="-0123456789".indexOf(Se)?xe=function(){var Ae="",we=!0;"-"==be[Re]&&(Ae+=u());Ae+=("0"==be[Re]?u:p)(),"."==be[Re]&&(Ae+=u()+p(),we=!1);"e"!=be[Re]&&"E"!=be[Re]||(Ae+=u(),"+"!=be[Re]&&"-"!=be[Re]||(Ae+=u()),Ae+=p(),we=!1);var xe=+Ae;return _e&&we&&(xe>Number.MAX_SAFE_INTEGER||xe<Number.MIN_SAFE_INTEGER)?BigInt(Ae):xe}():y()}return m(Ae,"valueEnd"),c(),we&&Re<be.length&&y(),xe}function c(){e:for(;Re<be.length;){switch(be[Re]){case" ":Ee++;break;case"\t":Ee+=4;break;case"\r":Ee=0;break;case"\n":Ee=0,Te++;break;default:break e}Re++}}function h(){for(var be,Ae="";'"'!=(be=u());)"\\"==be?(be=u())in we?Ae+=we[be]:"u"==be?Ae+=function(){var be=4,Ae=0;for(;be--;){Ae<<=4;var we=u().toLowerCase();"a"<=we&&we<="f"?Ae+=we.charCodeAt()-xe+10:"0"<=we&&we<="9"?Ae+=+we:v()}return String.fromCharCode(Ae)}():v():Ae+=be;return Ae}function d(be){for(var Ae=0;Ae<be.length;Ae++)u()!==be[Ae]&&v()}function u(){I();var Ae=be[Re];return Re++,Ee++,Ae}function g(){Re--,Ee--}function p(){for(var Ae="";"0"<=be[Re]&&be[Re]<="9";)Ae+=u();if(Ae.length)return Ae;I(),y()}function m(be,Ae){f(be,Ae,C())}function f(be,Ae,we){ke[be]=ke[be]||{},ke[be][Ae]=we}function C(){return{line:Te,column:Ee,pos:Re}}function y(){throw new SyntaxError("Unexpected token "+be[Re]+" in JSON at position "+Re)}function v(){g(),y()}function I(){if(Re>=be.length)throw new SyntaxError("Unexpected end of JSON input")}},Ae.stringify=function(be,Ae,we){if(v(be)){var xe=0;switch(typeof(ke="object"==typeof we?we.space:we)){case"number":var Se=10<ke?10:ke<0?0:Math.floor(ke),ke=Se&&y(Se," "),Te=Se,Ee=Se;break;case"string":ke=ke.slice(0,10);for(var Re=Ee=Te=0;Re<ke.length;Re++){switch(ke[Re]){case" ":Ee++;break;case"\t":Ee+=4;break;case"\r":Ee=0;break;case"\n":Ee=0,xe++;break;default:throw new Error("whitespace characters not allowed in JSON")}Te++}break;default:ke=void 0}var _e="",$e={},Le=0,Ne=0,Me=0,Be=we&&we.es6&&"function"==typeof Map;return function l(be,Ae,we){C(we,"value");switch(typeof be){case"number":case"bigint":case"boolean":m(""+be);break;case"string":m(I(be));break;case"object":null===be?m("null"):"function"==typeof be.toJSON?m(I(be.toJSON())):Array.isArray(be)?e():Be?be.constructor.BYTES_PER_ELEMENT?e():be instanceof Map?n():be instanceof Set?n(!0):t():t()}C(we,"valueEnd");function e(){if(be.length){m("[");for(var xe=Ae+1,Se=0;Se<be.length;Se++){Se&&m(","),f(xe);var ke=v(be[Se])?be[Se]:null,Te=we+"/"+Se;l(ke,xe,Te)}f(Ae),m("]")}else m("[]")}function t(){var xe=Object.keys(be);if(xe.length){m("{");for(var Se=Ae+1,Te=0;Te<xe.length;Te++){var Ee,Re=xe[Te],_e=be[Re];v(_e)&&(Te&&m(","),Ee=we+"/"+w(Re),f(Se),C(Ee,"key"),m(I(Re)),C(Ee,"keyEnd"),m(":"),ke&&m(" "),l(_e,Se,Ee))}f(Ae),m("}")}else m("{}")}function n(xe){if(be.size){m("{");for(var Se=Ae+1,Te=!0,Ee=be.entries(),Re=Ee.next();!Re.done;){var _e,$e=Re.value,Le=$e[0];$e=!!xe||$e[1];v($e)&&(Te||m(","),Te=!1,_e=we+"/"+w(Le),f(Se),C(_e,"key"),m(I(Le)),C(_e,"keyEnd"),m(":"),ke&&m(" "),l($e,Se,_e)),Re=Ee.next()}f(Ae),m("}")}else m("{}")}}(be,0,""),{json:_e,pointers:$e}}function m(be){Ne+=be.length,Me+=be.length,_e+=be}function f(be){if(ke){for(_e+="\n"+y(be,ke),Le++,Ne=0;be--;)xe?(Le+=xe,Ne=Ee):Ne+=Ee,Me+=Te;Me+=1}}function C(be,Ae){$e[be]=$e[be]||{},$e[be][Ae]={line:Le,column:Ne,pos:Me}}function y(be,Ae){return Array(be+1).join(Ae)}},["number","bigint","boolean","string","object"]);function v(be){return 0<=Se.indexOf(typeof be)}var ke=/"|\\/g,Te=/[\b]/g,Ee=/\f/g,Re=/\n/g,_e=/\r/g,$e=/\t/g;function I(be){return'"'+(be=be.replace(ke,"\\$&").replace(Ee,"\\f").replace(Te,"\\b").replace(Re,"\\n").replace(_e,"\\r").replace($e,"\\t"))+'"'}var Le=/~/g,Ne=/\//g;function w(be){return be.replace(Le,"~0").replace(Ne,"~1")}},8340:function(Ae,we){var xe,Se;!function(){Se=[],void 0!==(Se="function"==typeof(xe=function(){function C(be){return typeof Node==="object"?be instanceof Node:be&&typeof be==="object"&&typeof be.nodeType==="number"}function y(be){return typeof be==="string"}function v(){var be=[];return{watch:be.push.bind(be),trigger:function(Ae,we){var xe=true;var Se={detail:we,preventDefault:function e(){xe=false}};for(var ke=0;ke<be.length;ke++)be[ke](Ae,Se);return xe}}}function o(be){return window.getComputedStyle(be).display==="none"}function r(Ae){(this||be).elem=Ae}function I(be,Ae){return r.make(be("parent")).clazz("pico-overlay").clazz(be("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(be("overlayStyles",{opacity:.5,background:"#000"})).onClick((function(){be("overlayClose",true)&&Ae()}))}r.make=function(be,Ae){typeof be==="string"&&(be=document.querySelector(be));var we=document.createElement(Ae||"div");(be||document.body).appendChild(we);return new r(we)},r.prototype={child:function(Ae){return r.make((this||be).elem,Ae)},stylize:function(Ae){Ae=Ae||{};typeof Ae.opacity!=="undefined"&&(Ae.filter="alpha(opacity="+Ae.opacity*100+")");for(var we in Ae)Ae.hasOwnProperty(we)&&((this||be).elem.style[we]=Ae[we]);return this||be},clazz:function(Ae){(this||be).elem.className+=" "+Ae;return this||be},html:function(Ae){C(Ae)?(this||be).elem.appendChild(Ae):(this||be).elem.innerHTML=Ae;return this||be},onClick:function(Ae){(this||be).elem.addEventListener("click",Ae);return this||be},destroy:function(){(this||be).elem.parentNode.removeChild((this||be).elem)},hide:function(){(this||be).elem.style.display="none"},show:function(){(this||be).elem.style.display="block"},attr:function(Ae,we){we!==void 0&&(this||be).elem.setAttribute(Ae,we);return this||be},anyAncestor:function(Ae){var we=(this||be).elem;while(we){if(Ae(new r(we)))return true;we=we.parentNode}return false},isVisible:function(){return!o((this||be).elem)}};var Ae=1;function b(be,we){var xe=be("width","auto");typeof xe==="number"&&(xe+="px");var Se=be("modalId","pico-"+Ae++);var ke=r.make(be("parent")).clazz("pico-content").clazz(be("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:xe,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(be("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(be("content")).attr("id",Se).attr("role","dialog").attr("aria-labelledby",be("ariaLabelledBy")).attr("aria-describedby",be("ariaDescribedBy",Se)).onClick((function(be){var Ae=new r(be.target).anyAncestor((function(be){return/\bpico-close\b/.test(be.elem.className)}));Ae&&we()}));return ke}function A(be,Ae){if(Ae("closeButton",true))return be.child("button").html(Ae("closeHtml","&#xD7;")).clazz("pico-close").clazz(Ae("closeClass","")).stylize(Ae("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",Ae("close-label","Close"))}function w(be){return function(){return be().elem}}var we=v(),xe=v();function x(be,Ae){function t(be,Ae){var we=be.msMatchesSelector||be.webkitMatchesSelector||be.matches;return we.call(be,Ae)}function i(be){return!(o(be)||t(be,":disabled")||be.hasAttribute("contenteditable"))&&(be.hasAttribute("tabindex")||t(be,"input,select,textarea,button,a[href],area[href],iframe"))}function a(be){var Ae=be.getElementsByTagName("*");for(var we=0;we<Ae.length;we++)if(i(Ae[we]))return Ae[we]}function l(be){var Ae=be.getElementsByTagName("*");for(var we=Ae.length;we--;)if(i(Ae[we]))return Ae[we]}var we;be.beforeShow((function e(){we=document.activeElement}));be.afterShow((function e(){if(Ae()){var we=a(be.modalElem());we&&we.focus()}}));be.afterClose((function e(){Ae()&&we&&we.focus();we=null}));xe.watch((function e(we){if(Ae()&&be.isVisible()){var xe=a(be.modalElem());var Se=l(be.modalElem());var ke=we.shiftKey?xe:Se;if(ke===document.activeElement){(we.shiftKey?Se:xe).focus();we.preventDefault()}}}))}function k(be,Ae){var we;var xe=new r(document.body);be.beforeShow((function(){we=xe.elem.style.overflow;Ae()&&xe.stylize({overflow:"hidden"})}));be.afterClose((function(){xe.stylize({overflow:we})}))}return document.documentElement.addEventListener("keydown",(function e(be){var Ae=be.which||be.keyCode;Ae===27?we.trigger():Ae===9&&xe.trigger(be)})),function e(Ae){(y(Ae)||C(Ae))&&(Ae={content:Ae});var xe=v();var Se=v();var ke=v();var Te=v();var Ee=v();function a(be,we){var xe=Ae[be];typeof xe==="function"&&(xe=xe(we));return xe===void 0?we:xe}var Re=f.bind(window,"modal");var _e=f.bind(window,"overlay");var $e=f.bind(window,"close");var Le;function u(be){_e().hide();Re().hide();Ee.trigger(Le,be)}function g(be){Te.trigger(Le,be)&&u(be)}function p(Ae){return function(){Ae.apply(this||be,arguments);return Le}}var Ne;function f(be,Ae){if(!Ne){var we=b(a,g);Ne={modal:we,overlay:I(a,g),close:A(we,a)};xe.trigger(Le,Ae)}return Ne[be]}Le={modalElem:w(Re),closeElem:w($e),overlayElem:w(_e),buildDom:p(f.bind(null,null)),isVisible:function(){return!!(Ne&&Re&&Re().isVisible())},show:function(Ae){if(Se.trigger(Le,Ae)){_e().show();$e();Re().show();ke.trigger(Le,Ae)}return this||be},close:p(g),forceClose:p(u),destroy:function(){Re().destroy();_e().destroy();_e=Re=$e=void 0},options:function(be){Object.keys(be).map((function(we){Ae[we]=be[we]}))},afterCreate:p(xe.watch),beforeShow:p(Se.watch),afterShow:p(ke.watch),beforeClose:p(Te.watch),afterClose:p(Ee.watch)};x(Le,a.bind(null,"focus",true));k(Le,a.bind(null,"bodyOverflow",true));we.watch((function e(){a("escCloses",true)&&Le.isVisible()&&Le.close()}));return Le}})?xe.apply(we,Se):xe)&&(Ae.exports=Se)}()},6777:function(be,Ae){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(be){function he(){for(var be=arguments.length,Ae=Array(be),we=0;we<be;we++)Ae[we]=arguments[we];if(Ae.length>1){Ae[0]=Ae[0].slice(0,-1);var xe=Ae.length-1;for(var Se=1;Se<xe;++Se)Ae[Se]=Ae[Se].slice(1,-1);Ae[xe]=Ae[xe].slice(1);return Ae.join("")}return Ae[0]}function de(be){return"(?:"+be+")"}function i(be){return be===void 0?"undefined":be===null?"null":Object.prototype.toString.call(be).split(" ").pop().split("]").shift().toLowerCase()}function p(be){return be.toUpperCase()}function b(be){return be!==void 0&&be!==null?be instanceof Array?be:typeof be.length!=="number"||be.split||be.setInterval||be.call?[be]:Array.prototype.slice.call(be):[]}function x(be,Ae){var we=be;if(Ae)for(var xe in Ae)we[xe]=Ae[xe];return we}function t(be){var Ae="[A-Za-z]",we="[0-9]",xe=he(we,"[A-Fa-f]"),Se=de(de("%[EFef]"+xe+"%"+xe+xe+"%"+xe+xe)+"|"+de("%[89A-Fa-f]"+xe+"%"+xe+xe)+"|"+de("%"+xe+xe)),ke="[\\:\\/\\?\\#\\[\\]\\@]",Te="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ee=he(ke,Te),Re=be?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",_e=be?"[\\uE000-\\uF8FF]":"[]",$e=he(Ae,we,"[\\-\\.\\_\\~]",Re),Le=de(Ae+he(Ae,we,"[\\+\\-\\.]")+"*"),Ne=de(de(Se+"|"+he($e,Te,"[\\:]"))+"*"),Me=(de(de("25[0-5]")+"|"+de("2[0-4]"+we)+"|"+de("1"+we+we)+"|"+de("[1-9]"+we)+"|"+we),de(de("25[0-5]")+"|"+de("2[0-4]"+we)+"|"+de("1"+we+we)+"|"+de("0?[1-9]"+we)+"|0?0?"+we)),Be=de(Me+"\\."+Me+"\\."+Me+"\\."+Me),We=de(xe+"{1,4}"),Pe=de(de(We+"\\:"+We)+"|"+Be),He=de(de(We+"\\:")+"{6}"+Pe),Ge=de("\\:\\:"+de(We+"\\:")+"{5}"+Pe),Fe=de(de(We)+"?\\:\\:"+de(We+"\\:")+"{4}"+Pe),Oe=de(de(de(We+"\\:")+"{0,1}"+We)+"?\\:\\:"+de(We+"\\:")+"{3}"+Pe),Ve=de(de(de(We+"\\:")+"{0,2}"+We)+"?\\:\\:"+de(We+"\\:")+"{2}"+Pe),Ze=de(de(de(We+"\\:")+"{0,3}"+We)+"?\\:\\:"+We+"\\:"+Pe),De=de(de(de(We+"\\:")+"{0,4}"+We)+"?\\:\\:"+Pe),je=de(de(de(We+"\\:")+"{0,5}"+We)+"?\\:\\:"+We),Ke=de(de(de(We+"\\:")+"{0,6}"+We)+"?\\:\\:"),ze=de([He,Ge,Fe,Oe,Ve,Ze,De,je,Ke].join("|")),Xe=de(de($e+"|"+Se)+"+"),Ye=(de(ze+"\\%25"+Xe),de(ze+de("\\%25|\\%(?!"+xe+"{2})")+Xe)),Je=de("[vV]"+xe+"+\\."+he($e,Te,"[\\:]")+"+"),Ue=de("\\["+de(Ye+"|"+ze+"|"+Je)+"\\]"),Qe=de(de(Se+"|"+he($e,Te))+"*"),qe=de(Ue+"|"+Be+"(?!"+Qe+")|"+Qe),et=de(we+"*"),tt=de(de(Ne+"@")+"?"+qe+de("\\:"+et)+"?"),nt=de(Se+"|"+he($e,Te,"[\\:\\@]")),it=de(nt+"*"),ot=de(nt+"+"),rt=de(de(Se+"|"+he($e,Te,"[\\@]"))+"+"),st=de(de("\\/"+it)+"*"),at=de("\\/"+de(ot+st)+"?"),lt=de(rt+st),ct=de(ot+st),ht="(?!"+nt+")",dt=(de(st+"|"+at+"|"+lt+"|"+ct+"|"+ht),de(de(nt+"|"+he("[\\/\\?]",_e))+"*")),ut=de(de(nt+"|[\\/\\?]")+"*"),gt=de(de("\\/\\/"+tt+st)+"|"+at+"|"+ct+"|"+ht),pt=de(Le+"\\:"+gt+de("\\?"+dt)+"?"+de("\\#"+ut)+"?"),mt=de(de("\\/\\/"+tt+st)+"|"+at+"|"+lt+"|"+ht),ft=de(mt+de("\\?"+dt)+"?"+de("\\#"+ut)+"?");de(pt+"|"+ft),de(Le+"\\:"+gt+de("\\?"+dt)+"?"),de(de("\\/\\/("+de("("+Ne+")@")+"?("+qe+")"+de("\\:("+et+")")+"?)")+"?("+st+"|"+at+"|"+ct+"|"+ht+")"),de("\\?("+dt+")"),de("\\#("+ut+")"),de(de("\\/\\/("+de("("+Ne+")@")+"?("+qe+")"+de("\\:("+et+")")+"?)")+"?("+st+"|"+at+"|"+lt+"|"+ht+")"),de("\\?("+dt+")"),de("\\#("+ut+")"),de(de("\\/\\/("+de("("+Ne+")@")+"?("+qe+")"+de("\\:("+et+")")+"?)")+"?("+st+"|"+at+"|"+ct+"|"+ht+")"),de("\\?("+dt+")"),de("\\#("+ut+")"),de("("+Ne+")@"),de("\\:("+et+")");return{NOT_SCHEME:new RegExp(he("[^]",Ae,we,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(he("[^\\%\\:]",$e,Te),"g"),NOT_HOST:new RegExp(he("[^\\%\\[\\]\\:]",$e,Te),"g"),NOT_PATH:new RegExp(he("[^\\%\\/\\:\\@]",$e,Te),"g"),NOT_PATH_NOSCHEME:new RegExp(he("[^\\%\\/\\@]",$e,Te),"g"),NOT_QUERY:new RegExp(he("[^\\%]",$e,Te,"[\\:\\@\\/\\?]",_e),"g"),NOT_FRAGMENT:new RegExp(he("[^\\%]",$e,Te,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(he("[^]",$e,Te),"g"),UNRESERVED:new RegExp($e,"g"),OTHER_CHARS:new RegExp(he("[^\\%]",$e,Ee),"g"),PCT_ENCODED:new RegExp(Se,"g"),IPV4ADDRESS:new RegExp("^("+Be+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ze+")"+de(de("\\%25|\\%(?!"+xe+"{2})")+"("+Xe+")")+"?\\]?$")}}var Ae=t(false),we=t(true),xe=function(){function n(be,Ae){var we=[];var xe=true;var Se=false;var ke=void 0;try{for(var Te,Ee=be[Symbol.iterator]();!(xe=(Te=Ee.next()).done);xe=true){we.push(Te.value);if(Ae&&we.length===Ae)break}}catch(be){Se=true;ke=be}finally{try{!xe&&Ee.return&&Ee.return()}finally{if(Se)throw ke}}return we}return function(be,Ae){if(Array.isArray(be))return be;if(Symbol.iterator in Object(be))return n(be,Ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(be){if(Array.isArray(be)){for(var Ae=0,we=Array(be.length);Ae<be.length;Ae++)we[Ae]=be[Ae];return we}return Array.from(be)},Se=2147483647,ke=36,Te=1,Ee=26,Re=38,_e=700,$e=72,Le=128,Ne="-",Me=/^xn--/,Be=/[^\0-\x7E]/,We=/[\x2E\u3002\uFF0E\uFF61]/g,Pe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},He=ke-Te,Ge=Math.floor,Fe=String.fromCharCode;function Z(be){throw new RangeError(Pe[be])}function N(be,Ae){var we=[];var xe=be.length;while(xe--)we[xe]=Ae(be[xe]);return we}function D(be,Ae){var we=be.split("@");var xe="";if(we.length>1){xe=we[0]+"@";be=we[1]}be=be.replace(We,".");var Se=be.split(".");var ke=N(Se,Ae).join(".");return xe+ke}function j(be){var Ae=[];var we=0;var xe=be.length;while(we<xe){var Se=be.charCodeAt(we++);if(Se>=55296&&Se<=56319&&we<xe){var ke=be.charCodeAt(we++);if((ke&64512)==56320)Ae.push(((Se&1023)<<10)+(ke&1023)+65536);else{Ae.push(Se);we--}}else Ae.push(Se)}return Ae}var Oe=function e(be){return be-48<10?be-22:be-65<26?be-65:be-97<26?be-97:ke},Ve=function e(be,Ae){return be+22+75*(be<26)-((Ae!=0)<<5)},Ze=function e(be,Ae,we){var xe=0;be=we?Ge(be/_e):be>>1;be+=Ge(be/Ae);for(;be>He*Ee>>1;xe+=ke)be=Ge(be/He);return Ge(xe+(He+1)*be/(be+Re))},De=function e(be){var Ae=[];var we=be.length;var xe=0;var Re=Le;var _e=$e;var Me=be.lastIndexOf(Ne);Me<0&&(Me=0);for(var Be=0;Be<Me;++Be){be.charCodeAt(Be)>=128&&Z("not-basic");Ae.push(be.charCodeAt(Be))}for(var We=Me>0?Me+1:0;We<we;){var Pe=xe;for(var He=1,Fe=ke;;Fe+=ke){We>=we&&Z("invalid-input");var Ve=Oe(be.charCodeAt(We++));(Ve>=ke||Ve>Ge((Se-xe)/He))&&Z("overflow");xe+=Ve*He;var De=Fe<=_e?Te:Fe>=_e+Ee?Ee:Fe-_e;if(Ve<De)break;var je=ke-De;He>Ge(Se/je)&&Z("overflow");He*=je}var Ke=Ae.length+1;_e=Ze(xe-Pe,Ke,Pe==0);Ge(xe/Ke)>Se-Re&&Z("overflow");Re+=Ge(xe/Ke);xe%=Ke;Ae.splice(xe++,0,Re)}return String.fromCodePoint.apply(String,Ae)},je=function e(be){var Ae=[];be=j(be);var we=be.length;var xe=Le;var Re=0;var _e=$e;var Me=true;var Be=false;var We=void 0;try{for(var Pe,He=be[Symbol.iterator]();!(Me=(Pe=He.next()).done);Me=true){var Oe=Pe.value;Oe<128&&Ae.push(Fe(Oe))}}catch(e){Be=true;We=e}finally{try{!Me&&He.return&&He.return()}finally{if(Be)throw We}}var De=Ae.length;var je=De;De&&Ae.push(Ne);while(je<we){var Ke=Se;var ze=true;var Xe=false;var Ye=void 0;try{for(var Je,Ue=be[Symbol.iterator]();!(ze=(Je=Ue.next()).done);ze=true){var Qe=Je.value;Qe>=xe&&Qe<Ke&&(Ke=Qe)}}catch(e){Xe=true;Ye=e}finally{try{!ze&&Ue.return&&Ue.return()}finally{if(Xe)throw Ye}}var qe=je+1;Ke-xe>Ge((Se-Re)/qe)&&Z("overflow");Re+=(Ke-xe)*qe;xe=Ke;var et=true;var tt=false;var nt=void 0;try{for(var it,ot=be[Symbol.iterator]();!(et=(it=ot.next()).done);et=true){var rt=it.value;rt<xe&&++Re>Se&&Z("overflow");if(rt==xe){var st=Re;for(var at=ke;;at+=ke){var lt=at<=_e?Te:at>=_e+Ee?Ee:at-_e;if(st<lt)break;var ct=st-lt;var ht=ke-lt;Ae.push(Fe(Ve(lt+ct%ht,0)));st=Ge(ct/ht)}Ae.push(Fe(Ve(st,0)));_e=Ze(Re,qe,je==De);Re=0;++je}}}catch(e){tt=true;nt=e}finally{try{!et&&ot.return&&ot.return()}finally{if(tt)throw nt}}++Re;++xe}return Ae.join("")},Ke={version:"2.1.0",ucs2:{decode:j,encode:function e(be){return String.fromCodePoint.apply(String,k(be))}},decode:De,encode:je,toASCII:function e(be){return D(be,(function(be){return Be.test(be)?"xn--"+je(be):be}))},toUnicode:function e(be){return D(be,(function(be){return Me.test(be)?De(be.slice(4).toLowerCase()):be}))}},ze={};function m(be){var Ae=be.charCodeAt(0);var we=void 0;we=Ae<16?"%0"+Ae.toString(16).toUpperCase():Ae<128?"%"+Ae.toString(16).toUpperCase():Ae<2048?"%"+(Ae>>6|192).toString(16).toUpperCase()+"%"+(Ae&63|128).toString(16).toUpperCase():"%"+(Ae>>12|224).toString(16).toUpperCase()+"%"+(Ae>>6&63|128).toString(16).toUpperCase()+"%"+(Ae&63|128).toString(16).toUpperCase();return we}function c(be){var Ae="";var we=0;var xe=be.length;while(we<xe){var Se=parseInt(be.substr(we+1,2),16);if(Se<128){Ae+=String.fromCharCode(Se);we+=3}else if(Se>=194&&Se<224){if(xe-we>=6){var ke=parseInt(be.substr(we+4,2),16);Ae+=String.fromCharCode((Se&31)<<6|ke&63)}else Ae+=be.substr(we,6);we+=6}else if(Se>=224){if(xe-we>=9){var Te=parseInt(be.substr(we+4,2),16);var Ee=parseInt(be.substr(we+7,2),16);Ae+=String.fromCharCode((Se&15)<<12|(Te&63)<<6|Ee&63)}else Ae+=be.substr(we,9);we+=9}else{Ae+=be.substr(we,3);we+=3}}return Ae}function d(be,Ae){function t(be){var we=c(be);return we.match(Ae.UNRESERVED)?we:be}be.scheme&&(be.scheme=String(be.scheme).replace(Ae.PCT_ENCODED,t).toLowerCase().replace(Ae.NOT_SCHEME,""));be.userinfo!==void 0&&(be.userinfo=String(be.userinfo).replace(Ae.PCT_ENCODED,t).replace(Ae.NOT_USERINFO,m).replace(Ae.PCT_ENCODED,p));be.host!==void 0&&(be.host=String(be.host).replace(Ae.PCT_ENCODED,t).toLowerCase().replace(Ae.NOT_HOST,m).replace(Ae.PCT_ENCODED,p));be.path!==void 0&&(be.path=String(be.path).replace(Ae.PCT_ENCODED,t).replace(be.scheme?Ae.NOT_PATH:Ae.NOT_PATH_NOSCHEME,m).replace(Ae.PCT_ENCODED,p));be.query!==void 0&&(be.query=String(be.query).replace(Ae.PCT_ENCODED,t).replace(Ae.NOT_QUERY,m).replace(Ae.PCT_ENCODED,p));be.fragment!==void 0&&(be.fragment=String(be.fragment).replace(Ae.PCT_ENCODED,t).replace(Ae.NOT_FRAGMENT,m).replace(Ae.PCT_ENCODED,p));return be}function w(be){return be.replace(/^0*(.*)/,"$1")||"0"}function S(be,Ae){var we=be.match(Ae.IPV4ADDRESS)||[];var Se=xe(we,2),ke=Se[1];return ke?ke.split(".").map(w).join("."):be}function ee(be,Ae){var we=be.match(Ae.IPV6ADDRESS)||[];var Se=xe(we,3),ke=Se[1],Te=Se[2];if(ke){var Ee=ke.toLowerCase().split("::").reverse(),Re=xe(Ee,2),_e=Re[0],$e=Re[1];var Le=$e?$e.split(":").map(w):[];var Ne=_e.split(":").map(w);var Me=Ae.IPV4ADDRESS.test(Ne[Ne.length-1]);var Be=Me?7:8;var We=Ne.length-Be;var Pe=Array(Be);for(var He=0;He<Be;++He)Pe[He]=Le[He]||Ne[We+He]||"";Me&&(Pe[Be-1]=S(Pe[Be-1],Ae));var Ge=Pe.reduce((function(be,Ae,we){if(!Ae||Ae==="0"){var xe=be[be.length-1];xe&&xe.index+xe.length===we?xe.length++:be.push({index:we,length:1})}return be}),[]);var Fe=Ge.sort((function(be,Ae){return Ae.length-be.length}))[0];var Oe=void 0;if(Fe&&Fe.length>1){var Ve=Pe.slice(0,Fe.index);var Ze=Pe.slice(Fe.index+Fe.length);Oe=Ve.join(":")+"::"+Ze.join(":")}else Oe=Pe.join(":");Te&&(Oe+="%"+Te);return Oe}return be}var Xe=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ye="".match(/(){0}/)[1]===void 0;function s(be){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var Se={};var ke=xe.iri!==false?we:Ae;xe.reference==="suffix"&&(be=(xe.scheme?xe.scheme+":":"")+"//"+be);var Te=be.match(Xe);if(Te){if(Ye){Se.scheme=Te[1];Se.userinfo=Te[3];Se.host=Te[4];Se.port=parseInt(Te[5],10);Se.path=Te[6]||"";Se.query=Te[7];Se.fragment=Te[8];isNaN(Se.port)&&(Se.port=Te[5])}else{Se.scheme=Te[1]||void 0;Se.userinfo=be.indexOf("@")!==-1?Te[3]:void 0;Se.host=be.indexOf("//")!==-1?Te[4]:void 0;Se.port=parseInt(Te[5],10);Se.path=Te[6]||"";Se.query=be.indexOf("?")!==-1?Te[7]:void 0;Se.fragment=be.indexOf("#")!==-1?Te[8]:void 0;isNaN(Se.port)&&(Se.port=be.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Te[4]:void 0)}Se.host&&(Se.host=ee(S(Se.host,ke),ke));Se.scheme!==void 0||Se.userinfo!==void 0||Se.host!==void 0||Se.port!==void 0||Se.path||Se.query!==void 0?Se.scheme===void 0?Se.reference="relative":Se.fragment===void 0?Se.reference="absolute":Se.reference="uri":Se.reference="same-document";xe.reference&&xe.reference!=="suffix"&&xe.reference!==Se.reference&&(Se.error=Se.error||"URI is not a "+xe.reference+" reference.");var Ee=ze[(xe.scheme||Se.scheme||"").toLowerCase()];if(xe.unicodeSupport||Ee&&Ee.unicodeSupport)d(Se,ke);else{if(Se.host&&(xe.domainHost||Ee&&Ee.domainHost))try{Se.host=Ke.toASCII(Se.host.replace(ke.PCT_ENCODED,c).toLowerCase())}catch(be){Se.error=Se.error||"Host's domain name can not be converted to ASCII via punycode: "+be}d(Se,Ae)}Ee&&Ee.parse&&Ee.parse(Se,xe)}else Se.error=Se.error||"URI can not be parsed.";return Se}function ie(be,xe){var Se=xe.iri!==false?we:Ae;var ke=[];if(be.userinfo!==void 0){ke.push(be.userinfo);ke.push("@")}be.host!==void 0&&ke.push(ee(S(String(be.host),Se),Se).replace(Se.IPV6ADDRESS,(function(be,Ae,we){return"["+Ae+(we?"%25"+we:"")+"]"})));if(typeof be.port==="number"||typeof be.port==="string"){ke.push(":");ke.push(String(be.port))}return ke.length?ke.join(""):void 0}var Je=/^\.\.?\//,Ue=/^\/\.(\/|$)/,Qe=/^\/\.\.(\/|$)/,qe=/^\/?(?:.|\n)*?(?=\/|$)/;function u(be){var Ae=[];while(be.length)if(be.match(Je))be=be.replace(Je,"");else if(be.match(Ue))be=be.replace(Ue,"/");else if(be.match(Qe)){be=be.replace(Qe,"/");Ae.pop()}else if(be==="."||be==="..")be="";else{var we=be.match(qe);if(!we)throw new Error("Unexpected dot segment condition");var xe=we[0];be=be.slice(xe.length);Ae.push(xe)}return Ae.join("")}function g(be){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var Se=xe.iri?we:Ae;var ke=[];var Te=ze[(xe.scheme||be.scheme||"").toLowerCase()];Te&&Te.serialize&&Te.serialize(be,xe);if(be.host)if(Se.IPV6ADDRESS.test(be.host));else if(xe.domainHost||Te&&Te.domainHost)try{be.host=xe.iri?Ke.toUnicode(be.host):Ke.toASCII(be.host.replace(Se.PCT_ENCODED,c).toLowerCase())}catch(Se){be.error=be.error||"Host's domain name can not be converted to "+(xe.iri?"Unicode":"ASCII")+" via punycode: "+Se}d(be,Se);if(xe.reference!=="suffix"&&be.scheme){ke.push(be.scheme);ke.push(":")}var Ee=ie(be,xe);if(Ee!==void 0){xe.reference!=="suffix"&&ke.push("//");ke.push(Ee);be.path&&be.path.charAt(0)!=="/"&&ke.push("/")}if(be.path!==void 0){var Re=be.path;xe.absolutePath||Te&&Te.absolutePath||(Re=u(Re));Ee===void 0&&(Re=Re.replace(/^\/\//,"/%2F"));ke.push(Re)}if(be.query!==void 0){ke.push("?");ke.push(be.query)}if(be.fragment!==void 0){ke.push("#");ke.push(be.fragment)}return ke.join("")}function le(be,Ae){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var xe=arguments[3];var Se={};if(!xe){be=s(g(be,we),we);Ae=s(g(Ae,we),we)}we=we||{};if(!we.tolerant&&Ae.scheme){Se.scheme=Ae.scheme;Se.userinfo=Ae.userinfo;Se.host=Ae.host;Se.port=Ae.port;Se.path=u(Ae.path||"");Se.query=Ae.query}else{if(Ae.userinfo!==void 0||Ae.host!==void 0||Ae.port!==void 0){Se.userinfo=Ae.userinfo;Se.host=Ae.host;Se.port=Ae.port;Se.path=u(Ae.path||"");Se.query=Ae.query}else{if(Ae.path){if(Ae.path.charAt(0)==="/")Se.path=u(Ae.path);else{be.userinfo===void 0&&be.host===void 0&&be.port===void 0||be.path?be.path?Se.path=be.path.slice(0,be.path.lastIndexOf("/")+1)+Ae.path:Se.path=Ae.path:Se.path="/"+Ae.path;Se.path=u(Se.path)}Se.query=Ae.query}else{Se.path=be.path;Ae.query!==void 0?Se.query=Ae.query:Se.query=be.query}Se.userinfo=be.userinfo;Se.host=be.host;Se.port=be.port}Se.scheme=be.scheme}Se.fragment=Ae.fragment;return Se}function ce(be,Ae,we){var xe=x({scheme:"null"},we);return g(le(s(be,xe),s(Ae,xe),xe,true),xe)}function ue(be,Ae){typeof be==="string"?be=g(s(be,Ae),Ae):i(be)==="object"&&(be=s(g(be,Ae),Ae));return be}function ge(be,Ae,we){typeof be==="string"?be=g(s(be,we),we):i(be)==="object"&&(be=g(be,we));typeof Ae==="string"?Ae=g(s(Ae,we),we):i(Ae)==="object"&&(Ae=g(Ae,we));return be===Ae}function pe(be,xe){return be&&be.toString().replace(xe&&xe.iri?we.ESCAPE:Ae.ESCAPE,m)}function y(be,xe){return be&&be.toString().replace(xe&&xe.iri?we.PCT_ENCODED:Ae.PCT_ENCODED,c)}var et={scheme:"http",domainHost:true,parse:function e(be,Ae){be.host||(be.error=be.error||"HTTP URIs must have a host.");return be},serialize:function e(be,Ae){var we=String(be.scheme).toLowerCase()==="https";be.port!==(we?443:80)&&be.port!==""||(be.port=void 0);be.path||(be.path="/");return be}},tt={scheme:"https",domainHost:et.domainHost,parse:et.parse,serialize:et.serialize};function fe(be){return typeof be.secure==="boolean"?be.secure:String(be.scheme).toLowerCase()==="wss"}var nt={scheme:"ws",domainHost:true,parse:function e(be,Ae){var we=be;we.secure=fe(we);we.resourceName=(we.path||"/")+(we.query?"?"+we.query:"");we.path=void 0;we.query=void 0;return we},serialize:function e(be,Ae){be.port!==(fe(be)?443:80)&&be.port!==""||(be.port=void 0);if(typeof be.secure==="boolean"){be.scheme=be.secure?"wss":"ws";be.secure=void 0}if(be.resourceName){var we=be.resourceName.split("?"),Se=xe(we,2),ke=Se[0],Te=Se[1];be.path=ke&&ke!=="/"?ke:void 0;be.query=Te;be.resourceName=void 0}be.fragment=void 0;return be}},it={scheme:"wss",domainHost:nt.domainHost,parse:nt.parse,serialize:nt.serialize},ot={},rt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",st="[0-9A-Fa-f]",at=de(de("%[EFef]"+st+"%"+st+st+"%"+st+st)+"|"+de("%[89A-Fa-f]"+st+"%"+st+st)+"|"+de("%"+st+st)),lt="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ct=he("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ht="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",dt=new RegExp(rt,"g"),ut=new RegExp(at,"g"),gt=new RegExp(he("[^]",lt,"[\\.]",'[\\"]',ct),"g"),pt=new RegExp(he("[^]",rt,ht),"g"),mt=pt;function I(be){var Ae=c(be);return Ae.match(dt)?Ae:be}var ft={scheme:"mailto",parse:function e(be,Ae){var we=be;var xe=we.to=we.path?we.path.split(","):[];we.path=void 0;if(we.query){var Se=false;var ke={};var Te=we.query.split("&");for(var Ee=0,Re=Te.length;Ee<Re;++Ee){var _e=Te[Ee].split("=");switch(_e[0]){case"to":var $e=_e[1].split(",");for(var Le=0,Ne=$e.length;Le<Ne;++Le)xe.push($e[Le]);break;case"subject":we.subject=y(_e[1],Ae);break;case"body":we.body=y(_e[1],Ae);break;default:Se=true;ke[y(_e[0],Ae)]=y(_e[1],Ae);break}}Se&&(we.headers=ke)}we.query=void 0;for(var Me=0,Be=xe.length;Me<Be;++Me){var We=xe[Me].split("@");We[0]=y(We[0]);if(Ae.unicodeSupport)We[1]=y(We[1],Ae).toLowerCase();else try{We[1]=Ke.toASCII(y(We[1],Ae).toLowerCase())}catch(e){we.error=we.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}xe[Me]=We.join("@")}return we},serialize:function e(be,Ae){var we=be;var xe=b(be.to);if(xe){for(var Se=0,ke=xe.length;Se<ke;++Se){var Te=String(xe[Se]);var Ee=Te.lastIndexOf("@");var Re=Te.slice(0,Ee).replace(ut,I).replace(ut,p).replace(gt,m);var _e=Te.slice(Ee+1);try{_e=Ae.iri?Ke.toUnicode(_e):Ke.toASCII(y(_e,Ae).toLowerCase())}catch(e){we.error=we.error||"Email address's domain name can not be converted to "+(Ae.iri?"Unicode":"ASCII")+" via punycode: "+e}xe[Se]=Re+"@"+_e}we.path=xe.join(",")}var $e=be.headers=be.headers||{};be.subject&&($e.subject=be.subject);be.body&&($e.body=be.body);var Le=[];for(var Ne in $e)$e[Ne]!==ot[Ne]&&Le.push(Ne.replace(ut,I).replace(ut,p).replace(pt,m)+"="+$e[Ne].replace(ut,I).replace(ut,p).replace(mt,m));Le.length&&(we.query=Le.join("&"));return we}},Ct=/^([^\:]+)\:(.*)/,yt={scheme:"urn",parse:function e(be,Ae){var we=be.path&&be.path.match(Ct);var xe=be;if(we){var Se=Ae.scheme||xe.scheme||"urn";var ke=we[1].toLowerCase();var Te=we[2];var Ee=Se+":"+(Ae.nid||ke);var Re=ze[Ee];xe.nid=ke;xe.nss=Te;xe.path=void 0;Re&&(xe=Re.parse(xe,Ae))}else xe.error=xe.error||"URN can not be parsed.";return xe},serialize:function e(be,Ae){var we=Ae.scheme||be.scheme||"urn";var xe=be.nid;var Se=we+":"+(Ae.nid||xe);var ke=ze[Se];ke&&(be=ke.serialize(be,Ae));var Te=be;var Ee=be.nss;Te.path=(xe||Ae.nid)+":"+Ee;return Te}},vt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,It={scheme:"urn:uuid",parse:function e(be,Ae){var we=be;we.uuid=we.nss;we.nss=void 0;Ae.tolerant||we.uuid&&we.uuid.match(vt)||(we.error=we.error||"UUID is not valid.");return we},serialize:function e(be,Ae){var we=be;we.nss=(be.uuid||"").toLowerCase();return we}};ze[et.scheme]=et,ze[tt.scheme]=tt,ze[nt.scheme]=nt,ze[it.scheme]=it,ze[ft.scheme]=ft,ze[yt.scheme]=yt,ze[It.scheme]=It,be.SCHEMES=ze,be.pctEncChar=m,be.pctDecChars=c,be.parse=s,be.removeDotSegments=u,be.serialize=g,be.resolveComponents=le,be.resolve=ce,be.normalize=ue,be.equal=ge,be.escapeComponent=pe,be.unescapeComponent=y,Object.defineProperty(be,"__esModule",{value:true})}(Ae)},7598:function(Ae){Ae.exports=function(){var s=function(be,Ae){if(!(be instanceof Ae))throw new TypeError("Cannot call a class as a function")},Ae=function(){function i(be,Ae){for(var we=0;we<Ae.length;we++){var xe=Ae[we];xe.enumerable=xe.enumerable||false;xe.configurable=true;"value"in xe&&(xe.writable=true);Object.defineProperty(be,xe.key,xe)}}return function(be,Ae,we){Ae&&i(be.prototype,Ae);we&&i(be,we);return be}}(),we=function(){function n(be,Ae){var we=[];var xe=true;var Se=false;var ke=void 0;try{for(var Te,Ee=be[Symbol.iterator]();!(xe=(Te=Ee.next()).done);xe=true){we.push(Te.value);if(Ae&&we.length===Ae)break}}catch(be){Se=true;ke=be}finally{try{!xe&&Ee.return&&Ee.return()}finally{if(Se)throw ke}}return we}return function(be,Ae){if(Array.isArray(be))return be;if(Symbol.iterator in Object(be))return n(be,Ae);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xe=(String.prototype.startsWith=String.prototype.startsWith||function(be){return this.indexOf(be)===0},String.prototype.padStart=String.prototype.padStart||function(Ae,we){var xe=this||be;while(xe.length<Ae)xe=we+xe;return xe},{cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"});function a(be){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;var we=Ae>0?be.toFixed(Ae).replace(/0+$/,"").replace(/\.$/,""):be.toString();return we||"0"}var Se=function(){function p(Ae,xe,Se,ke){s(this||be,p);var Te=this||be;function o(be){if(be.startsWith("hsl")){var Ae=be.match(/([\-\d\.e]+)/g).map(Number),xe=we(Ae,4),Se=xe[0],ke=xe[1],Ee=xe[2],Re=xe[3];Re===void 0&&(Re=1);Se/=360;ke/=100;Ee/=100;Te.hsla=[Se,ke,Ee,Re]}else if(be.startsWith("rgb")){var _e=be.match(/([\-\d\.e]+)/g).map(Number),$e=we(_e,4),Le=$e[0],Ne=$e[1],Me=$e[2],Be=$e[3];Be===void 0&&(Be=1);Te.rgba=[Le,Ne,Me,Be]}else be.startsWith("#")?Te.rgba=p.hexToRgb(be):Te.rgba=p.nameToRgb(be)||p.hexToRgb(be)}if(Ae===void 0);else if(Array.isArray(Ae))(this||be).rgba=Ae;else if(Se===void 0){var Ee=Ae&&""+Ae;Ee&&o(Ee.toLowerCase())}else(this||be).rgba=[Ae,xe,Se,ke===void 0?1:ke]}Ae(p,[{key:"printRGB",value:function e(Ae){var we=Ae?(this||be).rgba:(this||be).rgba.slice(0,3),xe=we.map((function(be,Ae){return a(be,Ae===3?3:0)}));return Ae?"rgba("+xe+")":"rgb("+xe+")"}},{key:"printHSL",value:function e(Ae){var we=[360,100,100,1],xe=["","%","%",""];var Se=Ae?(this||be).hsla:(this||be).hsla.slice(0,3),ke=Se.map((function(be,Ae){return a(be*we[Ae],Ae===3?3:1)+xe[Ae]}));return Ae?"hsla("+ke+")":"hsl("+ke+")"}},{key:"printHex",value:function e(Ae){var we=(this||be).hex;return Ae?we:we.substring(0,7)}},{key:"rgba",get:function e(){if((this||be)._rgba)return(this||be)._rgba;if(!(this||be)._hsla)throw new Error("No color is set");return(this||be)._rgba=p.hslToRgb((this||be)._hsla)},set:function e(Ae){Ae.length===3&&(Ae[3]=1);(this||be)._rgba=Ae;(this||be)._hsla=null}},{key:"rgbString",get:function e(){return this.printRGB()}},{key:"rgbaString",get:function e(){return this.printRGB(true)}},{key:"hsla",get:function e(){if((this||be)._hsla)return(this||be)._hsla;if(!(this||be)._rgba)throw new Error("No color is set");return(this||be)._hsla=p.rgbToHsl((this||be)._rgba)},set:function e(Ae){Ae.length===3&&(Ae[3]=1);(this||be)._hsla=Ae;(this||be)._rgba=null}},{key:"hslString",get:function e(){return this.printHSL()}},{key:"hslaString",get:function e(){return this.printHSL(true)}},{key:"hex",get:function e(){var Ae=(this||be).rgba,we=Ae.map((function(be,Ae){return Ae<3?be.toString(16):Math.round(be*255).toString(16)}));return"#"+we.map((function(be){return be.padStart(2,"0")})).join("")},set:function e(Ae){(this||be).rgba=p.hexToRgb(Ae)}}],[{key:"hexToRgb",value:function e(be){var Ae=(be.startsWith("#")?be.slice(1):be).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!Ae.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+be);var we=Ae.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(be){return parseInt(be,16)}));we[3]=we[3]/255;return we}},{key:"nameToRgb",value:function e(be){var Ae=be.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),we=xe[Ae];return we===void 0?we:p.hexToRgb(we.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function e(be){var Ae=we(be,4),xe=Ae[0],Se=Ae[1],ke=Ae[2],Te=Ae[3];xe/=255;Se/=255;ke/=255;var Ee=Math.max(xe,Se,ke),Re=Math.min(xe,Se,ke);var _e=void 0,$e=void 0,Le=(Ee+Re)/2;if(Ee===Re)_e=$e=0;else{var Ne=Ee-Re;$e=Le>.5?Ne/(2-Ee-Re):Ne/(Ee+Re);switch(Ee){case xe:_e=(Se-ke)/Ne+(Se<ke?6:0);break;case Se:_e=(ke-xe)/Ne+2;break;case ke:_e=(xe-Se)/Ne+4;break}_e/=6}return[_e,$e,Le,Te]}},{key:"hslToRgb",value:function e(be){var Ae=we(be,4),xe=Ae[0],Se=Ae[1],ke=Ae[2],Te=Ae[3];var Ee=void 0,Re=void 0,_e=void 0;if(Se===0)Ee=Re=_e=ke;else{var $e=function e(be,Ae,we){we<0&&(we+=1);we>1&&(we-=1);return we<1/6?be+6*(Ae-be)*we:we<.5?Ae:we<2/3?be+(Ae-be)*(2/3-we)*6:be};var Le=ke<.5?ke*(1+Se):ke+Se-ke*Se,Ne=2*ke-Le;Ee=$e(Ne,Le,xe+1/3);Re=$e(Ne,Le,xe);_e=$e(Ne,Le,xe-1/3)}var Me=[Ee*255,Re*255,_e*255].map(Math.round);Me[3]=Te;return Me}}]);return p}(),ke=function(){function r(){s(this||be,r);(this||be)._events=[]}Ae(r,[{key:"add",value:function e(Ae,we,xe){Ae.addEventListener(we,xe,false);(this||be)._events.push({target:Ae,type:we,handler:xe})}},{key:"remove",value:function e(Ae,we,xe){(this||be)._events=(this||be)._events.filter((function(be){var Se=true;Ae&&Ae!==be.target&&(Se=false);we&&we!==be.type&&(Se=false);xe&&xe!==be.handler&&(Se=false);Se&&r._doRemove(be.target,be.type,be.handler);return!Se}))}},{key:"destroy",value:function e(){(this||be)._events.forEach((function(be){return r._doRemove(be.target,be.type,be.handler)}));(this||be)._events=[]}}],[{key:"_doRemove",value:function e(be,Ae,we){be.removeEventListener(Ae,we,false)}}]);return r}();function l(be){var Ae=document.createElement("div");Ae.innerHTML=be;return Ae.firstElementChild}function c(be,Ae,we){var xe=false;function g(be,Ae,we){return Math.max(Ae,Math.min(be,we))}function i(be,Se,ke){ke&&(xe=true);if(xe){be.preventDefault();var Te=Ae.getBoundingClientRect(),Ee=Te.width,Re=Te.height,_e=Se.clientX,$e=Se.clientY;var Le=g(_e-Te.left,0,Ee),Ne=g($e-Te.top,0,Re);we(Le/Ee,Ne/Re)}}function t(be,Ae){var we=be.buttons===void 0?be.which:be.buttons;we===1?i(be,be,Ae):xe=false}function n(be,Ae){be.touches.length===1?i(be,be.touches[0],Ae):xe=false}be.add(Ae,"mousedown",(function(be){t(be,true)}));be.add(Ae,"touchstart",(function(be){n(be,true)}));be.add(window,"mousemove",t);be.add(Ae,"touchmove",n);be.add(window,"mouseup",(function(be){xe=false}));be.add(Ae,"touchend",(function(be){xe=false}));be.add(Ae,"touchcancel",(function(be){xe=false}))}var Te="linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em",Ee=360,Re="keydown",_e="mousedown",$e="focusin";function w(be,Ae){return(Ae||document).querySelector(be)}function g(be){be.preventDefault();be.stopPropagation()}function p(be,Ae,we,xe,Se){be.add(Ae,Re,(function(be){if(we.indexOf(be.key)>=0){Se&&g(be);xe(be)}}))}var Le=function(){function t(Ae){s(this||be,t);(this||be).settings={popup:"right",layout:"default",alpha:true,editor:true,editorFormat:"hex",cancelButton:false,defaultColor:"#0cf"};(this||be)._events=new ke;(this||be).onChange=null;(this||be).onDone=null;(this||be).onOpen=null;(this||be).onClose=null;this.setOptions(Ae)}Ae(t,[{key:"setOptions",value:function e(Ae){var we=this||be;if(Ae){var xe=(this||be).settings;if(Ae instanceof HTMLElement)xe.parent=Ae;else{if(xe.parent&&Ae.parent&&xe.parent!==Ae.parent){(this||be)._events.remove(xe.parent);(this||be)._popupInited=false}o(Ae,xe);Ae.onChange&&((this||be).onChange=Ae.onChange);Ae.onDone&&((this||be).onDone=Ae.onDone);Ae.onOpen&&((this||be).onOpen=Ae.onOpen);Ae.onClose&&((this||be).onClose=Ae.onClose);var Se=Ae.color||Ae.colour;Se&&this._setColor(Se)}var ke=xe.parent;if(ke&&xe.popup&&!(this||be)._popupInited){var Te=function e(be){return we.openHandler(be)};(this||be)._events.add(ke,"click",Te);p((this||be)._events,ke,[" ","Spacebar","Enter"],Te);(this||be)._popupInited=true}else Ae.parent&&!xe.popup&&this.show()}function o(be,Ae,we){for(var xe in be)we&&we.indexOf(xe)>=0||(Ae[xe]=be[xe])}}},{key:"openHandler",value:function e(Ae){if(this.show()){Ae&&Ae.preventDefault();(this||be).settings.parent.style.pointerEvents="none";var we=Ae&&Ae.type===Re?(this||be)._domEdit:(this||be).domElement;setTimeout((function(){return we.focus()}),100);(this||be).onOpen&&this.onOpen((this||be).colour)}}},{key:"closeHandler",value:function e(Ae){var we=Ae&&Ae.type;var xe=false;if(Ae)if(we===_e||we===$e){var Se=((this||be).__containedEvent||0)+100;Ae.timeStamp>Se&&(xe=true)}else{g(Ae);xe=true}else xe=true;if(xe&&this.hide()){(this||be).settings.parent.style.pointerEvents="";we!==_e&&(this||be).settings.parent.focus();(this||be).onClose&&this.onClose((this||be).colour)}}},{key:"movePopup",value:function e(be,Ae){this.closeHandler();this.setOptions(be);Ae&&this.openHandler()}},{key:"setColor",value:function e(be,Ae){this._setColor(be,{silent:Ae})}},{key:"_setColor",value:function e(Ae,we){typeof Ae==="string"&&(Ae=Ae.trim());if(Ae){we=we||{};var xe=void 0;try{xe=new Se(Ae)}catch(e){if(we.failSilently)return;throw e}if(!(this||be).settings.alpha){var ke=xe.hsla;ke[3]=1;xe.hsla=ke}(this||be).colour=(this||be).color=xe;this._setHSLA(null,null,null,null,we)}}},{key:"setColour",value:function e(be,Ae){this.setColor(be,Ae)}},{key:"show",value:function e(){var Ae=(this||be).settings.parent;if(!Ae)return false;if((this||be).domElement){var we=this._toggleDOM(true);this._setPosition();return we}var xe=(this||be).settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>';var Se=l(xe);(this||be).domElement=Se;(this||be)._domH=w(".picker_hue",Se);(this||be)._domSL=w(".picker_sl",Se);(this||be)._domA=w(".picker_alpha",Se);(this||be)._domEdit=w(".picker_editor input",Se);(this||be)._domSample=w(".picker_sample",Se);(this||be)._domOkay=w(".picker_done button",Se);(this||be)._domCancel=w(".picker_cancel button",Se);Se.classList.add("layout_"+(this||be).settings.layout);(this||be).settings.alpha||Se.classList.add("no_alpha");(this||be).settings.editor||Se.classList.add("no_editor");(this||be).settings.cancelButton||Se.classList.add("no_cancel");this._ifPopup((function(){return Se.classList.add("popup")}));this._setPosition();(this||be).colour?this._updateUI():this._setColor((this||be).settings.defaultColor);this._bindEvents();return true}},{key:"hide",value:function e(){return this._toggleDOM(false)}},{key:"destroy",value:function e(){(this||be)._events.destroy();(this||be).domElement&&(this||be).settings.parent.removeChild((this||be).domElement)}},{key:"_bindEvents",value:function e(){var Ae=this||be;var we=this||be,xe=(this||be).domElement,Se=(this||be)._events;function s(be,Ae,we){Se.add(be,Ae,we)}s(xe,"click",(function(be){return be.preventDefault()}));c(Se,(this||be)._domH,(function(be,Ae){return we._setHSLA(be)}));c(Se,(this||be)._domSL,(function(be,Ae){return we._setHSLA(null,be,1-Ae)}));(this||be).settings.alpha&&c(Se,(this||be)._domA,(function(be,Ae){return we._setHSLA(null,null,null,1-Ae)}));var ke=(this||be)._domEdit;s(ke,"input",(function(Ae){we._setColor((this||be).value,{fromEditor:true,failSilently:true})}));s(ke,"focus",(function(Ae){var we=this||be;we.selectionStart===we.selectionEnd&&we.select()}));this._ifPopup((function(){var be=function e(be){return Ae.closeHandler(be)};s(window,_e,be);s(window,$e,be);p(Se,xe,["Esc","Escape"],be);var we=function e(be){Ae.__containedEvent=be.timeStamp};s(xe,_e,we);s(xe,$e,we);s(Ae._domCancel,"click",be)}));var Te=function e(be){Ae._ifPopup((function(){return Ae.closeHandler(be)}));Ae.onDone&&Ae.onDone(Ae.colour)};s((this||be)._domOkay,"click",Te);p(Se,xe,["Enter"],Te)}},{key:"_setPosition",value:function e(){var Ae=(this||be).settings.parent,we=(this||be).domElement;Ae!==we.parentNode&&Ae.appendChild(we);this._ifPopup((function(be){getComputedStyle(Ae).position==="static"&&(Ae.style.position="relative");var xe=be===true?"popup_right":"popup_"+be;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(be){be===xe?we.classList.add(be):we.classList.remove(be)}));we.classList.add(xe)}))}},{key:"_setHSLA",value:function e(Ae,we,xe,Se,ke){ke=ke||{};var Te=(this||be).colour,Ee=Te.hsla;[Ae,we,xe,Se].forEach((function(be,Ae){(be||be===0)&&(Ee[Ae]=be)}));Te.hsla=Ee;this._updateUI(ke);(this||be).onChange&&!ke.silent&&this.onChange(Te)}},{key:"_updateUI",value:function e(Ae){if((this||be).domElement){Ae=Ae||{};var we=(this||be).colour,xe=we.hsla,Se="hsl("+xe[0]*Ee+", 100%, 50%)",ke=we.hslString,Re=we.hslaString;var _e=(this||be)._domH,$e=(this||be)._domSL,Le=(this||be)._domA,Ne=w(".picker_selector",_e),Me=w(".picker_selector",$e),Be=w(".picker_selector",Le);g(_e,Ne,xe[0]);(this||be)._domSL.style.backgroundColor=(this||be)._domH.style.color=Se;g($e,Me,xe[1]);p($e,Me,1-xe[2]);$e.style.color=ke;p(Le,Be,1-xe[3]);var We=ke,Pe=We.replace("hsl","hsla").replace(")",", 0)"),He="linear-gradient("+[We,Pe]+")";(this||be)._domA.style.background=He+", "+Te;if(!Ae.fromEditor){var Ge=(this||be).settings.editorFormat,Fe=(this||be).settings.alpha;var Oe=void 0;switch(Ge){case"rgb":Oe=we.printRGB(Fe);break;case"hsl":Oe=we.printHSL(Fe);break;default:Oe=we.printHex(Fe)}(this||be)._domEdit.value=Oe}(this||be)._domSample.style.color=Re}function g(be,Ae,we){Ae.style.left=we*100+"%"}function p(be,Ae,we){Ae.style.top=we*100+"%"}}},{key:"_ifPopup",value:function e(Ae,we){(this||be).settings.parent&&(this||be).settings.popup?Ae&&Ae((this||be).settings.popup):we&&we()}},{key:"_toggleDOM",value:function e(Ae){var we=(this||be).domElement;if(!we)return false;var xe=Ae?"":"none",Se=we.style.display!==xe;Se&&(we.style.display=xe);return Se}}]);return t}(),Ne=document.createElement("style");return Ne.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Ne),Le.StyleElement=Ne,Le}()},9857:function(be,Ae,we){we.d(Ae,{m:function(){return C}});class b extends Error{constructor(be,Ae){super(be+" at position "+Ae),this.position=Ae}}const xe=92,Se=47,ke=42,Te=123,Ee=125,Re=91,_e=93,$e=40,Le=41,Ne=32,Me=10,Be=9,We=13,Pe=8,He=12,Ge=34,Fe=43,Oe=45,Ve=39,Ze=48,De=57,je=44,Ke=46,ze=58,Xe=59,Ye=65,Je=97,Ue=69,Qe=101,qe=70,et=102,tt=160,nt=8192,it=8202,ot=8239,rt=8287,st=12288,at=8220,lt=8221,ct=8216,ht=8217,dt=96,ut=180;function H(be){return be>=Ze&&be<=De}function G(be){return gt.test(be)}const gt=/^[,:[\]/{}()\n+]$/;function F(be){return pt.test(be)||be&&V(be.charCodeAt(0))}const pt=/^[[{\w-]$/;function O(be){return be===Ne||be===Me||be===Be||be===We}function V(be){return Z(be)||j(be)}function Z(be){return be===Ge||be===at||be===lt}function D(be){return be===Ge}function j(be){return be===Ve||be===ct||be===ht||be===dt||be===ut}function K(be){return be===Ve}function z(be,Ae,we){we=2<arguments.length&&void 0!==we&&we,Ae=be.lastIndexOf(Ae);return-1!==Ae?be.substring(0,Ae)+(we?"":be.substring(Ae+1)):be}function X(be,Ae){let we=be.length;if(!O(be.charCodeAt(we-1)))return be+Ae;for(;O(be.charCodeAt(we-1));)we--;return be.substring(0,we)+Ae+be.substring(we)}const mt={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},ft={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function C(be){let Ae=0,we="";if(!r())throw new b("Unexpected end of json string",be.length);var Ne=s(je);if(Ne&&f(),F(be[Ae])&&/[,\n][ \t\r]*$/.test(we)){Ne||(we=X(we,","));{let be=!0,Ae=!0;for(;Ae;)be?be=!1:s(je)||(we=X(we,",")),Ae=r();Ae||(we=z(we,","));we="[\n".concat(we,"\n]")}}else Ne&&(we=z(we,","));for(;be.charCodeAt(Ae)===Ee||be.charCodeAt(Ae)===_e;)Ae++,f();if(Ae>=be.length)return we;throw new b("Unexpected character "+JSON.stringify(be[Ae]),Ae);function r(){f();var xe=function(){if(be.charCodeAt(Ae)!==Te)return!1;{we+="{",Ae++,f();let $e=!0;for(;Ae<be.length&&be.charCodeAt(Ae)!==Ee;){let Le;if($e?(Le=!0,$e=!1):((Le=s(je))||(we=X(we,",")),f()),!(y()||a())){be.charCodeAt(Ae)===Ee||be.charCodeAt(Ae)===Te||be.charCodeAt(Ae)===_e||be.charCodeAt(Ae)===Re||void 0===be[Ae]?we=z(we,","):function(){throw new b("Object key expected",Ae)}();break}f();var xe=s(ze),Se=Ae>=be.length,ke=(xe||(F(be[Ae])||Se?we=X(we,":"):l()),r());ke||(xe||Se?we+="null":l())}return be.charCodeAt(Ae)===Ee?(we+="}",Ae++):we=X(we,"}"),!0}}()||function(){if(be.charCodeAt(Ae)!==Re)return!1;{we+="[",Ae++,f();let Se=!0;for(;Ae<be.length&&be.charCodeAt(Ae)!==_e;){Se?Se=!1:s(je)||(we=X(we,","));var xe=r();if(!xe){we=z(we,",");break}}return be.charCodeAt(Ae)===_e?(we+="]",Ae++):we=X(we,"]"),!0}}()||y()||function(){var xe=Ae;if(be.charCodeAt(Ae)===Oe){if(Ae++,i())return o(xe),!0;if(!H(be.charCodeAt(Ae)))return Ae=xe,!1}for(;H(be.charCodeAt(Ae));)Ae++;if(be.charCodeAt(Ae)===Ke){if(Ae++,i())return o(xe),!0;if(!H(be.charCodeAt(Ae)))return Ae=xe,!1;for(;H(be.charCodeAt(Ae));)Ae++}if(be.charCodeAt(Ae)===Qe||be.charCodeAt(Ae)===Ue){if(Ae++,be.charCodeAt(Ae)!==Oe&&be.charCodeAt(Ae)!==Fe||Ae++,i())return o(xe),!0;if(!H(be.charCodeAt(Ae)))return Ae=xe,!1;for(;H(be.charCodeAt(Ae));)Ae++}var Se,ke;if(i()){if(Ae>xe)return Se=be.slice(xe,Ae),ke=/^0\d/.test(Se),we+=ke?'"'.concat(Se,'"'):Se,!0}else Ae=xe;return!1}()||n("true","true")||n("false","false")||n("null","null")||n("True","true")||n("False","false")||n("None","null")||a();return f(),xe}function f(){Ae;let we=t();for(;we=(we=function(){if(be.charCodeAt(Ae)===Se&&be.charCodeAt(Ae+1)===ke){for(;Ae<be.length&&!function(be,Ae){return"*"===be[Ae]&&"/"===be[Ae+1]}(be,Ae);)Ae++;Ae+=2}else{if(be.charCodeAt(Ae)!==Se||be.charCodeAt(Ae+1)!==Se)return!1;for(;Ae<be.length&&be.charCodeAt(Ae)!==Me;)Ae++}return!0}())&&t(););Ae}function t(){let xe="";for(var Se,ke;(Se=O(be.charCodeAt(Ae)))||(ke=be.charCodeAt(Ae))===tt||ke>=nt&&ke<=it||ke===ot||ke===rt||ke===st;)xe+=Se?be[Ae]:" ",Ae++;return 0<xe.length&&(we+=xe,!0)}function s(xe){return be.charCodeAt(Ae)===xe&&(we+=be[Ae],Ae++,!0)}function C(){var we;we=xe,be.charCodeAt(Ae)===we&&Ae++}function y(Se){var ke,Te,Ee=0<arguments.length&&void 0!==Se&&Se;let Re=be.charCodeAt(Ae)===xe;if(Re&&(Ae++,Re=!0),V(be.charCodeAt(Ae))){var _e=D(be.charCodeAt(Ae))?D:K(be.charCodeAt(Ae))?K:j(be.charCodeAt(Ae))?j:Z,$e=Ae,Le=we.length;let Se='"';for(Ae++;;){if(Ae>=be.length)return Ne=I(Ae-1),!Ee&&G(be.charAt(Ne))?(Ae=$e,we=we.substring(0,Le),y(!0)):(Se=X(Se,'"'),we+=Se,!0);if(_e(be.charCodeAt(Ae))){var Ne=Ae,Fe=Se.length;if(Se+='"',Ae++,we+=Se,f(),Ee||Ae>=be.length||G(be.charAt(Ae))||V(be.charCodeAt(Ae))||H(be.charCodeAt(Ae)))return v(),!0;if(G(be.charAt(I(Ne-1))))return Ae=$e,we=we.substring(0,Le),y(!0);we=we.substring(0,Le),Ae=Ne+1,Se=Se.substring(0,Fe)+"\\"+Se.substring(Fe)}else{if(Ee&&G(be[Ae]))return Se=X(Se,'"'),we+=Se,v(),!0;if(be.charCodeAt(Ae)===xe){Fe=be.charAt(Ae+1);if(void 0!==ft[Fe])Se+=be.slice(Ae,Ae+2),Ae+=2;else if("u"===Fe){let we=2;for(;we<6&&((Te=be.charCodeAt(Ae+we))>=Ze&&Te<=De||Te>=Ye&&Te<=qe||Te>=Je&&Te<=et);)we++;if(6===we)Se+=be.slice(Ae,Ae+6),Ae+=6;else{if(!(Ae+we>=be.length))throw Oe=void 0,Oe=be.slice(Ae,Ae+6),new b('Invalid unicode character "'.concat(Oe,'"'),Ae);Ae=be.length}}else Se+=Fe,Ae+=2}else{var Oe=be.charAt(Ae),Ve=be.charCodeAt(Ae);if(Ve===Ge&&be.charCodeAt(Ae-1)!==xe)Se+="\\"+Oe;else if((ke=Ve)===Me||ke===We||ke===Be||ke===Pe||ke===He)Se+=mt[Oe];else{if(!(32<=(ke=Ve)&&ke<=1114111))throw Ve=void 0,Ve=Oe,new b("Invalid character "+JSON.stringify(Ve),Ae);Se+=Oe}Ae++}}Re&&C()}}return!1}function v(){let xe=!1;for(f();be.charCodeAt(Ae)===Fe;){xe=!0,Ae++,f();var Se=(we=z(we,'"',!0)).length,ke=y();we=ke?(ke=we,Se,Te=1,ke.substring(0,Se)+ke.substring(Se+Te)):X(we,'"')}var Te;xe}function n(xe,Se){return be.slice(Ae,Ae+xe.length)===xe&&(we+=Se,Ae+=xe.length,!0)}function a(){for(var xe,Se=Ae;Ae<be.length&&(!G(xe=be[Ae])||"/"===xe)&&!V(be.charCodeAt(Ae));)Ae++;if(Ae>Se){if(be.charCodeAt(Ae)===$e)Ae++,r(),be.charCodeAt(Ae)===Le&&(Ae++,be.charCodeAt(Ae)===Xe)&&Ae++;else{for(;O(be.charCodeAt(Ae-1))&&0<Ae;)Ae--;Se=be.slice(Se,Ae);we+="undefined"===Se?"null":JSON.stringify(Se),be.charCodeAt(Ae)===Ge&&Ae++}return!0}}function I(Ae){let we=Ae;for(;0<we&&O(be.charCodeAt(we));)we--;return we}function i(){return Ae>=be.length||G(be[Ae])||O(be.charCodeAt(Ae))}function o(xe){we+=be.slice(xe,Ae)+"0"}function l(){throw new b("Colon expected",Ae)}}},3420:function(be){be.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},5207:function(be){be.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},6801:function(be){be.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},8198:function(be){be.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},we={},i.amdD=function(){throw new Error("define cannot be used indirect")},i.n=function(be){var Ae=be&&be.__esModule?function(){return be.default}:function(){return be};return i.d(Ae,{a:Ae}),Ae},i.d=function(be,Ae){for(var we in Ae)i.o(Ae,we)&&!i.o(be,we)&&Object.defineProperty(be,we,{enumerable:!0,get:Ae[we]})},i.o=function(be,Ae){return Object.prototype.hasOwnProperty.call(be,Ae)},i.r=function(be){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(be,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(be,"__esModule",{value:!0})},i.nmd=function(be){return be.paths=[],be.children||(be.children=[]),be},i(1346);function i(be){var xe=we[be];return void 0!==xe||(xe=we[be]={id:be,loaded:!1,exports:{}},Ae[be].call(xe.exports,xe,xe.exports,i),xe.loaded=!0),xe.exports}var Ae,we}));var we=Ae;const xe=Ae.JSONEditor;export{xe as JSONEditor,we as default};

